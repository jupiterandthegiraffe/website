var PgBootstrapHelpers=function(h,g,m){"function"!=typeof h.reqVersion&&(h.reqVersion=function(){return!0}),h.framework_prefix="bs"+m,h.container_selector=".container,.container-fluid",h.grid_container_selector="row",h.style="",h.skipVersion=h.skipVersion||function(){return!0};function C(e){var n;return e?1<(n=e.split("-")).length?n[n.length-1]:"":null}function u(e,n,a,i,s,r,t){var o=s[i+r];return o?e+n+("xs"!=a?"-"+a:"")+"-"+(t?"n":"")+C(o):null}function v(e,n,a){var o,l,c,d,i,s=$(e.target).closest(".change-all-icon");s.toggleClass("active"),s.hasClass("active")&&(s=s.data("size"),e=a.obj,o=n,l=s,n=a.control_id,c=a.values,d=n+"."+l+"."+o,i=pinegrow.getCollectionForElement(e),pinegrow.makeChanges(i,"Set spacing",function(){i.forEachElement(function(e){for(var n=!1,a=1;a<_.length;a++){for(var i=F(_[a]),s=0;s<y.length;s++){var r=!1,t=!1;if(currClass=T(o,i,l,y[s],t),r=e.hasClass(currClass)||(currClass=T(o,i,l,y[s],t=!0),e.hasClass(currClass))?!0:r){e.removeClass(currClass);r=o+("xs"!=l?"-"+l:"")+"-"+(t?"n":"")+y[s];e.addClass(r),c[d]=r,E(e,o,l,d,c,i),n=!0;break}}if(n)break}})}))}function b(e,n,a){return"g"+e+n+"-"+a}function p(e,n){return e+"-"+n}function f(e,n){return n?n.replace(e+"-",""):null}function s(f){function e(e,t){function a(e,n){var a=n,i=chroma.contrast(a,"#ffffff")<4.5?"#000":"#fff";return`<span class="tw-dropdown-menu-color" style="background:${a};color:${i};">${e}</span>`}t=t||[e];var s,r,o,l,n=[{type:"header",label:"Swap color..."}],c=[],d={},i=g.bsGetBackgroundColorOptions(""),u=pinegrow.getSelectedPage(),p=5===m?"--bs-":"--";return i.forEach(function(e){var n=e.key.replace("bg-","");c.push(n),d[n]=u.getCSSVariableValue(p+n)||g.bsGetBootstrapColor(n)}),s=t,o=[],l={},r=["white","light","muted","dark","primary","secondary","success","info","warning","danger"],f.walkSelfAndChildren(function(e){return e.isElement&&e.getClasses().slice(0).forEach(function(e){for(var n=0;n<s.length;n++)for(var a=s[n],i=0;i<r.length;i++)if(0<=e.indexOf(a+"-"+r[i])&&o.indexOf(r[i])<0&&!l[r[i]]){o.push(r[i]),l[r[i]]=!0;break}}),!0}),o.forEach(function(i){var e=[{type:"header",label:"...with color"}];c.forEach(function(n){e.push({label:a(n,d[n]),action:function(){var e,a,s,r;e=v,a=t,s=i,r=n,pinegrow.makeChanges(e,"Swap colors",function(){e.forEachElement(function(n){a.forEach(function(e){var a=e+"-"+s,i=e+"-"+r;n.walkSelfAndChildren(function(n){return n.isElement&&n.getClasses().forEach(function(e){0<=e.indexOf(a)&&(n.removeClass(e),e=e.replace(a,i),n.addClass(e))}),!0})})})}),pinegrow.selectedElements.reselect()}})}),n.push({label:a(i,d[i]),submenu:e})}),n}var v=new PgCollection(f);return[{type:"header",label:"Swap colors"},{label:"Text",submenu:e("text",["text","link"])},{label:"Background",submenu:e("bg",["bg","btn","alert","table","btn-outline","badge","list-group-item"])},{label:"Borders",submenu:e("border",["border"])},{label:"Background & Borders",submenu:e("bg",["bg","border","btn","alert","table","btn-outline","badge","list-group-item"])},{label:"All",submenu:e("all",["text","link","bg","border","btn","alert","table","btn-outline","badge","list-group-item"])}]}var d=new PgFrameworkHelpers("Bootstrap",h,g,m,PgBSMenuPointColumnSize),a=(d.getCodeForLarge=function(){var e;switch(this.version){case 5:case 4:e='<pgdiv class="col-1 pinegrow-ui-helper"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>';break;case 3:e='<pgdiv class="col-xs-1 pinegrow-ui-helper"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>'}return e},d.getCodeForSmall=function(){var e;switch(this.version){case 5:case 4:e='<pgdiv class="col-1 pinegrow-ui-helper d-block d-sm-none" style="padding-left:0;padding-right:0;"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>';break;case 3:e='<pgdiv class="col-xs-1 pinegrow-ui-helper visible-xs visible-xs-block" style="padding-left:0;padding-right:0;"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>'}return e},d.getClassForSize=function(e,n,a){return null==a?a="":a+="",n+(e==h.size_for_all?"":"-"+e)+(a.length?"-"+a:"")},d.getColumnSizes=function(e){var i=new RegExp("^col(\\-("+h.sizes.join("|")+"))?(\\-([0-9]+|auto))?"),s={};return(e instanceof pgParserNode?e.getClasses():e.classList).forEach(function(e){var n,a=e.match(i);a&&(n=a[2]||h.size_for_all,a=a[4]||"",s[n]=a)}),s},new PgDelayedTasks),w=(d.executeScriptInPageDelayed=function(e,n){a.run("runCode"+n+e.uid,function(){pinegrow.executeScriptInPage(e,n)},1e3)},d.makeFieldLabelForSize=function(e,n){return'<span class="sc-label">'+e+'</span><span class="sc-device-size">'+n+"</span>"},d.getDevicesControlFactory=function(a,e,t){function n(n){h.sizes.forEach(function(e){n(e,e==h.size_for_all?"":"-"+e,h.prefix+a+"."+e)})}return function(){var r=new PgCustomPropertyControl(h.prefix+a);return r.onDefine=function(){n(function(e,n,a){var i=t(e,n);r.registerInputField(a,i)})},r.onShow=function(){var s=$("<div/>",{class:"sc-device-control"});return $('<div class="sc-device-control-title">'+e+"</div>").appendTo(s),n(function(e,n,a){var i=t(e,n);r.showInputField(s,a,i).$field.attr("data-device-size",e)}),s},r.onSetValues=function(e){var s=!0;n(function(e,n,a){var i=r.get$Field(a);r.values[a]?(i.addClass("sc-has-value"),e!=h.size_for_all&&(s=!1)):i.removeClass("sc-has-value")}),s?r.$element.addClass("sc-none-or-all"):r.$element.removeClass("sc-none-or-all")},r}},{}),_=(d.onSectionWithDevicesControlsShown=function(a,r){var i,s=d,t={},o=!0,e=(h.sizes.forEach(function(e){w[a.section_key]&&w[a.section_key][e]&&(t[e]=!0)}),r.$content.get(0).querySelectorAll("[data-device-size]")),n=(e.forEach(function(e){var n,a=e.getAttribute("data-device-size");t[a]||(n=e.classList.contains("sc-has-value"),t[a]=n,o=o&&!n)}),o&&(t[h.size_for_all]=!0),e.forEach(function(e){var n=e.getAttribute("data-device-size"),a=e.getAttribute("data-device-display")||"flex";t[n]?pgShow(e,a):pgHide(e)}),'<ul class="sc-device-selector">'),l=(h.sizes.forEach(function(e){n+='<li data-size="'+e+'" class="'+(t[e]?"sc-active":"")+'">'+e+"</li>"}),n+="</ul>",$(n)),c=(r.$title.append(l),l.on("click","li",function(e){e.preventDefault(),e.stopPropagation();var i=$(this),n=i.attr("data-size"),s=i.hasClass("sc-active");t[n]=s=!s,s||1!=l.find("li.sc-active").length?(w[a.section_key]||(w[a.section_key]={}),w[a.section_key][n]=s,r.$content.find('[data-device-size="'+n+'"]').each(function(e,n){var a=n.getAttribute("data-device-display")||"flex";s?(pg$Show($(n),a),i.addClass("sc-active")):(pg$Hide($(n)),i.removeClass("sc-active"))}),c()):pinegrow.showQuickError("At least one device size must be active.")}),function(){var n=0,a=!1,e=(h.sizes.forEach(function(e){t[e]&&(n++,e==h.size_for_all)&&(a=!0)}),r.$content.find(".sc-device-control"));1<n?e.removeClass("sc-single-size"):e.addClass("sc-single-size"),a?e.addClass("sc-for-all-shown"):e.removeClass("sc-for-all-shown")});i=pinegrow.getSelectedPage(),e.forEach(function(e){var n=e.getAttribute("data-device-size");s.isSizeVisible(i,n)?e.classList.remove("sc-size-not-visible"):e.classList.add("sc-size-not-visible")}),l.children().each(function(e,n){var a=n.getAttribute("data-size");s.isSizeVisible(i,a)?n.classList.remove("sc-size-not-visible"):n.classList.add("sc-size-not-visible")}),c()},["","x","y","t","r","b","l"]),y=["auto",0,1,2,3,4,5],l=5,k={},z={},e=["","x","y"],o=5,x={},S={directions:["top","start","end","bottom"],fields:{},activeBtn:null,skipCheckingChanges:!1},F=function(e){return h.reqVersion(5)&&("l"==e?e="s":"r"==e&&(e="e")),e},E=function(e,n,a,i,s,r,t){for(var o=3;o<_.length;o++){var l,c,d=F(_[o]);e.removeClass(s[i+d]),d!=r&&(l=k[a][n+d],c=u(n,d,a,i,s,"",t),s[i+d]=c,l.setValue(c))}},T=function(e,n,a,i,s){return null==i?null:e+n+("xs"!=a?"-"+a:"")+"-"+(s?"n":"")+i};d.getDevicesMarginAndPaddingControlFactory=function(a,f){function n(n){h.sizes.forEach(function(e){n(e,e==h.size_for_all?"":"-"+e,h.prefix+a+"."+e)})}var o=["m","p"];return function(){function r(e,n,o){for(var a=["p","m"],i=["t","r","l","b"],s=0;s<a.length;s++){var r=a[s],t=function(e){for(var n=o+"."+e,a=["","x","y"],i=[],s=0;s<a.length;s++){var r=a[s],t=m.values[n+r];t&&(t=t.split("-"),i.push({direction:r,value:t[t.length-1]}))}return 0<i.length?i:null}(r),l=z[e][r];if(t&&0<t.length)for(var c=0;c<t.length;c++){for(var d=t[c],u=d.value,p=d.direction,f=0;f<i.length;f++){var v,g,h=F(i[f]);!function(e,n){if(""==n)return!0;if("x"==n){if(-1<[F("r"),F("l")].indexOf(e))return!0}else if("y"==n&&-1<[F("t"),F("b")].indexOf(e))return!0;return!1}(h,p)||m.values[g=o+"."+r+h]||(v=k[e][r+h],m.values[g]=g=r+h+(n?"-"+n:"")+"-"+u,v.setValue(g))}if(""==d.direction){l.addClass("active");break}}else l.removeClass("active")}}var m=new PgCustomPropertyControl(h.prefix+a);return m.onDefine=function(){n(function(e,n,a){for(var i=0;i<o.length;i++)for(var s=0;s<_.length;s++){var r=F(_[s]),t=f(e,o[i],r,n);m.registerInputField(a+"."+o[i]+r,t)}})},m.onShow=function(){var t,o,l,c,d,u=$('<div class="crsa-css-gui bs4-margin-and-padding"></div>'),p=this;return n(function(e,n,a){var i=$('<div class="margin-and-padding-container text-center" data-device-size="'+e+'"></div>').appendTo(u),s=($("<label/>",{class:"size-label"}).html('<span class="sc-device-size">'+e+"</span>").appendTo(i),k[e]={},z[e]={},t="m",o=F("t"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(i,d,l)).$field.addClass("crsa-field-margin-top crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,o=F("l"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(i,d,l)).$field.addClass("crsa-field-margin-left crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,$('<div class="margin-border"></div>').appendTo(i)),r=$('<div class="change-all-margin-icon change-all-icon">                                                <i class="icon-same"></i>                                            </div>').appendTo(s),r=((z[e]["m"]=r).data("size",e),r.on("click",function(e){v(e,"m",p)}),$('<div class="padding-container"></div>').appendTo(s)),s=(t="p",o=F("t"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(r,d,l)).$field.addClass("crsa-field-padding-top crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,o=F("l"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(r,d,l)).$field.addClass("crsa-field-padding-left crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,$('<div class="padding-border">                            <div class="change-all-padding-icon change-all-icon"><i class="icon-same"></i></div>                        </div>').appendTo(r).find("> .change-all-icon"));(z[e]["p"]=s).data("size",e),s.on("click",function(e){v(e,"p",p)}),o=F("r"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(r,d,l)).$field.addClass("crsa-field-padding-right crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,o=F("b"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(r,d,l)).$field.addClass("crsa-field-padding-bottom crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,t="m",o=F("r"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(i,d,l)).$field.addClass("crsa-field-margin-right crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c,o=F("b"),l=f(e,t,o,n),d=a+"."+t+o,(c=m.showInputField(i,d,l)).$field.addClass("crsa-field-margin-bottom crsa-small-input crsa-align-center-input crsa-inline-container"),k[e][t+o]=c}),u},m.onSetValues=function(e){var s=!0;n(function(e,n,a){r(e,n,a);var i=m.$element.find('> [data-device-size="'+e+'"]');!function(n){var a=["m","p"],i=["t","l","r","b"];for(let t=0;t<a.length;t++){var s=a[t];for(let e=0;e<i.length;e++){var r=F(i[e]);if(m.values[n+"."+s+r])return!0}}return!1}(a)?i.removeClass("sc-has-value"):(i.addClass("sc-has-value"),e!=h.size_for_all&&(s=!1))}),s?m.$element.addClass("sc-none-or-all"):m.$element.removeClass("sc-none-or-all")},m}},d.getSpacingControl=function(){return d.getDevicesMarginAndPaddingControlFactory("margin.padding",function(e,s,r,t){var o={type:"select",name:null,placeholder:r,show_empty:!0,options:function(){var e=s+r+t+"-",n=[];if(h.reqVersion(4.2)&&e.startsWith("m"))for(var a=1;a<=l;a++){var i=-1*a;n.push({key:e+"n"+a,name:i,num:i})}n.push({key:e+"auto",name:"Auto"});for(a=0;a<=l;a++)n.push({key:e+a,name:a,num:a});return n},action:"custom",can_make_change_action:"apply_class",draggable_list:!0,async_options_function:!0,fill_list_on_open:!0,preview_class:!0,on_preview_class:function(e,n,a,i){var s=o.get_value(e,n,i,o);o.set_value(e,a,i,s,"input",o)},more_prop:{size:e,type:s,direction:r},get_value:function(e,n,a,i){for(var s=i.options(),r=0;r<s.length;r++)if(e.hasClass(s[r].key))return s[r].key;var t=i.more_prop.size,o=i.more_prop.type,l=i.more_prop.direction;if(l&&"x"!=l&&"y"!=l){var c,d=h.prefix+"margin.padding."+t+"."+o;if(a[d])return c=u(o,l,t,d,a,""),a[d+l]=c;if(l==F("r")||l==F("l")){if(a[d+"x"])return c=u(o,l,t,d,a,"x"),a[d+l]=c}else if(l==F("t")||l==F("b"))if(a[d+"y"])return c=u(o,l,t,d,a,"y"),a[d+l]=c}return""},set_value:function(a,i,e,n,s,r){var t=r.options(),o=($.each(t,function(e,n){if(n.key==i)return!0;a.hasClass(n.key)&&a.removeClass(n.key)}),r.more_prop.size),l=r.more_prop.type,c=r.more_prop.direction,t=h.prefix+"margin.padding.";if(z[o][l].hasClass("active")||function(e,n,a,i,s){for(var r=C(s),t=!0,o=3;o<_.length;o++){var l=F(_[o]);if(l!=i)if(!e.hasClass(n+l+("xs"!=a?"-"+a:"")+"-"+r)){t=!1;break}}return t}(a,l,o,c,i)){var d=t+o+"."+l,u=T(l,"",o,C(n)),p=T(l,"",o,C(i));a.removeClass(u);for(var f=3;f<_.length;f++){var v=F(_[f]),g=C(v==c?n:i);a.removeClass(l+v+("xs"!=o?"-"+o:"")+"-"+g)}a.addClass(p),e[d]=p,E(a,l,o,d,e,c)}else{u=e[d=t+o+"."+l];e[d]="",a.removeClass(u);for(f=3;f<_.length;f++)(v=F(_[f]))!=c&&a.addClass(e[d+v]);a.addClass(i)}return i}};return o})},d.getDevicesRowGapControlFactory=function(a,u){function n(n){h.sizes.forEach(function(e){n(e,e==h.size_for_all?"":"-"+e,h.prefix+a+"."+e)})}var t=e,r=o;return function(){var d=new PgCustomPropertyControl(h.prefix+a);return d.onDefine=function(){n(function(e,n,a){for(var i=0;i<t.length;i++){var s=u(e,t[i],n),r=a+"."+t[i];d.registerInputField(r,s)}})},d.onShow=function(){var r,t,o,l,c=$('<div class="bs5-row-gap sc-device-control sc-single-size"></div>');$('<div class="sc-device-control-title">Gutter</div>').appendTo(c);return n(function(e,n,a){var i=$('<div class="row-gap-container" data-device-size="'+e+'"></div>').appendTo(c),i=($("<label/>",{class:"size-label"}).html('<span class="sc-label">Gutter</span><span class="sc-device-size">'+e+"</span>").appendTo(i),$('<div class="main-row-gap-container"></div>').appendTo(i)),i=(x[e]={},$('<div class="row-gap-fields-container"></div>').appendTo(i)),s=$("<div></div>").appendTo(i),s=(t=u(e,r="x",n),l=a+"."+r,(o=d.showInputField(s,l,t)).$field.addClass(""),x[e][r]=o,$("<div></div>").appendTo(i));t=u(e,r="y",n),l=a+"."+r,(o=d.showInputField(s,l,t)).$field.addClass(""),x[e][r]=o}),c},d.onSetValues=function(e){var s=!0;n(function(e,n,a){var i=d.$element.find('> [data-device-size="'+e+'"]');!function(e,n){for(var a=0;a<t.length;a++)for(var i=t[a],s=0;s<=r;s++)if(e.hasClass(b(i,n,s)))return!0;return!1}(d.obj,n)?i.removeClass("sc-has-value"):(i.addClass("sc-has-value"),e!=h.size_for_all&&(s=!1))}),s?d.$element.addClass("sc-none-or-all"):d.$element.removeClass("sc-none-or-all")},d}},d.getGappingControl=function(){return d.getDevicesRowGapControlFactory("row.gutter",function(e,a,i){var g=o;return{type:"select",name:null,placeholder:a,show_empty:!0,options:function(){for(var e=[],n=0;n<=g;n++)e.push({key:b(a,i,n),name:n,num:n});return e},action:"custom",async_options_function:!0,more_prop:{size:e,direction:a},get_value:function(e,n,a,i){for(var s=i.options(),r=0;r<s.length;r++)if(e.hasClass(s[r].key))return s[r].key;for(var t=i.more_prop.size,o=i.more_prop.direction,l=t==h.size_for_all?"":"-"+t,r=0;r<=g;r++){var c=b("",l,r);if(e.hasClass(c))return b(o,l,r)}return null},set_value:function(a,i,e,n,s,r){for(var t=r.options(),t=($.each(t,function(e,n){if(n.key==i)return!0;a.hasClass(n.key)&&a.removeClass(n.key)}),r.more_prop.size),o=r.more_prop.direction,l="x"===o?"y":"x",c=t==h.size_for_all?"":"-"+t,t=!0,d=0;d<=g;d++){var u=b("",c,d);a.hasClass(u)&&(a.removeClass(u),a.addClass(b(l,c,d)))}r=o,f=c;var p,f,o=(p=i)?p.replace("g"+r+f+"-",""):null,v=b(l,c,o);return a.hasClass(v)&&(a.removeClass(v),a.addClass(b("",c,o)),t=!1),t&&a.addClass(i),i}}})},d.getArrangeControlFactory=function(n,l){return function(){var d=S.directions,e=new PgCustomPropertyControl(h.prefix+n);return e.onDefine=function(){for(var e=0;e<d.length;e++){var n=d[e],a=h.prefix+"."+n;this.registerInputField(a,l(n))}},e.onShow=function(){for(var e=$('<div class="crsa-css-gui bs5-position"></div>'),n=$('<div class="position-container text-center"></div>').appendTo(e),a=0;a<d.length;a++){var i=d[a],s=h.prefix+"."+i,s=this.showInputField(n,s,l(i)),r=i;"start"==r?r="left":"end"==r&&(r="right"),(S.fields[i]=s).$field.addClass("crsa-field-"+r+" crsa-small-input crsa-align-center-input crsa-inline-container")}var t=$('<div class="position-overall-border"></div>').appendTo(n),o=($('<div class="position-padding-top"></div>').appendTo(t),$('<div class="position-padding-left"></div>').appendTo(t),$('<div class="position-border"></div>').appendTo(t));$('<div class="position-padding-right"></div>').appendTo(t),$('<div class="position-padding-bottom"></div>').appendTo(t);return(S.activeBtn=$('<div class="change-all-icon"><i class="icon-same"></i></div>').appendTo(o)).on("click",function(e){var n=e.target,n=$(n).closest(".change-all-icon");if(n.toggleClass("active"),n.hasClass("active"))for(var a=0;a<d.length;a++){var i=d[a],s=S.fields[i].getValue(),r=f(i,s);if(s){S.skipCheckingChanges=!0;for(var t=0;t<d.length;t++){var o=d[t],l=S.fields[i].getValue(),c=p(o,r);l!=c&&S.fields[o].setValue(c,!0)}S.skipCheckingChanges=!1;break}}}),e},e.onSetValues=function(){},e}},d.getArrangeControl=function(){return d.getArrangeControlFactory("arrange",function(e){var n=e+"-";return{type:"select",name:null,action:"apply_class",show_empty:!0,preview_class:!0,options:[{key:n+"0",name:"0"},{key:n+"50",name:"50"},{key:n+"100",name:"100"}],more_prop:{direction:e},on_changed:function(e,n,a,i,s){if(S.activeBtn.hasClass("active")&&!S.skipCheckingChanges){S.skipCheckingChanges=!0;for(var r=S.directions,t=s.more_prop.direction,o=0;o<r.length;o++){var l=r[o],c=f(t,a),d=S.fields[l].getValue(),c=p(l,c);d!=c&&S.fields[l].setValue(c,!0)}S.skipCheckingChanges=!1}}}})},d.init();return g.on_get_menu_commands=function(e,n,a,i){a.push({html:'<span class="tw-color-swap"><span class="span1"></span><span class="span2"></span></span>',tooltip:"Swap colors",action:function(e,n){var a=s(e);new CrsaContextMenu(a,n).showForElement(n,null,0)}})},d};