$(function(){$("body").on("pinegrow-ready",function(o,fe){function e(e){return fe.devTools.getCSSPropsInfoSection(e).re}function s(e,a,o,r){var l={left:[0,1,1,3],right:[0,1,1,1],top:[0,0,0,0],bottom:[0,0,2,2]},s=null;return e&&$.each(e,function(e,t){t=t&&(t.value||t);if(e==a+"-"+o)s=t;else if(e==a)if(r)s=t;else{var n=splitCssValue(t);if(0==n.length)return null;var i=null;n[n.length-1].match(/!important/i)&&(i=n.pop()),0<n.length&&n.length<=4&&(s=n[l[o][n.length-1]]),i&&(s=s+" "+i)}}),s}function ke(e,t){function n(e){0<(e=e.trim()||"").length&&i.push(e)}for(var i=[],a=0,o=0,r="";a<e.length;)e[a]==t&&0==o?(n(r),r=""):("("!=e[a]&&")"!=e[a]||o++,r+=e[a]),a++;return r=n(r),i}function O(e){if(!e)return{important:!1,tokens:[]};function t(e){return 0<(e=e.trim()||"").length&&a.push(e.trim()),""}for(var n=!1,i=((e=e.value||e).endsWith("!important")&&(n=!0,e=e.substr(0,e.length-10).trim()),[]),a=[],o=0,r=!1,l="";o<e.length;)","!=e[o]||r?(" "!=e[o]||r||(l=t(l)),"("==e[o]&&(r=!0),")"==e[o]&&(r=!1),l+=e[o]):(l=t(l),i.push(a),a=[]),o++;return l=t(l),i.push(a),a=[],{important:n,tokens:i}}function M(e){if(!e)return{important:!1,tokens:[]};function t(e){var t,n;0<e.length&&(t=u(s),n=c(e),i.push({key:t,values:n}))}for(var i=[],n=[],a=!1,o=(e.endsWith("!important")&&(a=!0,e=e.substr(0,e.length-10).trim()),0),r=!1,l="",s="",d="",u=function(e){return-1<e.indexOf("translate")?"translate":-1<e.indexOf("scale")?"scale":-1<e.indexOf("rotate")?"rotate":-1<e.indexOf("skew")?"skew":void 0},c=function(e){var t,n,i={};return 0<e.length&&(t=u(s),(n=s.replace(t,""))?1==n.length?i[n.toLowerCase()]=e[0]:"3d"==n.toLowerCase()&&("rotate"==t?(i["x"]=e[0],i["y"]=e[1],i["z"]=e[2],i["angle"]=e[3]):(i["x"]=e[0],i["y"]=e[1],i["z"]=e[2])):"rotate"==t?i["z"]=e[0]:"scale"==t?(i["x"]=e[0],i["y"]=e[0]):(i["x"]=e[0],i["y"]=e[1],i["z"]=e[2])),i};o<e.length;){if(","==e[o]&&r)n.push(l.trim()),l="";else if("("==e[o])s=l.trim(),l="",r=!0;else if(")"==e[o]){if(n.push(l.trim()),u(s)==u(d)){p=y=g=f=void 0;var p,m=i.length-1,h=n,f=c(h),g=i[m].values,y=!1;for(p in f)if(g[p]){y=!0;break}y?t(h):(f=$.extend({},f,g),i[m].values=f)}else t(n);n=[],d=s,s=l="",r=!1}else l+=e[o];o++}return{important:a,tokens:i}}function D(e){if(!e)return{important:!1,tokens:[]};function t(e){return 0<(e=e.trim()||"").length&&i.push(e.trim()),""}for(var n=[],i=[],a=!1,o=(e.endsWith("!important")&&(a=!0,e=e.substr(0,e.length-10).trim()),0),r=!1,l="";o<e.length;)","!=e[o]||r?(" "!=e[o]||r||(l=t(l)),"("==e[o]&&(r=!0),")"==e[o]&&(r=!1),l+=e[o]):(l=t(l),n.push(i),i=[]),o++;return l=t(l),n.push(i),i=[],{important:a,tokens:n}}function we(e){for(var t={width:"",color:"",style:""},n=0,i=["width","style","color"],a=[];n<e.length;)-1<i.indexOf("width")&&$.isNumeric(parseInt(e[n],10))?(t.width=e[n],i.splice(i.indexOf("width"),1)):-1<i.indexOf("style")&&-1<l.indexOf(e[n])?(t.style=e[n],i.splice(i.indexOf("style"),1)):-1<i.indexOf("color")&&isNaN(parseInt(e[n],10))&&e[n]&&(e[n].startsWith("#")||e[n].startsWith("rgb"))&&!e[n].startsWith("@")&&!e[n].startsWith("$")?(t.color=e[n],i.splice(i.indexOf("color"),1)):a.push(e[n]),n++;for(n=0;n<a.length;n++)t[i[0]]=a[n],i.splice(0,1);return t}function A(e,t,n,i,a,o){i[a]={};for(var r=t[a],l=0,s=["type","color","x"];l<r.length;){if(r[l]){var d=crsaGetNumberAndUnit(r[l]);if(-1<s.indexOf("type")&&-1<W.indexOf(r[l])){var u=r[l];"inset"==r[l]&&(u="inside"),i[a].type=n[e+"-type-"+a]=u,s=["color","x"]}else if(-1<s.indexOf("color")&&(!d||isNaN(d.number))){if(o&&r[l][0]==o)return i[a]={},i[a].text=n[e+"-"+a]=r.join(" "),!1;i[a].color=n[e+"-color-"+a]=r[l],s=["type","x"]}else if(-1<s.indexOf("x")&&d&&$.isNumeric(d.number))i[a].x=n[e+"-x-"+a]=d.text,s=["y"];else if(-1<s.indexOf("y")&&d&&$.isNumeric(d.number))i[a].y=n[e+"-y-"+a]=d.text,s=["blur","color","type"];else if(-1<s.indexOf("blur")&&d&&$.isNumeric(d.number))i[a].blur=n[e+"-blur-"+a]=d.text,s=["size","color","type"];else{if(!(-1<s.indexOf("size")&&d&&$.isNumeric(d.number)))return!1;i[a].size=n[e+"-size-"+a]=d.text,s=["color","type"]}}l++}i[a].type=n[e+"-type-"+a]=i[a].type||"outside";var c=H(e,i,a);return i[a].distance=n[e+"-distance-"+a]=c.distance,i[a].rotate=n[e+"-rotate-"+a]=c.deg,!0}function V(e,t,n,i,a,o){var r=[],l=0,s="";o&&(s=" !important");for(var d,u,c=0;c<a.length;c++)a[c].deleted||(d=!1,u=l,c!=i&&("none"==n[t+"-type-"+c]?r[l++]="none":("inside"==n[t+"-type-"+c]&&(r[l++]="inset"),a[c].x&&(r[l++]=a[c].x),a[c].y&&(r[l++]=a[c].y),a[c].blur&&(r[l++]=a[c].blur),a[c].size&&(r[l++]=a[c].size),a[c].color&&(r[l++]=a[c].color)),d=!0),d&&c+1<a.length&&u!=l&&(r[l++]=","));var p=r.length-1;","==r[p]&&r.splice(p,1),be(e,t,0<r.length?r.join(" ")+s:null),a[i].deleted=!0}function u(e,t,n,i,a,o){var r=[],l=0,s="";o&&(s=" !important");for(var d,u,c,p,m=0;m<b.length;m++)b[m].deleted||("type"==n&&m==a&&(d=$("#collapse-transform-"+m).find("> .panel-body"),U(d,i),b[m].type=i),b[m].text?r[l++]="text"==n&&a==m?i:b[m].text:(d="type"===n&&a===m?i:b[m].type,b[m][d]||(b[m][d]={}),"translate"===d?(c=b[m][d].x="translate-x"===n&&a===m?i:b[m][d].x,p=b[m][d].y="translate-y"===n&&a===m?i:b[m][d].y,u=b[m][d].z="translate-z"===n&&a===m?i:b[m][d].z,w(r,d,c,p,u)):"scale"===d?(c=b[m][d].x="scale-x"===n&&a===m?i:b[m][d].x,p=b[m][d].y="scale-y"===n&&a===m?i:b[m][d].y,u=b[m][d].z="scale-z"===n&&a===m?i:b[m][d].z,w(r,d,c,p,u)):"rotate"===d?(c=b[m][d].x="rotate-x"===n&&a===m?i:b[m][d].x,p=b[m][d].y="rotate-y"===n&&a===m?i:b[m][d].y,u=b[m][d].z="rotate-z"===n&&a===m?i:b[m][d].z,w(r,d,c,p,u)):"skew"===d&&(c=b[m][d].x="skew-x"===n&&a===m?i:b[m][d].x,p=b[m][d].y="skew-y"===n&&a===m?i:b[m][d].y,w(r,d,c,p,u))));return be(e,"transform",0<r.length?r.join(" ")+s:null),i}function x(e){var t=e.pgStylesheet,n=fe.pgPostCSSHelper.getNodeByIndices(t.getRootNode(),e.indices);return t.getPropValuePairFor(n)}function ge(e,t,n){return e||!t||!n}function ye(e,t){return e?-1<e.indexOf("!important")?{value:e.replace(/!important/,"").trim(),important:!0}:{value:e,important:t||!1}:{value:"",important:!1}}function n(e,o,t,r,l){var n="text";switch(o){case"color":n="color";break;case"repeat":case"attachment":case"origin":n="select";break;case"position":case"size":n="slider";break;case"image":n="image";break;case"position":case"size":n="slider";break;default:n="text"}var i={type:n,can_add_items:!0,name:e,style_input:!0,action:"custom",file_picker_use_image_menu:pgf.kids||!1,add_default_unit:"",get_value:function(e,t,n){var i=!1,a=("image"==o&&(a=n[t]&&n[t].value?n[t].value:n[t])&&!z.isGradient(a)&&(i=!0),J(n,o,i));return r&&r(),a},set_value:function(e,t,n,i,a){return K(e,o,t,n),l&&l(e,t,n,i,a),t}};return"repeat"==o&&(i["show_empty"]=!0,i["options"]=[{key:"repeat",name:"Repeat"},{key:"no-repeat",name:"No repeat"},{key:"repeat-x",name:"Repeat X"},{key:"repeat-y",name:"Repeat Y"}]),"attachment"==o&&(i["show_empty"]=!0,i["can_add_items"]=!0,i["append_new_to_list"]=!1,i["options"]=[{key:"scroll",name:"scroll"},{key:"fixed",name:"fixed"},{key:"local",name:"local"},{key:"initial",name:"initial"},{key:"inherit",name:"inherit"}]),"position"==o&&(i.slider_def_unit="px",i.open_list_on_focus=!0,i["options"]=[{key:"left top",name:"Left top"},{key:"left center",name:"Left center"},{key:"left bottom",name:"Left bottom"},{key:"right top",name:"Right top"},{key:"right center",name:"Right center"},{key:"right bottom",name:"Right bottom"},{key:"center top",name:"Center top"},{key:"center center",name:"Center center"},{key:"center bottom",name:"Center bottom"},{key:"initial",name:"Initial"},{key:"inherit",name:"Inherit"}]),"origin"==o&&(i["show_empty"]=!0,i["can_add_items"]=!0,i["append_new_to_list"]=!1,i["options"]=[{key:"padding-box",name:"Padding box"},{key:"border-box",name:"Border box"},{key:"content-box",name:"Content box"},{key:"initial",name:"Initial"},{key:"inherit",name:"Inherit"}]),"size"==o&&(i.slider_def_unit="px",i.open_list_on_focus=!0,i["options"]=[{key:"auto",name:"Auto"},{key:"cover",name:"Cover"},{key:"contain",name:"Contain"},{key:"initial",name:"Initial"},{key:"inherit",name:"Inherit"}]),i.options&&(i.options=ee(i.options)),i}function r(e,t){var n=null;return n=e&&e[t]?function(e){for(var t=splitCssValue(e,!0),n=[],i=0;i<t.length;i++)","!=t[i]&&n.push(getUrlFromCssUrlValue(t[i]));return n.join(", ")}(n=e[t].value):n}function d(e,l,t,i,n,s,a){function o(e,t){var n=$(this).closest(".panel-body").data(l+"-rotation");$(this).siblings(".angle-value").text(t.value+" deg"),n.skipUpdatingAngle||C(i.obj,i.values,l,"rotate",t.value,s.indexOf(n),s,d)}var r,d=a,u=$('<div class="row direction-prop"></div>').appendTo(e),c=(s[t]||(s[t]={}),s[t].value=i.values[l+"-rotate-"+t]||0,$('<div class="col-xs-8"></div>').appendTo(u)),c=(-1<n.indexOf("distance")&&i.showInputField(c,l+"-distance-"+t,B("Distance","Distance",{without_text:!1,without_icon:!0,action:"custom",index:t,important:d,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,l,"distance",t,o.index,s,o.important)}})),-1<n.indexOf("x")&&(r=$('<div class="'+l+'-x"></div>').appendTo(c),i.showInputField(r,l+"-x-"+t,B("X","X",{action:"custom",without_text:!1,without_icon:!0,index:t,important:d,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){var r=C(e,n,l,"x",t,o.index,s,o.important);return s[o.index].skipUpdatingAngle=!0,s[o.index].$el.anglepicker("value",s[o.index].value),s[o.index].skipUpdatingAngle=!1,r}}))),-1<n.indexOf("y")&&(r=$('<div class="'+l+'-y"></div>').appendTo(c),i.showInputField(r,l+"-y-"+t,B("Y","Y",{action:"custom",without_text:!1,without_icon:!0,index:t,important:d,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){var r=C(e,n,l,"y",t,o.index,s,o.important);return s[o.index].skipUpdatingAngle=!0,s[o.index].$el.anglepicker("value",s[o.index].value),s[o.index].skipUpdatingAngle=!1,r}}))),$('<div class="col-xs-4"></div>').appendTo(u));-1<n.indexOf("rotate")&&(r=$('<div class="angle-selector"></div>').appendTo(c),$('<label class="angle-value">'+s[t].value+" deg</label>").appendTo(c),(s[t].$el=r).anglepicker({change:o,move:o,stop:function(e,t){var n=$(this).closest(".panel-body").data(l+"-rotation");C(i.obj,i.values,l,"rotate",t.value,s.indexOf(n),s,d)},value:s[t].value})),-1<n.indexOf("nonetype")&&i.showInputField(e,l+"-type-"+t,X("select","Type",[{key:"none",name:"None",html:g.makeIcon("overflow-X",{attributes:{title:"None"}})}],l,"type",t,s)),-1<n.indexOf("type")&&i.showInputField(e,l+"-type-"+t,X("select","Type",[{key:"none",name:"None",html:g.makeIcon("overflow-X",{attributes:{title:"None"}})},{key:"outside",name:"Outside",html:g.makeIcon("shadow-out",{attributes:{title:"Outside"}})},{key:"inside",name:"Inside",html:g.makeIcon("shadow-in",{attributes:{title:"Inside"}})}],l,"type",t,s)),-1<n.indexOf("blur")&&i.showInputField(e,l+"-blur-"+t,B("Blur","Blur",{without_text:!1,without_icon:!1,icon:"icon-blur",action:"custom",index:t,important:d,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,l,"blur",t,o.index,s,o.important)}})),-1<n.indexOf("size")&&i.showInputField(e,l+"-size-"+t,B("Size","Size",{without_text:!1,without_icon:!1,icon:"icon-shadow-size",action:"custom",index:t,important:d,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,l,"size",t,o.index,s,o.important)}})),-1<n.indexOf("color")&&i.showInputField(e,l+"-color-"+t,Z("Color","Color",{without_text:!1,without_icon:!1,icon:"icon-color",action:"custom",index:t,important:d,get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,l,"color",t,o.index,s,o.important)}})),e.data(l+"-rotation",s[t])}function j(e,t,n,i){t.showInputField(e,"transform-type-"+n,q("select","Type",[{key:"translate",name:"Translate",html:g.makeText("Trans.")},{key:"scale",name:"Scale",html:g.makeText("Scale")},{key:"rotate",name:"Rotate",html:g.makeText("Rotate")},{key:"skew",name:"Skew",html:g.makeText("Skew")}],"transform","type",n,!0,i));var a=$('<div class="fields-container"></div>').appendTo(e),o=te(a,t,n,i).hide(),r=ne(a,t,n,i).hide(),l=ie(a,t,n,i).hide(),a=ae(a,t,n,i).hide();"translate"==b[n].type?o.show():"scale"==b[n].type?r.show():"rotate"==b[n].type?l.show():"skew"==b[n].type&&a.show(),e.data("transform-el",b[n])}function L(e,n,i,a){function l(e){var t,n,i,a,o={name:"",params:"0, 0, 1, 1"};return(o=e?getCSSFunctionNameAndParams(e):o).params&&(a=o.params.split(","),t=parseFloat(a[0]),n=parseFloat(a[1]),i=parseFloat(a[2]),a=parseFloat(a[3]),o.params={x1:t,y1:n,x2:i,y2:a}),o}function t(e){var t=e.name;e.params&&(t+="("+e.params.x1+", "+e.params.y1+", "+e.params.x2+", "+e.params.y2+")"),o.setValue(t),S(n.obj,"timingFn",t,i,a)}n.showInputField(e,"transition-property-"+i,Q("Property","Property",{without_text:!1,without_icon:!1,icon:"icon-Property",action:"custom",index:i,important:a,options:G,append_new_to_list:!0,can_add_items:!0,get_value:function(e){},set_value:function(e,t,n,i,a,o){return S(e,"property",t,o.index,o.important)}})),n.showInputField(e,"transition-duration-"+i,B("Duration","Duration",{without_text:!1,without_icon:!1,icon:"icon-Duration",action:"custom",index:i,important:a,slider_def_unit:"ms",get_value:function(e){},set_value:function(e,t,n,i,a,o){return S(e,"duration",t,o.index,o.important)}}));var o=n.showInputField(e,"transition-timing-function-"+i,N("Timing funciton","Timing fn",{without_text:!1,without_icon:!1,icon:"icon-Easing",action:"custom",index:i,important:a,get_value:function(e){},set_value:function(e,t,n,i,a,o){var r=l(t);return d.cubicBezier("setValue",r.name,r.params),S(e,"timingFn",t,o.index,o.important)}})),r=(o.$field.addClass("crsa-field-curve"),{name:"",params:{x1:0,y1:0,x2:1,y2:1}}),s=(k[i]&&k[i].timingFn&&(r=l(k[i].timingFn)),o.$field.find(".crsa-input")),d=$('<input type="text">').appendTo(s);new PgCubicBezier(d,{width:200,height:200,"static-point-size":10,"movable-point-size":10,"point-color":"#dc9146",value:{name:r.name,params:r.params},move:function(e){t(e)},change:function(e){t(e)},hide:function(e){t(e)}}),n.showInputField(e,"transition-delay-"+i,B("Delay","Delay",{without_text:!1,without_icon:!1,icon:"icon-Delay",action:"custom",index:i,important:a,slider_def_unit:"ms",get_value:function(e){},set_value:function(e,t,n,i,a,o){return S(e,"delay",t,o.index,o.important)}}))}var i,m={margin:!1,padding:!1},v=!1,xe=!1,c=!1,p=!1,h=!1,f=!1,I={},g=new PgToggleButtonMaker,y=[],_=[],b=[],k=[],R={"margin-top":null,"margin-bottom":null,"margin-left":null,"margin-right":null,"padding-top":null,"padding-bottom":null,"padding-left":null,"padding-right":null},ve={"border-top":{},"border-bottom":{},"border-left":{},"border-right":{}},T={"border-top-left-radius":null,"border-top-right-radius":null,"border-bottom-left-radius":null,"border-bottom-right-radius":null},G=[{key:"all",name:"All"},{key:"none",name:"None"},{key:"width",name:"Width"},{key:"height",name:"Height"},{key:"margin",name:"Margin"},{key:"margin-top",name:"Margin top"},{key:"margin-left",name:"Margin left"},{key:"margin-right",name:"Margin right"},{key:"margin-bottom",name:"Margin bottom"},{key:"padding",name:"Padding"},{key:"padding-top",name:"Padding top"},{key:"padding-left",name:"Padding left"},{key:"padding-right",name:"Padding right"},{key:"padding-bottom",name:"Padding bottom"},{key:"top",name:"Top"},{key:"left",name:"Left"},{key:"right",name:"Right"},{key:"bottom",name:"Bottom"},{key:"z-index",name:"Z-Index"},{key:"opacity",name:"Opacity"},{key:"border",name:"Border"},{key:"border-top",name:"Border top"},{key:"border-left",name:"Border left"},{key:"border-right",name:"Border right"},{key:"border-bottom",name:"Border bottom"},{key:"border-top-color",name:"Border top color"},{key:"border-left-color",name:"Border left color"},{key:"border-right-color",name:"Border right color"},{key:"border-bottom-color",name:"Border bottom color"},{key:"border-top-width",name:"Border top width"},{key:"border-left-width",name:"Border left width"},{key:"border-right-width",name:"Border right width"},{key:"border-bottom-width",name:"Border bottom width"},{key:"border-top-style",name:"Border top style"},{key:"border-left-style",name:"Border left style"},{key:"border-right-style",name:"Border right style"},{key:"border-bottom-style",name:"Border bottom style"},{key:"border-radius",name:"Border radius"},{key:"border-top-left-radius",name:"Border radius (top left)"},{key:"border-top-right-radius",name:"Border radius (top right)"},{key:"border-bottom-left-radius",name:"Border radius (bottom left)"},{key:"border-bottom-right-radius",name:"Border radius (bottom right)"},{key:"font-size",name:"Font size"},{key:"color",name:"Color"},{key:"font-weight",name:"Font weight"},{key:"letter-spacing",name:"Letter spacing"},{key:"background",name:"Background"},{key:"background-color",name:"Background color"},{key:"background-origin",name:"Background origin"},{key:"box-shadow",name:"Box shadow"},{key:"text-shadow",name:"Text shadow"},{key:"transform",name:"Transform"}],E=["linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end","steps","cubic-bezier"],l=["solid","dashed","dotted","double","groove","inset","outset","ridge","none","hidden","inherit","initial"],W=["inset","outset","none"],P=(window.pgCreateSelectorControl=function(){var e,t=new PgCustomPropertyControl("css-selector"),n={type:"text",name:"",without_text:!0,action:"rule_name",live_update:!1};return t.onDefine=function(){this.registerInputField("class-name",n)},t.onShow=function(){e=$('<div class="selector-container"></div>');this.showInputField(e,"class-name",n);return e},t.onSetValues=function(){this.obj.pgStylesheet.canEditRuleSelector()?e.show():e.hide()},t},window.pgCreateMediaQueryControl=function(){var e,t,n=new PgCustomPropertyControl("css-media-query"),i={type:"media-query",name:"",action:"rule_media",without_text:!0,live_update:!0,skip_handle_events:!1};return n.onDefine=function(){this.registerInputField("media-query",i)},n.onShow=function(){return t=$('<div class="media-query-container"></div>'),e=this.showInputField(t,"media-query",i),new PgMediaQueryHelperView(e.$input,fe.getSelectedPage(),!0).view.get$Element().appendTo(t),t},n.onSetValues=function(){this.values["media-query"],fe.getSelectedPage();this.obj.pgStylesheet.canAddChangeMediaQuery()?t.show():t.hide()},n},function(e,t,n,i,a){var o=e.find(".crsa-field-"+n+"-"+i+"-"+a).find("input");0<o.length&&!o.is(":focus")&&(o.val(t[a][i]),0<t[a][i].length)&&o.parent().addClass("has-value")}),H=function(e,t,n){var i,a,o,r,l,s,d,u,c;return t[n].x&&t[n].y?(i=[t[n].x,t[n].y],c=crsaGetNumberAndUnit(i[0]),a=crsaGetNumberAndUnit(i[1]),c=c.number,a=-1*a.number,o=i[0].replace(c,"").trim(),(r=Math.round(180*Math.atan2(a,c)/Math.PI))<0&&(r=360+r),l=Math.cos(r*(Math.PI/180)),s=Math.sin(r*(Math.PI/180)),(u=d=0)!=l&&(d=Math.round(c/l)),c=(u=0!=s?Math.round(a/s):u)<d?d:u,{x:i[0],y:i[1],deg:r,distance:c+o}):{x:t[n].x,y:t[n].y,deg:0,distance:null}},w=function(e,t,n,i,a){"translate"===t?n&&i&&a?e.push(`translate3d(${n}, ${i}, ${a})`):n&&i?e.push(`translate(${n}, ${i})`):(n&&e.push(`translateX(${n})`),i&&e.push(`translateY(${i})`),a&&e.push(`translateZ(${a})`)):"scale"===t?n&&i&&a?e.push(`scale3d(${n}, ${i}, ${a})`):n&&i?e.push(`scale(${n}, ${i})`):(n&&e.push(`scaleX(${n})`),i&&e.push(`scaleY(${i})`),a&&e.push(`scaleZ(${a})`)):"rotate"===t?(n&&e.push(`rotateX(${n})`),i&&e.push(`rotateY(${i})`),a&&e.push(`rotate(${a})`)):"skew"===t&&(n&&i?e.push(`skew(${n}, ${i})`):n?e.push(`skewX(${n})`):i&&e.push(`skewY(${i})`))},C=function(e,t,n,i,a,o,r,l){var s,d,u,c,p,m,h,f,g,y,v,_,b,k=l?" !important":"";"distance"==i?(m=r[o].$el.closest("."+n+"-panel"),r[o].distance=p=a,c=r[o].value||0,p?(h=parseInt(p,10),isNaN(h)||(g=p.replace(h,"").trim(),r[o].x=s=Math.round(h*Math.cos(parseInt(c)*(Math.PI/180)))+g,P(m,r,n,"x",o),r[o].y=d=-1*Math.round(h*Math.sin(parseInt(c)*(Math.PI/180)))+g,P(m,r,n,"y",o))):(r[o].x=s="",P(m,r,n,"x",o),r[o].y=d="",P(m,r,n,"y",o))):"rotate"==i?(c=r[o].value=a,(p="distance"==i?a:r[o].distance||"")&&(m=r[o].$el.closest("."+n+"-panel"),h=parseInt(p,10),isNaN(h)||(g=p.replace(h,"").trim(),r[o].x=s=Math.round(h*Math.cos(parseInt(c)*(Math.PI/180)))+g,P(m,r,n,"x",o),r[o].y=d=-1*Math.round(h*Math.sin(parseInt(c)*(Math.PI/180)))+g,P(m,r,n,"y",o)))):"x"==i||"y"==i?(r[o].x=s="x"==i?a:r[o].x||"",r[o].y=d="y"==i?a:r[o].y||"",s&&d&&(m=r[o].$el.closest("."+n+"-panel"),h=parseInt(s,10),f=-1*parseInt(d,10),isNaN(h)||isNaN(f)||(g=s.replace(h,"").trim(),(c=Math.round(180*Math.atan2(f,h)/Math.PI))<0&&(c=360+c),y=Math.cos(c*(Math.PI/180)),v=Math.sin(c*(Math.PI/180)),(b=_=0)!=y&&(_=Math.round(h/y)),0!=v&&(b=Math.round(f/v)),r[o].value=c,P(m,r,n,"rotate",o),r[o].distance=p=(b<_?_:b)+g,P(m,r,n,"distance",o)))):i==n?r[o].text=u=i==n?a:r[o].text||"":(r[o][i]=a,s="x"==i?a:r[o].x||"",d="y"==i?a:r[o].y||"",p="distance"==i?a:r[o].distance||"",c="rotate"==i?a:r[o].value||"0");for(var w,x="blur"==i?a:r[o].blur||"",$="size"==i?a:r[o].size||"",I="color"==i?a:r[o].color||"",T="type"==i?a:r[o].type||"",C=[],S=0,z=0;z<r.length;z++)r[z].deleted||(w=S,z==o?i==n?u&&(C[S++]=u):"none"==T?C[S++]="none":("inside"==T&&(C[S++]="inset"),s&&(C[S++]=s),d&&(C[S++]=d),x&&(C[S++]=x),$&&(C[S++]=$),I&&(C[S++]=I)):r[z].text?C[S++]=r[z].text:"none"==r[z].type?C[S++]="none":("inside"==r[z].type&&(C[S++]="inset"),r[z].x&&(C[S++]=r[z].x),r[z].y&&(C[S++]=r[z].y),r[z].blur&&(C[S++]=r[z].blur),r[z].size&&(C[S++]=r[z].size),r[z].color&&(C[S++]=r[z].color)),z+1<r.length&&w!=S&&(C[S++]=","));for(;0<C.length&&","==C[C.length-1];)C.pop();return be(e,n,0<C.length?C.join(" ")+k:null),a},U=function(e,t){var n=e.find("> .fields-container");n.find("> div").hide(),n.find("> ."+t+"-fileds").show()},S=function(e,t,n,i,a){var o=[],r=0,l="";a&&(l=" !important");for(var s,d,u=0;u<k.length;u++)k[u].deleted||(s=r,k[u].text?o[r++]=k[u].text:((d=k[u].property="property"==t&&i==u?n:k[u].property)&&(o[r++]=d),(d=k[u].duration="duration"==t&&i==u?n:k[u].duration)&&(o[r++]=d),(d=k[u].timingFn="timingFn"==t&&i==u?n:k[u].timingFn)&&(o[r++]=d),(d=k[u].delay="delay"==t&&i==u?n:k[u].delay)&&(o[r++]=d)),u+1<k.length&&s!=r&&(o[o.length-1]=o[o.length-1]+","));return be(e,"transition",0<o.length?o.join(" ").trim()+l:null),n},X=function(e,t,n,r,l,i,s){return{type:e,name:t,options:n,toggle_buttons:!0,"skip-adding-prop":!0,show_empty:!0,index:i,get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,r,l,t,o.index,s)}}},q=function(e,t,n,i,r,a,o,l){return{type:e,name:t,options:n,"skip-adding-prop":!0,toggle_buttons:!0,without_text:o,index:a,important:l,get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,r,t,o.index,o.important)}}},_e=function(e){var t=e.pgStylesheet,n=fe.pgPostCSSHelper.getNodeByIndices(t.getRootNode(),e.indices);return{pgStylesheet:t,rule:n}},be=function(e,t,n,i,a,o,r){o=void 0===o||o;var l=_e(e),s=l.rule,l=l.pgStylesheet;(i?l.ruleValueChangedSync:l.ruleValueChanged).call(l,s,t,n,null,!1,"gui",o,a,null,null,r)},z=new function(){function e(n,e){function o(a,o){o.spectrum({color:a.getColor(),appendTo:o.closest("body"),clickoutFiresChange:!0,showInitial:!0,showAlpha:!0,showInput:!0,allowEmpty:!0,preferredFormat:"hex",change(e){a.setColor(e.toRgbString())},move(e){d=!0,a.setColor(e.toRgbString(),0),$(this).data("currColor",e),d=!1},hide(e){var t,n,i=$(this).data("currColor");i&&i.toRgbString()!=e.toRgbString()&&a.setColor(e.toRgbString()),t=o,n=e.toRgbString(),setTimeout(function(){try{t.spectrum("destroy"),t.hide();var e=t.siblings(".color-value-placeholder");e.css("background-color",n),e.show()}catch(e){}},10)}}),new PgSpectrumHelper(o,{"mouse-moved":function(e){var t=e.spectrum("get");a.setColor(t.toRgbString())},"color-picked":null})}var t=$('<div class="gradient"></div>').appendTo(n),i=((i=$('<div class="gradient-control"></div>').appendTo(n)).data("index",e),$('<div class="row"></div>').appendTo(i)),a=$('<div class="col-xs-8"></div>').appendTo(i),r={},a=(r["type"]=l.showInputField(a,"gradient-type-"+e,{type:"select",name:"Type",without_icon:!1,show_empty:!0,action:"custom",index:e,options:[{key:"radial",name:"Radial"},{key:"linear",name:"Linear"},{key:"repeating-radial",name:"Repeating radial"},{key:"repeating-linear",name:"Repeating linear"}],get_value:function(e){},set_value:function(e,t,n,i,a,o){var r=o.index;return f(function(){_(t,r)},!0),p[r]["selector"].setType(t),t}}),r["angle"]||(r["angle"]={}),r["angle"].field=l.showInputField(a,"gradient-angle-"+e,{type:"select",name:"Angle",without_icon:!1,show_empty:!0,action:"custom",index:e,options:h(g),get_value:function(e){},set_value:function(e,t,n,i,a,o){var r=o.index;return p[r]["selector"].setDirection(t),b(t,r),t}}),$('<div class="col-xs-4"></div>').appendTo(i)),i=$('<div class="angle-controls"></div>').appendTo(a),a=$('<div class="angle-selector"></div>').appendTo(i);$('<label class="angle-value">0 deg</label>').appendTo(i),(r["angle"].selector=a).data("index",e),a.anglepicker({move:function(e,t){var n=$(this),i=n.data("index");f(function(){var e=k(t.value,i);n.siblings(".angle-value").text(e+" deg")},!1,!0)},change:function(e,t){var n=$(this),i=n.data("index");f(function(){var e=k(t.value,i);n.siblings(".angle-value").text(e+" deg")})},stop:function(e,t){var n=$(this).data("index"),n=p[n],i=y(t.value);n["selector"].setDirection(i+"deg",1)},clockwise:!1}),r["selector"]=new Grapick({el:t[0],colorEl:'<input class="gradient-colorpicker"/>'}),r["selector"].setColorPicker(function(n){var i,e=n.getEl().querySelector(".gradient-colorpicker"),e=$(e),a=(e.hide(),$('<div class="color-value-placeholder"></div>').insertAfter(e));a.css("background-color",n.color),a.click(function(e){e.preventDefault();var t=a.siblings(".gradient-colorpicker");return a.hide(),o(n,t),t.spectrum("show"),!1});m||"0"==function(e){var t=e.match(/rgba\((.*)\)/);if(t&&0<t.length){t=t[1].split(",");if(t[3])return t[3].trim()}return"1"}(i=a.css("background-color"))&&f(function(){(t=i.match(/rgba\((.*)\)/))&&0<t.length&&((e=t[1].split(","))[3]=" 1");var e,t="rgba("+e.join(",")+")";a.css("background-color",t),n.setColor(t)},!0)}),r["selector"].on("change",function(e,t){s||(w(u?!1:!d||e),n.removeClass("no-value"))}),p[e]=r}var c,t=this,a="background-image",p=[],l=new PgCustomPropertyControl("css-gradient"),s=!1,d=!1,u=!1,m=!1,g=["top","left","center","right","bottom"],h=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push({key:i,name:i.charAt(0).toUpperCase()+i.slice(1)})}return t},f=function(e,t,n){n&&(u=!0),t&&(s=!0),e(),t&&(s=!1),n&&(u=!1)},o=function(e){switch(e){case"right":return"90deg";case"left":return"270deg";case"top":return"180deg";case"bottom":return"0deg";default:return e}},y=function(e){return(e+90)%360},r=function(e){var t=e-90;return(t=t<0?360+t:t)%360},v=function(e,t,n){var i=p[n],a=o(e&&"center"!=e?e:"right"),a=parseInt(a,10);i["angle"].selector.anglepicker("value",r(a),t),i["angle"].selector.siblings(".angle-value").html(a+" deg")},_=function(e,t){var n=p[t],i=n["angle"].field.getValue();-1<e.indexOf("radial")?(i||(n["angle"].field.setValue("right"),v("right",!1,t),n["selector"].setDirection("right")),n["angle"].selector.anglepicker("disable")):n["angle"].selector.anglepicker("enable")},b=function(e,t){f(function(){v(e,!0,t)},!0)},k=function(e,t){var n=p[t],i=(n["angle"].field.getValue()&&n["angle"].field.setValue(""),y(e));return n["selector"].setDirection(i+"deg",0),i},w=function(e){for(var t="",n=0;n<p.length;n++){var i=p[n];i.deleted||(t+=i["selector"].getValue()+", ")}t.endsWith(", ")&&(t=t.substr(0,t.length-2)),be(l.obj,a,t,!1,"do",e),e&&I[a]&&I[a].setValue(t)},x=function(e){var t=new RegExp("(\\-[a-z]*\\-)?(.*)\\-gradient\\((.*)\\)");return e.match(t)},n=(this.updateGradientValue=function(e,t){var u=null;(u=n(t[a="background-image"],e))||(u=n(t["background"],e))&&(a="background"),f(function(){if(p[0]["selector"].clear(),u){for(var e=u[0],t={points:e.points,type:e.type,angle:e.angle},n=0,e=p[n],i=t["points"],a=t["type"],o=t["angle"],r=e["selector"],l=(m=!0,i.length),s=0;s<l;s++){var d=i[s];r.addHandler(d.position,d.color)}m=!1,a&&(r.setType(a),e["type"].setValue(a),_(a,n)),o&&(r.setDirection(o),v(o,!1,n),o.endsWith("deg")||e["angle"].field.setValue(o)),c.removeClass("no-value")}else c.addClass("no-value")},!0)},this.isGradient=function(e){var t=x(e);return!!(t&&0<t.length)},function(e,r){if(!e)return null;function l(e){for(var i=e.length,a=[],t=0;t<i;t++)e[t].position||(0==t?e[t].position=0:t+1==i&&(e[t].position=100)),$.isNumeric(e[t].position)&&a.push(t);if(a.length<i)for(var n,o,r,l,t=0;t<i;t++)-1==a.indexOf(t)&&(n=(o=function(e){for(var t={},n=0;n<i;n++)if(-1<a.indexOf(n))if(n<e)t.prev=n;else if(e<n){t.next=n;break}return t}(t)).prev,o=o.next,r=e[n].position,l=e[o].position,e[t].position=(l-r)/(o-n)+r,a.push(t));return e}function s(e){for(var t,n,i=[],a=[],o="",r=0,l=e.length,s=0;s<l+1;s++){var d=e[s];if(" "==d||","==d||s==l){if(0==r){n=","!=d&&s!=l?!1:!0,(t=o)&&i.push(t),n&&(a.push({frTerm:i[0],sdTerm:i[1]}),i=[]),o="";continue}}else"("==d?r++:")"==d&&r--;o+=d}return a}function d(e){var t=document.createElement("div");return t.style.color=e,!!t.style.color}function t(e){var t,n,i,a={points:[],type:"",angle:""},o=x(e);return o&&0<o.length&&(a["borowser"]=o[1],a["type"]=o[2],o=o[3],o=s(o),t=_e(r).rule,i=h(t,o[0].frTerm),n=h(t,o[0].sdTerm),d(i)?a["angle"]="top":(a["angle"]=function(e,t){var n=c(e,"linear"!=t);if(-1<g.indexOf(n)||n.endsWith("deg"))return n;throw"Value is not an angle"}(i+(n?" "+n:""),a["type"]),o.splice(0,1)),i=function(e,t,n){for(var i=0;i<t.length;i++){var a=t[i],o=null,r=null,r="css"!=n?(o=h(e,a.color),h(e,a.position)):(o=a.color,a.position);t[i].color=p(o),t[i].position=m(r)}return t}(t,i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push({color:i.frTerm,position:i.sdTerm})}return t}(o),u.fileType),a["points"]=l(i)),a}var u=r.pgStylesheet,c=function(e,t){var n=e.split(" ");if(1==n.length)return n[0];if(2==n.length){if("to"==n[0])return n[1];if(t)return"center"==n[0]?n[1]:n[0]}return null},p=function(e){if(!e)return null;if(d(e))return e;throw"Value is not a color"},m=function(e){if(!e)return null;var t=parseInt(e,10);if(e=isNaN(t)?e:t,$.isNumeric(e)||void 0===e)return e;throw"Value is not a number."},h=function(e,t){if(!t)return null;if(u.isVarValue(t)){var n=u.smartGetAllUsedNodes(e,!0,t).nodes[0];if(n)return n.value}return t},n=[];try{for(var i=e.replace(/\n/g," ").replace(/\s+/g," "),a=s(i),o=0;o<a.length;o++){var f=a[o].frTerm;n.push(t(f))}}catch(e){n=null}return n});l.onDefine=function(){},l.onShow=function(){return c=$('<div class="gradient-container no-value"><label>Gradient</label></div>'),e(c,0),c},l.onSetValues=function(){t.updateGradientValue(l.obj,l.values)},this.getControl=function(){return l}},Y=new PgDelayedTasks,F=function(e,t,n,i,a,o,r,l,s){if(a.highlight){var d=fe.getSelectedPage();if(d)try{var u=_e(e).rule,c=d.get$Html().find(u.selector);fe.highlightElement(c,null,!0),Y.run("unhighlightChange",function(){fe.highlightElement(null)},1e3)}catch(e){}}else fe.highlightElement(null)},Z=function(e,t,n){return n=n||{},$.extend({},{name:e,placeholder:t,type:"color",without_text:!0,without_icon:!0,highlight:!0,on_changed:F},n)},B=function(e,t,n){return n=n||{},$.extend({},{name:e,type:"slider",slider_max:2e3,units:!0,without_text:!0,without_icon:!0,highlight:!0,on_changed:F},n)},Q=function(e,t,n){return n=n||{},$.extend({},{name:e,placeholder:t,type:"select",units:!0,without_text:!0,without_icon:!0,highlight:!0,on_changed:F},n)},N=function(e,t,n){return n=n||{},$.extend({},{name:e,placeholder:t,type:"text",without_text:!0,without_icon:!0,highlight:!0,on_changed:F},n)},J=function(e,t,n){var i="background-"+t,a=null;return a=e&&e[i]&&(a=e[i].value,n)?function(e){for(var t=splitCssValue(e,!0),n=[],i=0;i<t.length;i++)","!=t[i]&&n.push(getUrlFromCssUrlValue(t[i]));return n.join(", ")}(a):a},K=function(i,a,o,e){if("image"==a&&o&&!z.isGradient(o)){var t=o.split(",");o="";for(var n=0;n<t.length;n++)0<o.length&&(o+=", "),t[n].match(/\-\-/)?o+=t[n]:0<=t[n].indexOf("@")?o+="url("+t[n]+")":o+="url('"+t[n]+"')"}var r,l,s="background-"+a;!e[s]&&0&&e["background"]?(r=e["background"].value,l=new CssBackgroundParser(r),$.each(["color","image","repeat","attachment","position"],function(e,t){var n=t==a?o:l.getValue("background-"+t);be(i,"background-"+t,n,!1,"skip",!1)}),be(i,"background",null,!1,"do")):be(i,s,o)},ee=function(e,t){return pgf.kids?e.filter(function(e){return"inherit"!==e.key&&"initial"!==e.key&&(!t||t.indexOf(e.key)<0)}):e},te=function(e,t,n,i){var a=$('<div class="translate-fileds"></div>').appendTo(e);t.showInputField(a,"transform-translate-x-"+n,B("X","X",{without_text:!1,without_icon:!1,icon:"icon-Transform_X",action:"custom",index:n,important:i,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"translate-x",t,o.index,o.important)}})),t.showInputField(a,"transform-translate-y-"+n,B("Y","Y",{without_text:!1,without_icon:!1,icon:"icon-Transform_Y",action:"custom",index:n,important:i,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"translate-y",t,o.index,o.important)}})),t.showInputField(a,"transform-translate-z-"+n,B("Z","Z",{without_text:!1,without_icon:!1,icon:"icon-Transform_Z",action:"custom",index:n,important:i,slider_def_unit:"px",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"translate-z",t,o.index,o.important)}}));return a},ne=function(e,t,n,i){var a=$('<div class="scale-fileds"></div>').appendTo(e);t.showInputField(a,"transform-scale-x-"+n,B("X","X",{without_text:!1,without_icon:!1,icon:"icon-Transform_X",action:"custom",index:n,important:i,slider_def_unit:"",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"scale-x",t,o.index,o.important)}})),t.showInputField(a,"transform-scale-y-"+n,B("Y","Y",{without_text:!1,without_icon:!1,icon:"icon-Transform_Y",action:"custom",index:n,important:i,slider_def_unit:"",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"scale-y",t,o.index,o.important)}})),t.showInputField(a,"transform-scale-z-"+n,B("Z","Z",{without_text:!1,without_icon:!1,icon:"icon-Transform_Z",action:"custom",index:n,important:i,slider_def_unit:"",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"scale-z",t,o.index,o.important)}}));return a},ie=function(e,t,n,i){var a=$('<div class="rotate-fileds"></div>').appendTo(e);t.showInputField(a,"transform-rotate-x-"+n,B("X","X",{without_text:!1,without_icon:!1,icon:"icon-Transform_X",action:"custom",index:n,important:i,slider_def_unit:"deg",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"rotate-x",t,o.index,o.important)}})),t.showInputField(a,"transform-rotate-y-"+n,B("Y","Y",{without_text:!1,without_icon:!1,icon:"icon-Transform_Y",action:"custom",index:n,important:i,slider_def_unit:"deg",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"rotate-y",t,o.index,o.important)}})),t.showInputField(a,"transform-rotate-z-"+n,B("Z","Z",{without_text:!1,without_icon:!1,icon:"icon-Transform_Z",action:"custom",index:n,important:i,slider_def_unit:"deg",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"rotate-z",t,o.index,o.important)}}));return a},ae=function(e,t,n,i){var a=$('<div class="skew-fileds"></div>').appendTo(e);t.showInputField(a,"transform-skew-x-"+n,B("X","X",{without_text:!1,without_icon:!1,icon:"icon-Transform_X",action:"custom",index:n,important:i,slider_def_unit:"deg",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"skew-x",t,o.index,o.important)}})),t.showInputField(a,"transform-skew-y-"+n,B("Y","Y",{without_text:!1,without_icon:!1,icon:"icon-Transform_Y",action:"custom",index:n,important:i,slider_def_unit:"deg",get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"skew-y",t,o.index,o.important)}}));return a},t={name:{name:pgf.kids?"Selector":"Selector &amp; Media query",fields:{class_name_and_media_rule:{type:"custom",name:"",without_text:!0,action:"none",control:function(){var t,n,i,a,e=new PgCustomPropertyControl("css-selector-and-media-query"),o={type:"media-query",name:"",action:"rule_media",without_text:!0,live_update:!0,skip_handle_events:!1},r={type:"text",name:"",without_text:!0,action:"rule_name",live_update:!1};return e.onDefine=function(){this.registerInputField("class-name",r),this.registerInputField("media-query",o)},e.onShow=function(){t=$('<div class="selector-and-media-query-container"></div>'),n=$('<div class="rule-selector-container"></div>').appendTo(t);this.showInputField(n,"class-name",r);i=$('<div class="media-query-container"></div>'),pgf.kids||i.appendTo(t);var e=this.showInputField(i,"media-query",o);return a=new PgMediaQueryHelperView(e.$input,fe.getSelectedPage(),!0),pgf.kids||a.view.get$Element().appendTo(i),t},e.onSetValues=function(){var e=this.obj.pgStylesheet,t=(a.updateMediaValue(this.values["media-query"]||""),e.canEditRuleSelector());(e.canAddChangeMediaQuery()?pg$Show:pg$Hide)(i),t?n.find("input").removeAttr("disabled"):n.find("input").attr("disabled","disabled")},e}}}}},a=(0&&pgf.kids&&(t={}),{type:"rule",selector:"img",code:'<img src=""/>',name:"Image",sections:(i=t,t={name:"Display",type:"select",can_add_items:!0,show_empty:!0,style_input:!0,has_multiple_fields:!0,options:[{key:"none",name:"None"},{key:"inline",name:"Inline"},{key:"block",name:"Block"},{key:"list-item",name:"List item"},{key:"inline-block",name:"Inline block"},{key:"inline-table",name:"Inline table"},{key:"table",name:"Table"},{key:"table-cell",name:"Table cell"},{key:"table-column",name:"Table column"},{key:"table-column-group",name:"Table column group"},{key:"table-footer-group",name:"Table footer group"},{key:"table-header-group",name:"Table header group"},{key:"table-row",name:"Table row"},{key:"table-row-group",name:"Table row group"},{key:"flex",name:"Flex"},{key:"inline-flex",name:"Inline flex"},{key:"grid",name:"Grid"},{key:"inline-grid",name:"Inline grid"},{key:"run-in",name:"Run in"},{key:"inherit",name:"Inherit"}]},t={hidden:{name:"Hidden",show:!1,fields:{"media-query":{type:"media-query",name:"Media query",action:"rule_media",live_update:!0},"min-width":{name:"Min width",type:"slider",min:0,max:2e3,units:!0,show_empty:!0,on_changed:F},"max-width":{name:"Max width",type:"slider",min:0,max:2e3,units:!0,show_empty:!0,on_changed:F},"min-height":{name:"Min height",type:"slider",min:0,max:2e3,units:!0,on_changed:F},"max-height":{name:"Max height",type:"slider",min:0,max:2e3,units:!0,on_changed:F},margin:{name:"margin",type:"slider"},"margin-left":{name:"margin left",type:"slider"},"margin-right":{name:"margin right",type:"slider"},"margin-top":{name:"margin top",type:"slider"},"margin-bottom":{name:"margin bottom",type:"slider"},padding:{name:"margin",type:"slider"},"padding-left":{name:"padding left",type:"slider"},"padding-right":{name:"padding right",type:"slider"},"padding-top":{name:"padding top",type:"slider"},"padding-bottom":{name:"padding bottom",type:"slider"},left:{name:"Left",type:"slider",show_empty:!0,on_changed:F},right:{name:"Right",type:"slider",show_empty:!0,on_changed:F},top:{name:"Top",type:"slider",show_empty:!0,on_changed:F},bottom:{name:"Bottom",type:"slider",show_empty:!0,on_changed:F},border:{name:"Border",type:"slider",show_empty:!0},"border-style":{name:"Border",type:"slider",show_empty:!0},"border-color":{name:"Border",type:"slider",show_empty:!0},"border-left":{name:"Border left",type:"slider",show_empty:!0},"border-left-style":{name:"Border left",type:"slider",show_empty:!0},"border-left-color":{name:"Border left",type:"slider",show_empty:!0},"border-right":{name:"Border right",type:"slider",show_empty:!0},"border-right-style":{name:"Border right",type:"slider",show_empty:!0},"border-right-color":{name:"Border right",type:"slider",show_empty:!0},"border-top":{name:"Border top",type:"slider",show_empty:!0},"border-top-style":{name:"Border top",type:"slider",show_empty:!0},"border-top-color":{name:"Border top",type:"slider",show_empty:!0},"border-bottom":{name:"Border bottom",type:"slider",show_empty:!0},"border-bottom-style":{name:"Border bottom",type:"slider",show_empty:!0},"border-bottom-color":{name:"Border bottom",type:"slider",show_empty:!0},"border-radius":{name:"Border radius",type:"slider"},"border-top-left-radius":{name:"Border top left radius",type:"slider",show_empty:!0},"border-top-right-radius":{name:"Border top right radius",type:"slider",show_empty:!0},"border-bottom-left-radius":{name:"Border bottom left radius",type:"slider",show_empty:!0},"border-bottom-right-radius":{name:"Border bottom right radius",type:"slider",show_empty:!0},"font-size":{name:"Size",type:"slider"},"line-height":{name:"Line height",type:"slider",add_default_unit:""},"background-repeat":n("Repeat","repeat"),"flex-grow":{name:"Grow",type:"slider",add_default_unit:""},"flex-shrink":{name:"Shrink",type:"slider",add_default_unit:""},"box-shadow":{name:"Box shadow",type:"text"},"text-shadow":{name:"Text shadow",type:"text"},transform:{name:"Transform",type:"text"},transition:{name:"Transition",type:"text"}}},text:{name:"Text",get_has_data:e("text"),icons:!0,fields:{"font-family":{name:"Font family",type:"select",show_empty:!0,style_input:!0,style_input_force_vars:!0,can_add_items:!0,append_new_to_list:!0,fill_list_on_open:!0,async_options_function:!0,options:function(){var n;if(pgf.kids)return n=[],(e=function(e,t){n.push({name:t+":",header:!0}),e.forEach(function(e){e=e.replace(/"/g,`'`),n.push({key:e,name:e,html:`<span style="font-family:${e};">${e}</span>`})})})(["Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif",'"Lucida Sans Unicode", "Lucida Grande", sans-serif',"Tahoma, Geneva, sans-serif",'"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif"],"Sans serif"),e(['"Times New Roman", Times, serif','"Palatino Linotype", "Book Antiqua", Palatino, serif',"Georgia, serif"],"Serif"),e(['"Courier New", Courier, monospace','"Lucida Console", Monaco, monospace'],"Monospace"),n;for(var e=fe.getSelectedPage(),t=getAttachedGoogleFonts(e),i=[],a={},o=0;o<t.length;o++){var r=t[o],l=r.category,l=("handwriting"!=l&&"display"!=l||(l="cursive"),`'${r.name}'`+(l?", "+l:""));a[l]=!0,i.push({key:l,name:r.name})}return pgDmStore&&(e=pgDmStore.getActiveDesignProvider())&&e.getActiveFonts().forEach(function(e){var t,n;a[e]||(t=e,0<=(e=(n=fe.fontLibrary.getFontByFamily(e))?n.getFamilyWithFallback():e).indexOf(" ")&&e.indexOf('"')<0&&e.indexOf("'")<0&&(e=`'${e}'`),i.push({key:e,name:t,html:`<span style="font-family:${e}">${t}</span> <small>(Design panel)</small>`}))}),i.push({key:"font-manager",name:"Manage Google Fonts...",action:function(){fe.assetManager.show()}}),i}},"font-size_line-height_control":{type:"custom",name:"Font size & Line height",action:"none",control:function(){var e=new PgCustomPropertyControl("css-font-size-line-height");return e.onDefine=function(){this.registerInputField("font-size",B("Font size","")),this.registerInputField("line-height",B("Line height","",{add_default_unit:""}))},e.onShow=function(){var e=$('<div class="crsa-grid-fields double-fields">                                        <table class="crsa-grid-table">                                            <tbody>                                                <tr>                                                </tr>                                            </tbody>                                        </table>                                    </div>'),t=e.find("tr"),n=($('<td class="crsa-td-empty-width"></td>').appendTo(t),$("<td></td>").appendTo(t)),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");return $("<td><label>Size</label></td>").appendTo(i),n=$("<td></td>").appendTo(i),this.showInputField(n,"font-size",B("Font size","",{style_input:!0})).$field.addClass("crsa-inline-container"),n=$("<td></td>").appendTo(t),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr"),$("<td><label>Height</label></td>").appendTo(i),n=$("<td></td>").appendTo(i),this.showInputField(n,"line-height",B("Line height","",{style_input:!0,add_default_unit:"",slider_def_unit:"px"})).$field.addClass("crsa-inline-container"),e},e.onSetValues=function(){},e}},color:{name:"Color",type:"color",style_input:!0},"font-weight":{name:"Weight",type:"select",show_empty:!0,style_input:!0,add_default_unit:"",can_add_items:!0,append_new_to_list:!0,fill_list_on_open:!0,async_options_function:!0,options:function(e,t){var n=fe.getSelectedPage(),i=getAttachedGoogleFonts(n),n=_e(t).rule,n=pgcssh.getChildrenDeclWithPropName(n,"font-family"),a=n[n.length-1],o=[];if(a)for(var r=0;r<i.length;r++){var l=i[r],s=[];if(-1<a.value.indexOf(l.name)){var d=l.included_varients;d&&0!=d.length||(d=["400","700"]);for(var u=0;u<d.length;u++){var c,p=d[u];-1<p.indexOf("italic")||("regular"==p&&(p=400),c=fe.pgGoogleFontManager.getWeightText(p,null),s.indexOf(p)<0&&(s.push(p),o.push({key:p,name:c})))}}}return o=0==o.length?pgf.kids?[{key:"normal",name:"Normal"},{key:"bold",name:"Bold"}]:[{key:"normal",name:"Normal"},{key:"bold",name:"Bold"},{key:"lighter",name:"Lighter"},{key:"bolder",name:"Bolder"},{key:"100",name:"100"},{key:"200",name:"200"},{key:"300",name:"300"},{key:"400",name:"400"},{key:"500",name:"500"},{key:"600",name:"600"},{key:"700",name:"700"},{key:"800",name:"800"},{key:"900",name:"900"},{key:"inherit",name:"Inherit"}]:o}},"letter-spacing":{name:"Spacing",type:"slider",aaicon:"icon-spacing",style_input:!0},"text-indent":{name:"Indent",type:"slider",aaicon:"icon-131",style_input:!0},"font-style":{type:"select",name:"Style",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"normal",name:"Normal",html:g.makeIcon("style_normal",{attributes:{title:"Normal"}})},{key:"italic",name:"Italic",html:g.makeIcon("style_italic",{attributes:{title:"Italic"}})}]},"font-variant":{type:"select",name:"Variant",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"normal",name:"Normal",html:g.makeText("Abc",{styles:{"font-family":"serif","font-size":"15px"},attributes:{"font-family":"serif","font-size":"15px",title:"Normal"}})},{key:"small-caps",name:"Small caps",html:g.makeText("Abc",{styles:{"font-family":"serif","font-size":"15px","font-variant":"small-caps"},attributes:{title:"Small caps"}})}]},"text-decoration":{type:"select",name:"Decoration",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"none",name:"None",html:g.makeIcon("decoration-none",{attributes:{title:"None"}})},{key:"underline",name:"Underline",html:g.makeIcon("decoration-under",{attributes:{title:"Underline"}})},{key:"overline",name:"Overline",html:g.makeIcon("decoration-over",{attributes:{title:"Overline"}})},{key:"line-through",name:"Line through",html:g.makeIcon("decoration-through",{attributes:{title:"Line through"}})}]},"text-transform":{type:"select",name:"Transform",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"none",name:"None",html:g.makeIcon("Transform-none",{attributes:{title:"None"}})},{key:"capitalize",name:"Capitalize",html:g.makeIcon("Transform-sentence-case",{attributes:{title:"Capitalize"}})},{key:"uppercase",name:"Uppercase",html:g.makeIcon("Transform-uppercase",{attributes:{title:"Uppercase"}})},{key:"lowercase",name:"Lowercase",html:g.makeIcon("Transform-lowercase",{attributes:{title:"Lowercase"}})}]},"text-align":{type:"select",name:"Align",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"left",name:"Left",html:g.makeIcon("align-left",{attributes:{title:"Left"}})},{key:"center",name:"Center",html:g.makeIcon("align-center",{attributes:{title:"Center"}})},{key:"right",name:"Right",html:g.makeIcon("align-right",{attributes:{title:"Right"}})},{key:"justify",name:"Justify",html:g.makeIcon("align-full",{attributes:{title:"Justify"}})}]},"writing-mode":{type:"select",name:"Writing mode",show_empty:!0,style_input:!0,options:[{key:"horizontal-tb",name:"Horizontal TB"},{key:"vertical-rl",name:"Vertical RL"},{key:"vertical-lr",name:"Vertical LR"}]},"white-space":{type:"select",name:"White space",show_empty:!0,style_input:!0,options:[{key:"normal",name:"Normal"},{key:"nowrap",name:"Nowrap"},{key:"pre",name:"Pre"},{key:"pre-wrap",name:"Pre wrap"},{key:"pre-line",name:"Pre line"}]},"word-break":{type:"select",name:"Word break",show_empty:!0,style_input:!0,options:[{key:"normal",name:"Normal"},{key:"break-all",name:"Break all"},{key:"keep-all",name:"Keep all"},{key:"break-word",name:"Break word"}]},direction:{type:"select",name:"Direction",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"ltr",name:"Ltr",html:g.makeText("Ltr",{title:"Left to Right"})},{key:"rtl",name:"Rtl",html:g.makeText("Rtl",{title:"Right to Left"})}]}}},margin_and_padding:{name:"Margin &amp; Padding",get_has_data:e("margin_padding"),fields:{margin_padding_control:{type:"custom",name:"margin_padding",action:"none",control:function(){function i(e,t,n){var i=$(e.currentTarget);i.toggleClass("active"),m[t]=i.hasClass("active"),m[t]&&l(n.obj,t,"","",!0)}function e(e,t,o,r,n,i){return{type:"slider",name:e,action:"custom",without_text:!0,without_icon:!0,show_empty:!0,style_input:!0,get_value:function(e){return s(n.values,o,r,i)},set_value:function(e,t,n,i,a){return l(e,o,r,t,"change"===a)},on_changed:F}}function c(e){for(var t=["margin","padding"],n=["top","bottom","left","right"],i=0;i<t.length;i++)for(var a=0;a<n.length;a++){var o=s(e,t[i],n[a]);(R[t[i]+"-"+n[a]].value=o)&&(e[t[i]+"-"+n[a]]={value:o})}}var t=new PgCustomPropertyControl("css-margin-padding"),h=null,f={"margin-left":10,"margin-right":10,"margin-top":20,"margin-bottom":20,"padding-left":13,"padding-right":-13,"padding-top":10,"padding-bottom":10},g={height:60,"margin-left":13,"margin-right":13,"margin-top":0,"margin-bottom":0},y={top:16,left:50,right:50},M={"margin-top":null,"margin-bottom":null,"margin-right":null,"margin-left":null,"padding-top":null,"padding-bottom":null,"padding-right":null,"padding-left":null},p=function(e,t,n){var i,a,o,r,l,s,d,u,c=h.data("old-"+e+"-"+t+"-value"),p=parseInt(n,10),m=parseInt(c,10);n!=c&&p!=m&&(c="px",l=r=i=null,"left"!=(s=t)&&"right"!=t||(c="%"),"margin"==e?(i=h.find(".margin-border"),a="padding-"+t,o="margin-"+t):"padding"==e&&(i=h.find(".padding-border"),a="margin-"+t,"top"==t||"bottom"==t?o="height":"left"!=t&&"right"!=t||(o=""),"top"!=t&&"right"!=t&&"left"!=t||(r=i.find(".change-all-icon"),"top"==t||"left"==t?l=y[t]:"right"==t&&(l=y[s="left"]))),null==(d=g[o])&&o&&(d=parseInt(i.css(o),10)),u=f[e+"-"+t],p!=m)&&(0==p?(i.css(a,0),o&&(i.css(o,d+u+c),g[o]=d+u),r&&(r.css(s,l+u+c),y[s]=l+u)):0==parseInt(i.css(a),10)&&(i.css(a,""),o&&(i.css(o,d-u+c),g[o]=d-u),r)&&(r.css(s,l-u+c),y[s]=l-u))},D=function(e,t,n,i,a,o,r){var l=t+(n?`-`+n:"");p(t,n,i),a||be(e,l,i,!1,o,r),h.data("old-"+l+"-value",i)},A=function(e,t){function n(e){return a[e]+(i.important?" !important":"")}var i=ye(e),a=i.value.split(" ");if(4==(a=a.filter(function(e){return!!e})).length)switch(t){case"top":return n(0);case"right":return n(1);case"bottom":return n(2);case"left":return n(3)}else if(3==a.length)switch(t){case"top":return n(0);case"right":case"left":return n(1);case"bottom":return n(2)}else if(2==a.length)switch(t){case"top":case"bottom":return n(0);case"right":case"left":return n(1)}else if(1==a.length)return n(0);return null},l=function(e,t,n,i,a){void 0===a&&(a=!0);for(var o=ye(i),r=R[t+"-$icon"].hasClass("active"),l=["","top","left","right","bottom"],s=_e(e).rule,d=[],u=0;u<l.length;u++){var c=(S=l[u])?`-`+S:"",c=(d[S]||(d[S]={important:!1}),fe.pgPostCSSHelper.findNodeInside("decl","prop",t+c,s));if(c)if(""==S){var p=ye(c.value,c.important);d[S]={value:p.value};for(var m=1;m<l.length;m++)d[B=l[m]]={value:A(p.value,B),important:p.important,native:!1}}else{p=ye(c.value,c.important);d[S]={value:p.value,important:p.important,native:!0}}}for(var h,f=("top"==n?o:d["top"]).value,g=("left"==n?o:d["left"]).value,y=("right"==n?o:d["right"]).value,v=("bottom"==n?o:d["bottom"]).value,_=("top"==n?o:d["top"]).important,b=("left"==n?o:d["left"]).important,k=("right"==n?o:d["right"]).important,w=("bottom"==n?o:d["bottom"]).important,x=[],$={},I=(r&&(f||g||y||v)||_==b&&b==k&&k==w&&(f&&g&&y&&v)?(h=f==g&&g==y&&y==v,d["top"].native&&x.push("top"),d["left"].native&&x.push("left"),d["right"].native&&x.push("right"),d["bottom"].native&&x.push("bottom"),r||h?(h=_||b||k||w,$[""]=r&&n?o.value:f||g||y||v,$[""]+=r&&n?o.important?" !important":"":h?" !important":""):($[""]=f+` `+y,f==v&&g==y||($[""]+=` `+v,g!=y&&($[""]+=` `+g)),$[""]+=_?" !important":"")):d[""].value?(x.push(""),d["top"].forceDispatch=!0,d["left"].forceDispatch=!0,d["right"].forceDispatch=!0,d["bottom"].forceDispatch=!0,$["top"]=f+(_?" !important":""),$["left"]=g+(b?" !important":""),$["right"]=y+(k?" !important":""),$["bottom"]=v+(w?" !important":"")):"top"==n?$["top"]=f+(_?" !important":""):"left"==n?$["left"]=g+(b?" !important":""):"right"==n?$["right"]=y+(k?" !important":""):"bottom"==n&&($["bottom"]=v+(w?" !important":"")),x.length),u=0;u<I;u++)D(e,t,S=x[u],null,!1,P=u+1==I&&0==$.length?"do":"skip",!0);for(var T=Object.keys($),C=T.length,u=0;u<C;u++){var S,z=$[S=T[u]];if(void 0!==z){var P="skip",F=d[S].value,F=(d[S].forceDispatch&&(F=null),ge(a,z,F));if(be(e,t+(S?`-`+S:""),z,!1,P=u+1==C?"do":P,F),""!=S)return D(e,t,S,z,!0),z;for(m=1;m<l.length;m++){var B,N,O=A(z,B=l[m]);D(e,t,B,O,!0),B!==n&&(N=M[t+"-"+B].def.on_set_field_value,M[t+"-"+B].def.on_set_field_value=null,M[t+"-"+B].setValue(O),M[t+"-"+B].def.on_set_field_value=N)}}}return i};R={"margin-top":{fdef:$.extend({},e("Margin top",0,"margin","top",this),{}),$el:null},"margin-left":{fdef:$.extend({},e("Margin left",0,"margin","left",this),{}),$el:null},"padding-top":{fdef:$.extend({},e("Padding top",0,"padding","top",this),{slider_min:0}),$el:null},"padding-left":{fdef:$.extend({},e("Padding left",0,"padding","left",this),{slider_min:0}),$el:null},"padding-right":{fdef:$.extend({},e("Padding right",0,"padding","right",this),{slider_min:0}),$el:null},"padding-bottom":{fdef:$.extend({},e("Padding bottom",0,"padding","bottom",this),{slider_min:0}),$el:null},"margin-right":{fdef:$.extend({},e("Margin right",0,"margin","right",this),{}),$el:null},"margin-bottom":{fdef:$.extend({},e("Margin bottom",0,"margin","bottom",this),{}),$el:null}};return t.onDefine=function(){for(var e in R)this.registerInputField(e,R[e].fdef)},t.onShow=function(){var t=this,e=(h=$('<div class="margin-and-padding-container text-center"></div>'),x(this.obj)),e=(c(e),this.showInputField(h,"margin-top",R["margin-top"].fdef)),e=(R["margin-top"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["margin-top"]=e,this.showInputField(h,"margin-left",R["margin-left"].fdef)),e=(R["margin-left"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["margin-left"]=e,$('<div class="margin-border"></div>').appendTo(h)),n=$('<div class="change-all-margin-icon change-all-icon">                                                            <i class="icon-same"></i>                                                        </div>').appendTo(e),n=(addTooltip(n,"Use the same margin on all four sides."),(R["margin-$icon"]=n).on("click",function(e){i(e,"margin",t)}),$('<div class="padding-container"></div>').appendTo(e)),e=this.showInputField(n,"padding-top",R["padding-top"].fdef),e=(R["padding-top"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["padding-top"]=e,this.showInputField(n,"padding-left",R["padding-left"].fdef)),e=(R["padding-left"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["padding-left"]=e,$('<div class="padding-border">                                        <div class="change-all-padding-icon change-all-icon"><i class="icon-same"></i></div>                                    </div>').appendTo(n).find("> .change-all-icon")),e=(addTooltip(e,"Use the same padding on all four sides."),(R["padding-$icon"]=e).on("click",function(e){i(e,"padding",t)}),this.showInputField(n,"padding-right",R["padding-right"].fdef)),e=(R["padding-right"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["padding-right"]=e,this.showInputField(n,"padding-bottom",R["padding-bottom"].fdef)),n=(R["padding-bottom"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["padding-bottom"]=e,this.showInputField(h,"margin-right",R["margin-right"].fdef)),e=(R["margin-right"].$el=n.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["margin-right"]=n,this.showInputField(h,"margin-bottom",R["margin-bottom"].fdef));return R["margin-bottom"].$el=e.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),M["margin-bottom"]=e,h},t.onSetValues=function(){var e,t=x(this.obj);for(e in c(t),R){var n=null,i=(t[e]&&(n=t[e].value||t[e]),e.split("-"));R[e].$el&&(M[e].setValue(n),p(i[0],i[1],n)),h&&h.data("old-"+e+"-value",n)}for(var a=["margin","padding"],o=0;o<a.length;o++){var r=a[o],l=R[r+"-top"].value,s=R[r+"-left"].value,d=R[r+"-right"].value,u=R[r+"-bottom"].value;l&&l==s&&s==d&&d==u?(R[r+"-$icon"].addClass("active"),m[r]=!0):(R[r+"-$icon"].removeClass("active"),m[r]=!1)}},t}}}},dimension:{name:"Dimension",icons:!0,get_has_data:e("dimension"),fields:{width:{name:"Width",type:"slider",min:0,max:2e3,icon:"icon-width",units:!0,on_changed:F,highlight:!0,style_input:!0},max_min_width_control:{type:"custom",name:"Min/Max Width",action:"none",control:function(){var e=new PgCustomPropertyControl("css-min-max-width");return e.onDefine=function(){this.registerInputField("min-width",B("Min width","")),this.registerInputField("max-width",B("Max width",""))},e.onShow=function(){var e=$('<div class="crsa-grid-fields double-fields">                                        <table class="crsa-grid-table">                                            <tbody>                                                <tr>                                                </tr>                                            </tbody>                                        </table>                                    </div>'),t=e.find("tr"),n=($('<td class="crsa-td-empty-width"></td>').appendTo(t),$("<td></td>").appendTo(t)),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");$("<td><label>Min.</label></td>").appendTo(i),n=$("<td></td>").appendTo(i);this.showInputField(n,"min-width",B("Min width","",{highlight:!0,style_input:!0})).$field.addClass("crsa-inline-container"),n=$("<td></td>").appendTo(t),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");return $("<td><label>Max.</label></td>").appendTo(i),n=$("<td></td>").appendTo(i),this.showInputField(n,"max-width",B("Max width","",{highlight:!0,style_input:!0})).$field.addClass("crsa-inline-container"),e},e.onSetValues=function(){},e}},height:{name:"Height",type:"slider",min:0,max:2e3,icon:"icon-height",units:!0,on_changed:F,highlight:!0,style_input:!0},max_min_height_control:{type:"custom",name:"Min/Max Height",action:"none",control:function(){var e=new PgCustomPropertyControl("css-min-max-height");return e.onDefine=function(){this.registerInputField("min-height",B("Min height","")),this.registerInputField("max-height",B("Max height",""))},e.onShow=function(){var e=$('<div class="crsa-grid-fields double-fields">                                        <table class="crsa-grid-table">                                            <tbody>                                                <tr>                                                </tr>                                            </tbody>                                        </table>                                    </div>'),t=e.find("tr"),n=($('<td class="crsa-td-empty-width"></td>').appendTo(t),$("<td></td>").appendTo(t)),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");$("<td><label>Min.</label></td>").appendTo(i),n=$("<td></td>").appendTo(i);this.showInputField(n,"min-height",B("Min height","",{highlight:!0,style_input:!0})).$field.addClass("crsa-inline-container"),n=$("<td></td>").appendTo(t),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");return $("<td><label>Max.</label></td>").appendTo(i),n=$("<td></td>").appendTo(i),this.showInputField(n,"max-height",B("Max height","",{highlight:!0,style_input:!0})).$field.addClass("crsa-inline-container"),e},e.onSetValues=function(){},e}}}},display_prop:{name:"Display",get_has_data:e("display"),fields:{display:t,visibility:{name:"Visibility",can_add_items:!0,type:"select",show_empty:!0,style_input:!0,options:[{key:"visible",name:"Visible"},{key:"hidden",name:"Hidden"},{key:"collapse",name:"Collapse"},{key:"inherit",name:"Inherit"}]},"vertical-align":{name:"Vertical align",can_add_items:!0,type:"select",show_empty:!0,style_input:!0,options:[{key:"baseline",name:"Baseline"},{key:"sub",name:"Sub"},{key:"super",name:"Super"},{key:"text-top",name:"Text top"},{key:"text-bottom",name:"Text bottom"},{key:"middle",name:"Middle"},{key:"top",name:"Top"},{key:"bottom",name:"Bottom"},{key:"inherit",name:"Inherit"}]},resize:{type:"select",name:"Resize",show_empty:!0,style_input:!0,options:[{key:"none",name:"None"},{key:"both",name:"Both"},{key:"horizontal",name:"Horizontal"},{key:"vertical",name:"Vertical"},{key:"initial",name:"Initial"},{key:"inherit",name:"Inherit"}]},overflow:{type:"select",name:"Overflow",show_empty:!0,toggle_buttons:!0,style_input:!0,options:[{key:"hidden",name:"Hidden",html:g.makeIcon("overflow-X",{attributes:{title:"Hidden"}})},{key:"auto",name:"Auto",html:g.makeIcon("overflow-A",{attributes:{title:"Auto"}})},{key:"scroll",name:"Scroll",html:g.makeIcon("overflow-S",{attributes:{title:"Scroll"}})}]},float:{type:"select",name:"Float",show_empty:!0,toggle_buttons:!0,style_input:!0,options:[{key:"none",name:"None",html:g.makeIcon("float",{attributes:{title:"None"}})},{key:"left",name:"Left",html:g.makeIcon('float-left"',{attributes:{title:"Left"}})},{key:"right",name:"Right",html:g.makeIcon("float-right",{attributes:{title:"Right"}})}]},clear:{type:"select",name:"Clear",show_empty:!0,toggle_buttons:!0,style_input:!0,options:[{key:"both",name:"Both",html:g.makeIcon("float",{attributes:{title:"Both"}})},{key:"left",name:"Left",html:g.makeIcon("float-left",{attributes:{title:"Left"}})},{key:"right",name:"Right",html:g.makeIcon("float-right",{attributes:{title:"Right"}})}]},"box-sizing":{name:"Box sizing",type:"select",show_empty:!0,style_input:!0,options:[{key:"content-box",name:"Content box"},{key:"border-box",name:"Border box"},{key:"initial",name:"Initial"},{key:"inherit",name:"Inherit"}]},opacity:{name:"Opacity",type:"slider",style_input:!0,slider_def_unit:"",slider_step:.1,slider_min:0,slider_max:1,add_default_unit:""},cursor:{name:"Cursor",type:"select",show_empty:!0,style_input:!0,can_add_items:!0,options:[{key:"default",name:"Default"},{key:"none",name:"None"},{key:"alias",name:"Alias"},{key:"all-scroll",name:"All scroll"},{key:"auto",name:"Auto"},{key:"cell",name:"Cell"},{key:"context-menu",name:"Context menu"},{key:"col-resize",name:"Col resize"},{key:"copy",name:"Copy"},{key:"crosshair",name:"Crosshair"},{key:"e-resize",name:"E resize"},{key:"ew-resize",name:"EW resize"},{key:"grab",name:"Grab"},{key:"grabbing",name:"Grabbing"},{key:"help",name:"Help"},{key:"move",name:"Move"},{key:"n-resize",name:"N resize"},{key:"ne-resize",name:"Ne resize"},{key:"nesw-resize",name:"NESW resize"},{key:"ns-resize",name:"NS resize"},{key:"nw-resize",name:"NW resize"},{key:"nwse-resize",name:"NWSE resize"},{key:"no-drop",name:"No drop"},{key:"not-allowed",name:"Not allowed"},{key:"pointer",name:"Pointer"},{key:"progress",name:"Progress"},{key:"row-resize",name:"Row resize"},{key:"s-resize",name:"S resize"},{key:"se-resize",name:"SE resize"},{key:"sw-resize",name:"SW resize"},{key:"text",name:"Text"},{key:"w-resize",name:"W resize"},{key:"wait",name:"Wait"},{key:"zoom-in",name:"Zoom in"},{key:"zoom-out",name:"Zoom out"}]},"object-fit":{name:"Object fit",can_add_items:!0,type:"select",show_empty:!0,style_input:!0,options:[{key:"fill",name:"Fill"},{key:"contain",name:"Contain"},{key:"cover",name:"Cover"},{key:"none",name:"None"},{key:"scale-down",name:"Scale-down"}]},"object-position":{name:"Object position",type:"slider",style_input:!0},"aspect-ratio":{name:"Aspect ratio",type:"slider",style_input:!0,slider_def_unit:"",open_list_on_focus:!0,add_default_unit:"",options:[{key:"1/1",name:"1/1"},{key:"4/3",name:"4/3"},{key:"16/9",name:"16/9"},{key:"auto",name:"auto"},{key:"inherit",name:"inherit"}]}}},position_prop:{name:"Position",get_has_data:e("position"),fields:{position_control:{type:"custom",name:"position",action:"none",control:function(){var e=new PgCustomPropertyControl("css-position"),m=null,l=null,h="px";const r=100-12*2,s=60;var d=null,f={width:r,height:s},u={top:null,bottom:null,right:null,left:null},g={top:20,left:12,right:12,bottom:20},c=function(e,t,n,i){var a,o,r,l,s,d,u=null,c=(i||(u=m.data("old-"+t+"-value")),parseInt(n,10)),p=parseInt(u,10);n!=u&&c!=p&&(p=u="",o=a=null,r=(s=e.siblings(".position-overall-border")).find("> .position-padding-"+t),l=s.find("> .position-border"),"top"!=t&&"bottom"!=t||(u="height",h="px",a=s.find("> .position-padding-left"),o=s.find("> .position-padding-right")),"left"!=t&&"right"!=t||(u="width",h="%",p="margin-"+t,a=s.find("> .position-padding-top"),o=s.find("> .position-padding-bottom")),s=f[u],d=g[t],0==c?(r.css(u,0),l.css(u,s+d+h),a.css(u,s+d+h),o.css(u,s+d+h),p&&(a.css(p,"0"),o.css(p,"0")),f[u]=s+d):0==parseInt(r.css(u),10)&&(r.css(u,""),l.css(u,s-d+h),a.css(u,s-d+h),o.css(u,s-d+h),p&&(a.css(p,""),o.css(p,"")),f[u]=s-d))},p=function(e,t,n,i,a){var o=ge("change"==a,n,i);if(v)for(var r=["top","bottom","right","left"],l=0;l<r.length;l++){var s=r[l];s!=t&&(u[s].setValue(n),be(e,s,n,!1,l==r.length-1?"do":"skip",o),c(y[s].$el,s,n),m.data("old-"+s+"-value",n))}F(e,null,null,null,{highlight:!0})},y={top:{fdef:B("Top","Top",{style_input:!0,on_changed:function(e,t,n,i,a,o,r){c(o,"top",n),p(e,"top",n,i,r),m.data("old-top-value",n)}}),$el:null},left:{fdef:B("Left","Left",{style_input:!0,on_changed:function(e,t,n,i,a,o,r){c(o,"left",n),p(e,"left",n,i,r),m.data("old-left-value",n)}}),$el:null},right:{fdef:B("Right","Right",{style_input:!0,on_changed:function(e,t,n,i,a,o,r){c(o,"right",n),p(e,"right",n,i,r),m.data("old-right-value",n)}}),$el:null},bottom:{fdef:B("Bottom","Bottom",{style_input:!0,on_changed:function(e,t,n,i,a,o,r){c(o,"bottom",n),p(e,"bottom",n,i,r),m.data("old-bottom-value",n)}}),$el:null}};return e.onDefine=function(){for(var e in y)this.registerInputField(e,y[e].fdef)},e.onShow=function(){var e,r=this;for(e in m=$('<div class="position-container text-center"></div>'),y){var t=this.showInputField(m,e,y[e].fdef);y[e].$el=t.$field.addClass("crsa-small-input crsa-align-center-input crsa-inline-container"),u[e]=t}l=$('<div class="position-overall-border"></div>').appendTo(m);$('<div class="position-padding-top"></div>').appendTo(l),$('<div class="position-padding-left"></div>').appendTo(l);var n=$('<div class="position-border"></div>').appendTo(l);$('<div class="position-padding-right"></div>').appendTo(l),$('<div class="position-padding-bottom"></div>').appendTo(l);return(d=$('<div class="change-all-icon"><i class="icon-same"></i></div>').appendTo(n)).on("click",function(e){var t=r,n=$(e.currentTarget);if(n.toggleClass("active"),v=n.hasClass("active")){for(var i=["top","left","right","bottom"],a=null,o=0;o<i.length;o++)if(a=u[i[o]].getValue())break;p(t.obj,"",a,null,"change")}}),addTooltip(d,"Use the same distance on all four sides."),m},e.onSetValues=function(){l.find(".position-padding-top").css({height:"",width:"","margin-left":"","margin-right":""}),l.find(".position-padding-left").css({height:"",width:""}),l.find(".position-border").css({width:"",height:""}),l.find(".position-padding-right").css({height:"",width:""}),l.find(".position-padding-bottom").css({width:"",height:"","margin-left":"","margin-right":""}),f={width:r,height:s};for(var e in y){var t=y[e].$el;t&&c(t,e,this.values[e],!0),m&&m.data("old-"+e+"-value",this.values[e])}var n=this.values["top"],i=this.values["left"],a=this.values["right"],o=this.values["bottom"];v=n&&n==i&&i==a&&a==o?(d.addClass("active"),!0):(d.removeClass("active"),!1)},e}},position:{name:"Position",type:"select",show_empty:!0,style_input:!0,can_add_items:!0,options:[{key:"static",name:"Static"},{key:"relative",name:"Relative"},{key:"absolute",name:"Absolute"},{key:"fixed",name:"Fixed"},{key:"sticky",name:"Sticky"},{key:"inherit",name:"Inherit"}]},"z-index":{name:"Z-Index",type:"slider",style_input:!0,slider_def_unit:"",add_default_unit:""}}},background:{name:"Background",get_has_data:e("background"),icons:!0,fields:{background_control:{type:"custom",name:"background",action:"none",control:function(){var e=new PgCustomPropertyControl("css-bg"),t={type:"text",name:"Bckgr.",style_input:!0,action:"custom",add_default_unit:"",get_value:function(e,t,n){var i=n[t];return i=i&&(i.value||i)},set_value:function(e,t,n,i,a){return be(e,"background",t),"change"==a&&z.updateGradientValue(e,n),t}};return e.onDefine=function(){this.registerInputField("background",t)},e.onShow=function(){var e=$('<div class="background-container"></div>');return I["background"]=this.showInputField(e,"background",t),e},e.onSetValues=function(){},e}},"background-color":n("Color","color"),"background-image_control":{type:"custom",name:"background-image",action:"none",control:function(){var e=new PgCustomPropertyControl("css-css-bg-image"),t=n("Image","image",0,function(){},function(e,t,n,i,a){"change"!==a||pgf.kids||z.updateGradientValue(e,n)});return e.onDefine=function(){this.registerInputField("background-image",t)},e.onShow=function(){var e=$('<div class="background-image-container"></div>');return I["background-image"]=this.showInputField(e,"background-image",t),e},e.onSetValues=function(){},e}},gradient_control:{type:"custom",name:"gradient",action:"none",control:function(){return z.getControl()}},gradient_lib:{type:"button",name:"Gradient library",func:function(e,t){new PgQuickGradientLib(t)}},"background-repeat":{type:"select",name:"Repeat",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"no-repeat",name:"No repeat",html:g.makeIcon("repeat",{attributes:{title:"No repeat"}})},{key:"repeat",name:"Repeat",html:g.makeIcon("repeat-XY",{attributes:{title:"Repeat"}})},{key:"repeat-x",name:"Repeat x",html:g.makeIcon("repeat-X",{attributes:{title:"Repeat x"}})},{key:"repeat-y",name:"Repeat y",html:g.makeIcon("repeat-Y",{attributes:{title:"Repeat y"}})}]},"background-position":n("Position","position"),"background-size":n("Size","size"),"background-attachment":n("Attachment","attachment"),"background-origin":n("Origin","origin"),"background-clip":{name:"Background clip",can_add_items:!0,type:"select",show_empty:!0,style_input:!0,options:[{key:"border-box",name:"Border box"},{key:"padding-box",name:"Padding box"},{key:"content-box",name:"Content box"},{key:"text",name:"Text"}]}}},border_prop:{name:"Border &amp; Border radius",get_has_data:e("border"),fields:{border_control:{type:"custom",name:"border",action:"none",control:function(){function m(e){var t=$(e.view),n=(i=$(e.target).closest(".border-style")).closest(".crsa-field");r.data("border-style",i),r.data("prop",n.data("crsa-field")),o.insertAfter(n),r.insertAfter(n);var i=(n=i.offset()).top+21,n=n.left;i+r.height()>t.height()&&(i-=r.height()+23),r.css({top:i,left:n})}function h(e){var t,n,i,a,o=x(e.obj);if(o["border-radius"]){t=o["border-radius"],i=t.value||t,a={},i&&(n="",i.endsWith("!important")&&(n=" !important",i=i.substr(0,i.length-10).trim()),4==(i=(i=i.split(" ")).filter(function(e){return!!e})).length?(a["top-left"]=i[0]+n,a["top-right"]=i[1]+n,a["bottom-right"]=i[2]+n,a["bottom-left"]=i[3]+n):3==i.length?(a["top-left"]=i[0]+n,a["top-right"]=a["bottom-left"]=i[1]+n,a["bottom-right"]=i[2]+n):2==i.length?(a["top-left"]=a["bottom-right"]=i[0]+n,a["top-right"]=a["bottom-left"]=i[1]+n):1==i.length&&(a["top-left"]=a["top-right"]=a["bottom-left"]=a["bottom-right"]=i[0]+n));var r=a;if(0<Object.keys(r).length)for(var l=0;l<b.length;l++){var s="border-"+b[l].prop+"-radius";e.values[s]=T[s]=r[b[l].prop].value||r[b[l].prop]}}else for(l=0;l<b.length;l++){var d="";o[s="border-"+b[l].prop+"-radius"]&&(d=o[s].value||o[s]),e.values[s]=T[s]=d}}function f(e){function t(e,t,n,i){if(""==t){var a,o=(o=ke(n," ")).filter(function(e){return!!e}),r=we(o);for(a in r){var l=r[a];ve["border-"+e][a]={value:l,important:i}}}else ve["border-"+e][t]={value:n,important:i}}for(var n=["","top","left","right","bottom"],i=["","width","style","color"],a=_e(e.obj).rule,o=0;o<n.length;o++)for(var r=n[o],l=0;l<i.length;l++){var s=i[l],d=me("border",r,s),d=fe.pgPostCSSHelper.findNodeInside("decl","prop",d,a);if(d)if(""==r)for(var u=ye(d.value,d.important),c=1;c<n.length;c++)t(n[c],s,u.value,u.important);else t(r,s,(u=ye(d.value,d.important)).value,u.important)}}function g(){function t(e,t,n){return e&&e[t]||n}function e(e){return t(e.width,"important",!1)}function n(e){return t(e.width,"value",null)}function i(e){return t(e.style,"value",null)}function a(e){return t(e.color,"value",null)}var o=ve["border-top"],r=ve["border-left"],l=ve["border-right"],s=ve["border-bottom"],d=!1,u=o.width||r.width||l.width||s.width,c=u&&e(o)==e(r)&&e(r)==e(l)&&e(l)==e(s),p=u&&n(o)==n(r)&&n(r)==n(l)&&n(l)==n(s),m=o.style||r.style||l.style||s.style,h=m&&i(o)==i(r)&&i(r)==i(l)&&i(l)==i(s),f=o.color||r.color||l.color||s.color,o=f&&a(o)==a(r)&&a(r)==a(l)&&a(l)==a(s);!u&&!m&&!f?d=!1:(l=r=!0,m&&!h&&(l=!1),(r=!u||c&&p?r:!1)&&l&&(f&&!o?!1:!0)&&(d=!0)),xe=d?(v.addClass("active"),!0):(v.removeClass("active"),!1)}var a=new PgCustomPropertyControl("css-border"),y=null,v=null,D=null,A={"border-top":null,"border-bottom":null,"border-right":null,"border-left":null,"border-top-left-radius":null,"border-top-right-radius":null,"border-bottom-left-radius":null,"border-bottom-right-radius":null},_=[{prop:"border-top",fdef:B("border-top","Top",{action:"custom",slider_def_unit:"px",slider_min:0,style_input:!0,skip_adding_units_on_input:!0,highlight:!1,get_value:function(e){},set_value:function(e,t,n,i,a,o){return k(e,"border","top",{width:t},"change"==a),t}})},{prop:"border-left",fdef:B("border-left","Left",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,get_value:function(e){},set_value:function(e,t,n,i,a,o){return k(e,"border","left",{width:t},"change"==a),t}})},{prop:"border-right",fdef:B("border-right","Right",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,get_value:function(e){},set_value:function(e,t,n,i,a,o){return k(e,"border","right",{width:t},"change"==a),t}})},{prop:"border-bottom",fdef:B("border-bottom","Bottom",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,get_value:function(e){},set_value:function(e,t,n,i,a,o){return k(e,"border","bottom",{width:t},"change"==a),t}})}],b=[{prop:"top-left",fdef:B("border-top-left-radius","",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,set_value:function(e,t,n,i,a,o){return w(e,"radius","top-left",t,"change"==a),t}})},{prop:"top-right",fdef:B("border-top-right-radius","",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,set_value:function(e,t,n,i,a,o){return w(e,"radius","top-right",t,"change"==a),t}})},{prop:"bottom-left",fdef:B("border-bottom-left-radius","",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,set_value:function(e,t,n,i,a,o){return w(e,"radius","bottom-left",t,"change"==a),t}})},{prop:"bottom-right",fdef:B("border-bottom-right-radius","",{action:"custom",slider_def_unit:"px",slider_min:0,highlight:!1,style_input:!0,skip_adding_units_on_input:!0,set_value:function(e,t,n,i,a,o){return w(e,"radius","bottom-right",t,"change"==a),t}})}],o=$('<div class="overlay-border"></div>'),r=$('<ul class="border-style-menu">                                    <li data-value="none" alt="none"><div class="empty-border icon-close"></div></li>                                    <li data-value="solid" alt="solid"><div class="solid-border"></div></li>                                    <li data-value="dashed" alt="dashed"><div class="dashed-border"></div></li>                                    <li data-value="dotted" alt="dotted"><div class="dotted-border"></div></li>                                    <li data-value="double" alt="double"><div class="double-border"></div></li>                                    <li data-value="groove" alt="groove"><div class="groove-border"></div></li>                                    <li data-value="inset" alt="inset"><div class="inset-border"></div></li>                                    <li data-value="outset" alt="outset"><div class="outset-border"></div></li>                                    <li data-value="ridge" alt="ridge"><div class="ridge-border"></div></li>                                </ul>'),pe=function(e,t,n){var i=e.find(".border-value"),i=(i.attr("class","border-value"),"none"==n?(i.addClass("icon-minus"),i.css("border-width","")):(i.css("border-style",n),"double"==n?i.css("border-width","3px"):i.css("border-width","")),n);y.css(t+"-style",i="none"==i?"solid":i)},me=(o.on("click",function(e){r.detach(),o.detach()}),r.find("li").on("click",function(e){var t=$(e.target).closest("li"),n=r.data("border-style"),i=r.data("prop"),t=t.data("value");pe(n,i,t),ve[i].style&&(t+=ve[i].style.important?" !important":""),k(a.obj,"border",l(i),{style:t},!0),r.detach(),o.detach()}),function(e,t,n){var i=t?`-`+t:"",a=n?`-`+n:"";return"border"==e?"border"+i+a:"radius"==e?"border"+i+a+"-radius":void 0}),l=function(e){return e?e.split("-")[1]||"":null},R=function(e,t,n){if("border"==e)return t;if("radius"==e){function i(e){return o[e]+(a.important?" !important":"")}var a=ye(t),o=a.value.split(" ");if(4==(o=o.filter(function(e){return!!e})).length)switch(n){case"top-left":return i(0);case"top-right":return i(1);case"bottom-right":return i(2);case"bottom-left":return i(3)}else if(3==o.length)switch(n){case"top-left":return i(0);case"top-right":case"bottom-left":return i(1);case"bottom-right":return i(2)}else if(2==o.length)switch(n){case"top-left":case"bottom-right":return i(0);case"top-right":case"bottom-left":return i(1)}else if(1==o.length)return i(0);return null}},he=function(e){switch(e){case"top":return _[0];case"left":return _[1];case"right":return _[2];case"bottom":return _[3];default:return null}},k=function(e,d,D,A,R){function V(e,t,n,i,a){var o=[];if(""==t){var r,l=(l=ke(i," ")).filter(function(e){return!!e}),o=[],s=we(l);for(r in s){var d=s[r];o.push({styleName:r,value:d,prop:n})}}else o.push({styleName:m,value:i,prop:n});for(var u=0;u<o.length;u++){var c=o[u];p[e][c.styleName]={value:c.value,prop:c.prop,important:a}}}for(var j=_e(e).rule,t=["","top","left","right","bottom"],n=["","width","style","color"],L=Object.keys(A),i=[],p={},a=0;a<t.length;a++){var o=t[a];o&&!p[o]&&(p[o]={});for(var r=0;r<n.length;r++){var l,s,m=n[r],u=me(d,o,m),c=fe.pgPostCSSHelper.findNodeInside("decl","prop",u,j);if(c)if(i.push(u),""==o)for(var h=ye(c.value,c.important),G=1;G<t.length;G++)p[P=t[G]]||(p[P]={}),V(P,m,u,h.value,h.important);else{h=ye(c.value,c.important);V(o,m,u,h.value,h.important)}o&&(o==D||xe)&&-1<L.indexOf(m)&&(c=A[m],l=ye(c),p[o][m]={value:l.value,important:l.important},O=me(d,o),ve[O][m]={value:l.value,important:l.important},s=he(o).obj,"width"==m?s.setValue(c):"style"==m?(c=s.$field.find(".border-style"),pe(c,O,l.value)):"color"==m&&s.$field.find(".color-input").spectrum("set",l.value))}}function E(e,t){var n=me("border","",t),i=me("border",e,""),a=me("border","","");return!(S[n]||S[i]||S[a])}function W(e,t){var n=me("border",e,t);return!S[n]&&-1<i.indexOf(n)}function f(e){function t(e,t){return e[t]&&e[t]||""}var n={width:"",style:"",color:""};return p[e]&&(n["width"]=t(p[e],"width"),n["style"]=t(p[e],"style"),n["color"]=t(p[e],"color")),n}function H(e,t){var n,i=p[e||D||"top"];if(t){if(i[t].value)return n=i[t].important?" !important":"",i[t].value+n}else if(i.width.value&&i.style.value&&i.style.value)return n=i.width.important?"!important":"",`${i.width.value} ${i.style.value} ${i.color.value} `+n;return null}function U(e,t,n,i,a){for(var o=function(e,t){for(var n=Q(e,t),i=n.directions,a=n.styles,o=[],r=0;r<i.length;r++)for(var l=i[r],s=0;s<a.length;s++){var d=a[s];o.push({currDir:l,currType:d})}return o}(e,t),r=0;r<o.length;r++){var l,s=o[r];n(s.currDir,s.currType)&&(l=H(s.currDir,s.currType))&&i(me(d,s.currDir)+(s.currType?`-`+s.currType:""),l,s.currDir,s.currType)}}function X(e,t,n,i){S[e]={value:t,direction:n,styleType:i}}function q(e){z.indexOf(e)<0&&z.push(e)}for(var g,y,v,_,b,k,w,x,$,I,T,C,Y=["",D],Z=["",...L],Q=function(e,t){var n=[],i=[];return e?n.push(e):n.push("top","left","right","bottom"),t?i.push(t):i.push("","width","style","color"),{directions:n,styles:i}},S={},z=[],a=0;a<Y.length;a++)for(var P=Y[a],r=0;r<Z.length;r++){var F,B=Z[r],J=me(d,P)+(B?`-`+B:"");C=T=I=$=x=w=k=b=_=v=F=void 0,E(g=P,y=B)&&(""==g?(T=f("top"),F=f("left"),v=f("right"),_=f("bottom"),""==y?(b=($=T.width&&F.width&&v.width&&_.width)&&T.width.value&&F.width.value&&v.width.value&&_.width.value,$=$&&T.width.important==F.width.important&&F.width.important==v.width.important&&v.width.important==_.width.important,b=b&&T.width.value==F.width.value&&F.width.value==v.width.value&&v.width.value==_.width.value,k=T.style&&F.style&&v.style&&_.style&&T.style.value&&F.style.value&&v.style.value&&_.style.value&&T.style.value==F.style.value&&F.style.value==v.style.value&&v.style.value==_.style.value,w=T.color&&F.color&&v.color&&_.color&&T.color.value&&F.color.value&&v.color.value&&_.color.value&&T.color.value==F.color.value&&F.color.value==v.color.value&&v.color.value==_.color.value,$&&b&&k&&w):(b=T.width.value&&T.style.value&&T.color.value,k=F.width.value&&F.style.value&&F.color.value,w=v.width.value&&v.style.value&&v.color.value,x=_.width.value&&_.style.value&&_.color.value,I=(C=T[y]&&F[y]&&v[y]&&_[y])&&T[y].value&&F[y].value&&v[y].value&&_[y].value,$=C&&T[y].important==F[y].important&&F[y].important==v[y].important&&v[y].important==_[y].important,I=I&&T[y].value==F[y].value&&F[y].value==v[y].value&&v[y].value==_[y].value,$&&I&&!(b&&k&&w&&x))):(T=f(g),""==y?(C=T.width&&T.style&&T.color)&&T.width.value&&T.style.value&&T.color.value:T[y]&&T[y].value))?((F=H(P,B))&&X(J,F,P,B),U(P,B,W,function(e,t){q(e)})):(x=w=k=b=I=$=_=v=void 0,x=me("border",g=P,y=B),-1!=i.indexOf(x)&&(""==g?(x=f("top"),v=f("left"),_=f("right"),$=f("bottom"),""==y?(b=(k=!(x.width.value&&v.width.value&&_.width.value&&$.width.value))||x.width.important!=v.width.important||v.width.important!=_.width.important||_.width.important!=$.width.important,k=k||x.width.value!=v.width.value&&v.width.value!=_.width.value&&_.width.value!=$.width.value,w=!(x.style.value&&v.style.value&&_.style.value&&$.style.value)||x.style.value!=v.style.value&&v.style.value!=_.style.value&&_.style.value!=$.style.value,I=!(x.color.value&&v.color.value&&_.color.value&&$.color.value)||x.color.value!=v.color.value&&v.color.value!=_.color.value&&_.color.value!=$.color.value,b||k||w||I):(b=x[y].important!=v[y].important||v[y].important!=_[y].important||_[y].important!=$[y].important,k=x[y].value!=v[y].value||v[y].value!=_[y].value||_[y].value!=$[y].value,b||k)):(w=f(g),!(""==y?w.width.value&&w.style.value&&w.color.value:w[y].value)))&&(q(J),U(P,B,E,function(e,t,n,i){X(e,t,n,i)})))}if(S["border"])for(var N=0;N<t.length;N++)for(var K=t[N],N=0;N<n.length;N++){var ee=me("border",K,n[N]);-1<i.indexOf(ee)&&!S[ee]&&z.push(ee)}else{var te=S["border-top"]||-1<i.indexOf("border-top"),ne=S["border-left"]||-1<i.indexOf("border-left"),ie=S["border-right"]||-1<i.indexOf("border-right"),ae=S["border-bottom"]||-1<i.indexOf("border-bottom");if(te&&ne&&ie&&ae)for(N=0;N<n.length;N++){var oe=me(d,"",n[N]);-1<i.indexOf(oe)&&z.indexOf(oe)<0&&z.push(oe)}}for(var re=Object.keys(S),le=z.length,a=0;a<le;a++){var O=z[a],M="skip";a+1==le&&0==re.length&&(M="do"),be(e,O,null,!1,M,!0)}for(var se=re.length,a=0;a<se;a++){var de=re[a],ue=(P=S[de]).value,M="skip",ce=(a+1==se&&(M="do"),null),ce=(-1<i.indexOf(de)&&(ce="NotNull"),ge(R,ue,ce));be(e,de,ue,!1,M,ce)}0&&pgIsDev()&&(console.log("=>=>=>=> borderProps: ",i),console.log("=>=>=>=> addDirections: ",S),console.log("=>=>=>=> removeDirections: ",z))},w=function(e,t,n,i,a){void 0===a&&(a=!0);for(var o=ye(i),r=D.hasClass("active"),l=["","top-left","top-right","bottom-left","bottom-right"],s=_e(e).rule,d=[],u=0;u<l.length;u++){d[S=l[u]]||(d[S]={important:!1});var c=me(t,S),p=fe.pgPostCSSHelper.findNodeInside("decl","prop",c,s);if(p)if(""==S){var m=ye(p.value,p.important);d[S]={value:m.value};for(var h=1;h<l.length;h++){var f=l[h];d[f]={value:R(t,m.value,f),important:m.important,native:!1}}}else{m=ye(p.value,p.important);d[S]={value:m.value,important:m.important,native:!0}}}for(var g,y=("top-left"==n?o:d["top-left"]).value,v=("top-right"==n?o:d["top-right"]).value,_=("bottom-left"==n?o:d["bottom-left"]).value,b=("bottom-right"==n?o:d["bottom-right"]).value,k=("top-left"==n?o:d["top-left"]).important,w=("top-right"==n?o:d["top-right"]).important,x=("bottom-left"==n?o:d["bottom-left"]).important,$=("bottom-right"==n?o:d["bottom-right"]).important,I=[],T={},C=(r||y&&v&&_&&b&&(k==w&&w==x&&x==$)?(g=y==v&&v==_&&_==b,d["top-left"].native&&I.push("top-left"),d["top-right"].native&&I.push("top-right"),d["bottom-left"].native&&I.push("bottom-left"),d["bottom-right"].native&&I.push("bottom-right"),r||g?(g=k||w||x||$,T[""]=r&&n?o.value:y||v||_||b,T[""]+=r&&n?o.important?" !important":"":g?" !important":""):(T[""]=y+` `+v,y==b&&v==_||(T[""]+=` `+b,v!=_&&(T[""]+=` `+_)),T[""]+=k?" !important":"")):d[""].value?(I.push(""),d["top-left"].forceDispatch=!0,d["top-right"].forceDispatch=!0,d["bottom-left"].forceDispatch=!0,d["bottom-right"].forceDispatch=!0,T["top-left"]=y+(k?" !important":""),T["top-right"]=v+(w?" !important":""),T["bottom-left"]=_+(x?" !important":""),T["bottom-right"]=b+($?" !important":"")):"top-left"==n?T["top-left"]=y+(k?" !important":""):"top-right"==n?T["top-right"]=v+(w?" !important":""):"bottom-left"==n?T["bottom-left"]=_+(x?" !important":""):"bottom-right"==n&&(T["bottom-right"]=b+($?" !important":"")),I.length),u=0;u<C;u++){var S=I[u],z="skip",c=(u+1==C&&0==T.length&&(z="do"),me(t,S));V(c,null),be(e,c,null,!1,z,!0)}for(var P=Object.keys(T),F=P.length,u=0;u<F;u++){var B=T[S=P[u]];if(void 0!==B){var z="skip",c=(u+1==F&&(z="do"),me(t,S)),N=d[S].value,N=(d[S].forceDispatch&&(N=null),ge(a,B,N));if(be(e,c,B,!1,z,N),""==S)for(h=1;h<l.length;h++){var O=R(t,B,l[h]),M=me(t,l[h]);A[M].setValue(O),V(M,O)}else A[c].setValue(B),V(c,B)}}return i},V=function(e,t){0==t?y.css(e,t):y.css(e,"")};return a.onDefine=function(){for(var e=0;e<b.length;e++){var t="border-"+b[e].prop+"-radius";this.registerInputField(t,b[e].fdef)}for(e=0;e<_.length;e++)this.registerInputField(t,_[e].prop,_[e].fdef)},a.onShow=function(){var c=this,e=$('<div class="border-radius-container text-center"></div>'),t=$('<div class="control-container"></div>').appendTo(e);h(this),f(this);for(var n=0;n<b.length;n++){var i="border-"+b[n].prop+"-radius",a=this.showInputField(t,i,b[n].fdef);(A[i]=a).$field.addClass("crsa-small-input crsa-align-left-input crsa-inline-container aaahas-icon-before")}y=$('<div class="border-radius-border"></div>').appendTo(t);for(n=0;n<_.length;n++){var i=_[n].prop,o=this.showInputField(t,i,_[n].fdef),o=(_[n].obj=o,(A[i]=o).$field),o=(o.addClass("crsa-small-input crsa-align-left-input triple-input"),o.find("input")),r=$('<input class="color-input" type="text">').insertAfter(o),l=(r.data("crsa-field",i),r.spectrum({showAlpha:!0,color:ve[i].color&&ve[i].color.value||"black",showInput:!0}),function(e,t,n){var i,a;e&&(i=t.split("-")[1],a=1==(e=e).toRgb()["a"]?e.toHexString():e.toRgbString(),ve[t].color&&(a+=ve[t].color.important?" !important":""),k(c.obj,"border",i,{color:a},n))}),s=function(e,t){var n=$(e.target).data("crsa-field");l(t,n,"move"!=e.type)},d=(r.on("move.spectrum",s),r.on("change.spectrum",s),r.on("hide.spectrum",s),d&&d.remove(),new PgSpectrumHelper(r,{"mouse-moved":function(e){var t=e.spectrum("get"),n=e.data("crsa-field");l(t,n,!1)},"color-picked":null})),s='class="border-value',r=ve[i].style?ve[i].style.value:"",u=(r&&"none"!=r?(s+='" style="border-style:'+r,"double"==r&&(s+=";border-width:3px"),s+=';"'):s+=' icon-minus"',r);y.css(i+"-style",u="none"==r?"solid":u),$('<div class="border-style"><div '+s+"></div></div>").insertAfter(o)}t.find(".border-style").on("click",m);var p=$('<div class="change-all-container"></div>').appendTo(e);return(v=$('<div data-type="width" class="change-all-icon"><i class="icon-same"></i></div>').appendTo(p)).on("click",function(e){var t=c,n=$(e.currentTarget);if(n.toggleClass("active"),xe=n.hasClass("active")){for(var i={},a=["width","style","color"],o=["top","left","right","bottom"],r=0;r<o.length;r++)for(var l=o[r],s=0;s<a.length;s++){var d=a[s],u=ve["border-"+l][d];u&&u.value&&(i[d]=u.value,u.important&&(i[d]+=" !important"),a.splice(s,1),s--)}k(t.obj,"border","top",i,!0)}}),addTooltip(v,"Use the same border on all four sides"),D=$('<div class="change-all-border-raduis"><i class="icon-round_lu"></i><i class="icon-same"></i></div>').appendTo(p),addTooltip(D,"Use same radius in all four corners."),D.on("click",function(e){var t=c,n=$(e.currentTarget);if(n.toggleClass("active"),n.hasClass("active"))for(var i=["top-left","top-right","bottom-right","bottom-left"],a=t.obj,o=0;o<i.length;o++){var r=me("radius",i[o]),r=A[r].getValue();if(r){w(a,"radius",i[o],r,!0);break}}}),g(),e},a.onSetValues=function(){T={"border-top-left-radius":null,"border-top-right-radius":null,"border-bottom-left-radius":null,"border-bottom-right-radius":null},h(this);for(var e,t,n,i,a=0;a<b.length;a++){var o="border-"+b[a].prop+"-radius";A[o].setValue(T[o]),V(o,this.values[o])}e=T["border-top-left-radius"],t=T["border-top-right-radius"],n=T["border-bottom-left-radius"],i=T["border-bottom-right-radius"],e&&e==t&&t==n&&n==i?D.addClass("active"):D.removeClass("active"),ve={"border-top":{},"border-bottom":{},"border-left":{},"border-right":{}},f(this);for(a=0;a<_.length;a++){var o=_[a].prop,r=_[a].obj,l=ve[o].width?ve[o].width.value:null,l=(l&&ve[o]["width"].important&&(l+=" !important"),r.setValue(l),_[a].obj.$field.find(".border-style"));pe(l,o,ve[o].style&&ve[o].style.value||"none"),r.$field.find(".color-input").spectrum("set",ve[o].color&&ve[o].color.value||"black")}g()},a}},outline:{name:"Outline",type:"slider",style_input:!0,slider_def_unit:"px",open_list_on_focus:!0,options:[{key:"none",name:"None"},{key:"1px solid #cccccc",name:"1px solid #cccccc"}]},"outline-offset":{name:"Outline offset",type:"slider",style_input:!0,slider_def_unit:"px"}}},flex:{name:"Flex container",icons:!0,get_has_data:e("flex_container"),fields:{display:t,"flex-direction":{name:"Direction",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"row",name:"Row",html:g.makeIcon("225",{attributes:{title:"Row"}})},{key:"row-reverse",name:"Row reverse",html:g.makeIcon("224",{attributes:{title:"Row reverse"}})},{key:"column",name:"Column",html:g.makeIcon("227",{attributes:{title:"Column"}})},{key:"column-reverse",name:"Column reverse",html:g.makeIcon("226",{attributes:{title:"Column reverse"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},"flex-align-items":{name:"Align items",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,css_property:"align-items",options:[{key:"flex-start",name:"Start",html:g.makeIcon("223",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("221",{attributes:{title:"Center"}})},{key:"flex-end",name:"End",html:g.makeIcon("220",{attributes:{title:"End"}})},{key:"stretch",name:"Stretch",html:g.makeIcon("214",{attributes:{title:"Stretch"}})},{key:"baseline",name:"Baseline",html:g.makeIcon("212",{attributes:{title:"Baseline"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},"flex-justify-content":{name:"Justify content",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,css_property:"justify-content",options:[{key:"flex-start",name:"Start",html:g.makeIcon("223",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("219",{attributes:{title:"Center"}})},{key:"flex-end",name:"End",html:g.makeIcon("218",{attributes:{title:"End"}})},{key:"space-between",name:"Space between",html:g.makeIcon("206",{attributes:{title:"Space between"}})},{key:"space-around",name:"Space around",html:g.makeIcon("205",{attributes:{title:"Space around"}})},{key:"space-evenly",name:"Space evenly",html:g.makeIcon("205",{attributes:{title:"Space evenly"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},"flex-wrap":{name:"Wrap",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"wrap",name:"Wrap",html:g.makeIcon("204",{attributes:{title:"Wrap"}})},{key:"nowrap",name:"No wrap",html:g.makeIcon("203",{attributes:{title:"No wrap"}})},{key:"wrap-reverse",name:"Wrap reverse",html:g.makeIcon("202",{attributes:{title:"Wrap reverse"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},"flex-align-content":{name:"Align content",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,css_property:"align-content",options:[{key:"flex-start",name:"Start",html:g.makeIcon("217",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("215",{attributes:{title:"Center"}})},{key:"flex-end",name:"End",html:g.makeIcon("216",{attributes:{title:"End"}})},{key:"stretch",name:"Stretch",html:g.makeIcon("214",{attributes:{title:"Stretch"}})},{key:"space-between",name:"Space between",html:g.makeIcon("210",{attributes:{title:"Space between"}})},{key:"space-around",name:"Space around",html:g.makeIcon("209",{attributes:{title:"Space around"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},gap:{type:"slider",style_input:!0,slider_def_unit:"px",name:"Gap",placeholder:"10px",has_multiple_fields:!0},"row-gap":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Row gap",placeholder:"10px",has_multiple_fields:!0},"column-gap":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Column gap",placeholder:"10px",has_multiple_fields:!0}}},"flex-child":{name:"Flex child",icons:!0,get_has_data:e("flex_child"),fields:{"flex-basis":{name:"Basis",type:"slider",style_input:!0},"flex-size":{type:"custom",name:"Size",action:"none",control:function(){var e=new PgCustomPropertyControl("css-flex-grow-shrink");return e.onDefine=function(){this.registerInputField("flex-grow",B("Gr.","",{add_default_unit:""})),this.registerInputField("flex-shrink",B("Shr.","",{add_default_unit:""}))},e.onShow=function(){var e=$('<div class="crsa-grid-fields double-fields">                                        <table class="crsa-grid-table">                                            <tbody>                                                <tr>                                                </tr>                                            </tbody>                                        </table>                                    </div>'),t=e.find("tr"),n=($('<td class="crsa-td-empty-width"></td>').appendTo(t),$("<td></td>").appendTo(t)),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");$("<td><label>Grow</label></td>").appendTo(i),n=$("<td></td>").appendTo(i);this.showInputField(n,"flex-grow",B("Grow","",{style_input:!0,add_default_unit:"",slider_def_unit:""})).$field.addClass("crsa-inline-container"),n=$("<td></td>").appendTo(t),i=$("<table><tbody><tr></tr></tbody></table>").appendTo(n).find("tr");return $("<td><label>Shrink</label></td>").appendTo(i),n=$("<td></td>").appendTo(i),this.showInputField(n,"flex-shrink",B("Shrink","",{style_input:!0,add_default_unit:"",slider_def_unit:""})).$field.addClass("crsa-inline-container"),e},e.onSetValues=function(){},e}},order:{name:"Order",type:"slider",show_empty:!0,style_input:!0,add_default_unit:"",slider_def_unit:""},"flex-align-self":{name:"Align self",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,css_property:"align-self",options:[{key:"flex-start",name:"Start",html:g.makeIcon("211",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("213",{attributes:{title:"Center"}})},{key:"flex-end",name:"End",html:g.makeIcon("208",{attributes:{title:"End"}})},{key:"stretch",name:"Stretch",html:g.makeIcon("207",{attributes:{title:"Stretch"}})},{key:"baseline",name:"Baseline",html:g.makeIcon("212",{attributes:{title:"Baseline"}})}]}}},"box-shadow":{name:"Box shadow",icons:!0,get_has_data:/box\-shadow/i,fields:{"box-shadow_control":{type:"custom",name:"Shadow",action:"none",control:function(){var r=null,e=new PgCustomPropertyControl("css-box-shadow"),l=0,s=1;return e.onDefine=function(){},e.onShow=function(){var n=this,e=$('<div class="box-shadow-container"></div>'),t=(r=new PgPanelInputControl(e,"box-shadow","Shadow"),$('<a href="#" class="btn btn-default add-btn"><i class="icon icon-plus"></i> Add Shadow</a>').appendTo(e));return r.onAdd=function(e,t){y[t]||(y[t]={}),y[t].type=n.values["box-shadow-type-"+t]="outside";d(e,"box-shadow",t,n,["distance","blur","size","color","rotate","x","y","type"],y,c),e.data("box-shadow-rotation",y[t])},r.onDelete=function(e){delete n.values["box-shadow-distance-"+e],delete n.values["box-shadow-blur-"+e],delete n.values["box-shadow-size-"+e],delete n.values["box-shadow-color-"+e],delete n.values["box-shadow-x-"+e],delete n.values["box-shadow-y-"+e],delete n.values["box-shadow-type-"+e],V(n.obj,"box-shadow",n.values,e,y,c),s--},t.on("click",function(e){var t=r.addPanel(l,s);t.$panel,t.$collapse_link.click(),l++,s++,e.preventDefault()}),e},e.onSetValues=function(){l=0,y=[],c=!(s=1),pgRemoveSpectrum(r.$container),r.clear();for(var e=O(this.values["box-shadow"]),t=e.tokens,n=(c=e.important,this.obj.pgStylesheet.getDeclCharachter()),i=0;i<t.length;i++){var a=A("box-shadow",t,this.values,y,i,n),o=r.addPanel(l,s,!0).$body;a?d(o,"box-shadow",i,this,["distance","blur","size","color","rotate","x","y","type"],y,c):(y[i]={},y[i].text=this.values["box-shadow-"+i]=t[i].join(" "),this.showInputField(o,"box-shadow-"+i,N("Box shadow","shadow",{without_text:!1,without_icon:!1,action:"custom",index:i,get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,"box-shadow","box-shadow",t,o.index,y)}}))),l++,s++}r.getPanelGroup().find("> .panel:first-child > .panel-collapse").addClass("in")},e}}}},"text-shadow":{name:"Text shadow",icons:!0,get_has_data:/text\-shadow/i,fields:{"text-shadow_control":{type:"custom",name:"Shadow",action:"none",control:function(){var r=null,e=new PgCustomPropertyControl("css-text-shadow"),l=0,s=1;return e.onDefine=function(){},e.onShow=function(){var n=this,e=$('<div class="text-shadow-container"></div>'),t=(r=new PgPanelInputControl(e,"text-shadow","Shadow"),$('<a href="#" class="btn btn-default add-btn"><i class="icon icon-plus"></i> Add Shadow</a>').appendTo(e));return r.onAdd=function(e,t){_[t]||(_[t]={}),_[t].type=n.values["text-shadow-type-"+t]="outside";d(e,"text-shadow",t,n,["distance","blur","color","rotate","x","y","nonetype"],_,p),e.data("text-shadow-rotation",_[t])},r.onDelete=function(e){delete n.values["text-shadow-distance-"+e],delete n.values["text-shadow-blur-"+e],delete n.values["text-shadow-size-"+e],delete n.values["text-shadow-color-"+e],delete n.values["text-shadow-x-"+e],delete n.values["text-shadow-y-"+e],delete n.values["text-shadow-type-"+e],V(n.obj,"text-shadow",n.values,e,_,p),s--},t.on("click",function(e){r.addPanel(l,s).$panel.find("> .panel-heading .collapsed").click(),l++,s++,e.preventDefault()}),e},e.onSetValues=function(){l=0,_=[],p=!(s=1),pgRemoveSpectrum(r.$container),r.clear();for(var e=O(this.values["text-shadow"]),t=e.tokens,n=(p=e.important,this.obj.pgStylesheet.getDeclCharachter()),i=0;i<t.length;i++){var a=A("text-shadow",t,this.values,_,i,n),o=r.addPanel(l,s,!0).$body;a?d(o,"text-shadow",i,this,["distance","blur","color","rotate","x","y","nonetype"],_,p):(_[i]={},this.showInputField(o,"text-shadow-"+i,N("Box shadow","shadow",{without_text:!1,without_icon:!1,action:"custom",index:i,get_value:function(e){},set_value:function(e,t,n,i,a,o){return C(e,n,"text-shadow","text-shadow",t,o.index,_)}}))),l++,s++}r.getPanelGroup().find("> .panel:first-child > .panel-collapse").addClass("in")},e}}}},transforms:{name:"Transforms",icons:!0,get_has_data:/(transform|perspective)/i,fields:{transform_control:{type:"custom",name:"transform",action:"none",control:function(){var s=null,e=new PgCustomPropertyControl("css-transform"),d=0,m=1;return e.onDefine=function(){},e.onShow=function(){var p=this,e=$('<div class="transform-container"></div>'),t=(s=new PgPanelInputControl(e,"transform","Transform"),$('<a href="#" class="btn btn-default add-btn"><i class="icon icon-plus"></i> Add Transform</a>').appendTo(e));return s.onAdd=function(e,t){b[t]||(b[t]={}),b[t].type=p.values["transform-type-"+t]="translate",j(e,p,t,h),e.data("text-shadow-rotation",b[t])},s.onDelete=function(e){p.values["transform-text-"+e]&&delete p.values["transform-text-"+e],"translate"==p.values["transform-type-"+e]?(delete p.values["transform-translate-x-"+e],delete p.values["transform-translate-y-"+e],delete p.values["transform-translate-z-"+e]):"scale"==p.values["transform-type-"+e]?(delete p.values["transform-scale-x-"+e],delete p.values["transform-scale-y-"+e],delete p.values["transform-scale-z-"+e]):"rotate"==p.values["transform-type-"+e]?(delete p.values["transform-rotate-x-"+e],delete p.values["transform-rotate-y-"+e],delete p.values["transform-rotate-z-"+e]):"skew"==p.values["transform-type-"+e]&&(delete p.values["transform-skew-x-"+e],delete p.values["transform-skew-y-"+e]),delete p.values["transform-type-"+e];var t=p,n=e,i=[],a=0,o="";h&&(o=" !important");for(var r,l,s,d,u=0;u<b.length;u++)b[u].deleted||u!=n&&(r=b[u].type,b[u].text?i[a++]=b[u].text:"translate"==r||"scale"==r?(a++,s=b[u][r].x,d=b[u][r].y,l=b[u][r].z,w(i,r,s,d,l)):"rotate"==r?(s=b[u][r].x,d=b[u][r].y,l=b[u][r].z,w(i,r,s,d,l)):"skew"==r&&(a++,s=b[u][r].x,d=b[u][r].y,w(i,r,s,d,l)));b[n].deleted=!0;var c=t.obj;be(c,"transform",0<i.length?i.join(" ")+o:null),m--},t.on("click",function(e){s.addPanel(d,m).$panel.find("> .panel-heading .collapsed").click(),d++,m++,e.preventDefault()}),e},e.onSetValues=function(){d=0,b=[],h=!(m=1),s.clear();for(var e,t,n,i=M(this.values["transform"]),a=i.tokens,o=(h=i.important,this.obj.pgStylesheet.getDeclCharachter(),0);o<a.length;o++){e=a,t=this.values,l=r=void 0,b[n=o]={},l=e[n],b[n].type=t["transform-type-"+n]=l.key;var r="rotate"==l.key&&l.values.angle?(r=l.values,b[n].text=t["transform-text-"+n]="rotate3d("+r.x+","+r.y+","+r.z+", "+r.angle+")",!1):(r=l.key,b[n][r]||(b[n][r]={}),b[n][r].x=t["transform-"+r+"-x-"+n]=l.values.x,b[n][r].y=t["transform-"+r+"-y-"+n]=l.values.y,b[n][r].z=t["transform-"+r+"-z-"+n]=l.values.z,!0),l=s.addPanel(d,m,!0).$body;r?j(l,this,o,h):(b[o]={type:this.values["transform-type-"+o]},this.showInputField(l,"transform-text-"+o,N("Transform","",{without_text:!1,without_icon:!1,action:"custom",index:o,get_value:function(e){},set_value:function(e,t,n,i,a,o){return u(e,0,"text",t,o.index)}}))),d++,m++}s.getPanelGroup().find("> .panel:first-child > .panel-collapse").addClass("in")},e}},"transform-origin":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Transform origin"},perspective:{type:"slider",style_input:!0,slider_def_unit:"px",name:"Perspective"},"perspective-origin":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Perspective origin"},"transform-style":{type:"select",name:"Trans. style",show_empty:!0,style_input:!0,options:[{key:"flat",name:"Flat"},{key:"preserve-3d",name:"Preserve 3D"}]}}},transitions:{name:"Transitions",icons:!0,get_has_data:/transition/i,fields:{transition_control:{type:"custom",name:"transition",action:"none",control:function(){var r=null,e=new PgCustomPropertyControl("css-transition"),l=0,u=1;return e.onDefine=function(){},e.onShow=function(){var d=this,e=$('<div class="transform-container"></div>'),t=(r=new PgPanelInputControl(e,"transition","Transition"),$('<a href="#" class="btn btn-default add-btn"><i class="icon icon-plus"></i> Add Transition</a>').appendTo(e));return r.onAdd=function(e,t){k[t]||(k[t]={}),L(e,d,t,f)},r.onDelete=function(e){delete d.values["transition-text-"+e],delete d.values["transition-property-"+e],delete d.values["transition-duration-"+e],delete d.values["transition-timing-function-"+e],delete d.values["transition-delay-"+e];var t=d,n=e,i=[],a=0,o="";f&&(o=" !important");for(var r=0;r<k.length;r++)k[r].deleted||r==n||(l=a,k[r].text?i[a++]=k[r].text:(k[r].property&&(i[a++]=k[r].property),k[r].duration&&(i[a++]=k[r].duration),k[r].timingFn&&(i[a++]=k[r].timingFn),k[r].delay&&(i[a++]=k[r].delay)),r+1<k.length&&l!=a&&(i[a++]=","));","==i[l=i.length-1]&&i.splice(l,1),k[n].deleted=!0;var l,s=t.obj;be(s,"transition",0<i.length?i.join(" ").trim()+o:null),u--},t.on("click",function(e){r.addPanel(l,u).$panel.find("> .panel-heading .collapsed").click(),l++,u++,e.preventDefault()}),e},e.onSetValues=function(){l=0,k=[],f=!(u=1),r.clear();for(var e=x(this.obj),t="",e=(e["transition"]&&(t=e["transition"].value||e["transition"]),D(t)),n=e.tokens,i=(f=e.important,this.obj.pgStylesheet.getDeclCharachter(),0);i<n.length;i++){var a=function(e,t,n){k[n]={};for(var i=0,a=["property","duration","timingFn"];i<e.length;){if(e[i])if(-1<a.indexOf("duration")&&$.isNumeric(parseInt(e[i],10)))k[n].duration=t["transition-duration-"+n]=e[i],a.splice(a.indexOf("duration"),1),a.push("delay");else if(-1<a.indexOf("delay")&&$.isNumeric(parseInt(e[i],10)))k[n].delay=t["transition-delay-"+n]=e[i],a.splice(a.indexOf("delay"),1);else if(-1<a.indexOf("timingFn")&&-1<E.indexOf(getCSSFunctionNameAndParams(e[i]).name))k[n].timingFn=t["transition-timing-function-"+n]=e[i],a.splice(a.indexOf("timingFn"),1);else{if(!(-1<a.indexOf("property")&&isNaN(parseInt(e[i],10))))return!1;k[n].property=t["transition-property-"+n]=e[i],a.splice(a.indexOf("property"),1)}i++}return!0}(n[i],this.values,i),o=r.addPanel(l,u,!0).$body;a?L(o,this,i,f):(k[i]={},k[i].text=this.values["transition-text-"+i]=n[i],this.showInputField(o,"transition-text-"+i,N("Transition","",{without_text:!1,without_icon:!1,action:"custom",index:i,get_value:function(e){},set_value:function(e,t,n,i,a,o){return S(e,"text",t,o.index)}}))),l++,u++}r.getPanelGroup().find("> .panel:first-child > .panel-collapse").addClass("in")},e}}}},list:{name:"Lists",icons:!0,get_has_data:e("list"),fields:{"list-style-type":{name:"List type",type:"select",icon:"icon-list-type",show_empty:!0,style_input:!0,can_add_items:!0,options:[{key:"disc",name:"Disc"},{key:"circle",name:"Circle"},{key:"square",name:"Square"},{key:"decimal",name:"Decimal"},{key:"decimal-leading-zero",name:"Decimal leading zero"},{key:"lower-roman",name:"Lower roman"},{key:"upper-roman",name:"Upper roman"},{key:"lower-greek",name:"Lower greek"},{key:"lower-latin",name:"Lower latin"},{key:"upper-latin",name:"Upper latin"},{key:"armenian",name:"Armenian"},{key:"georgian",name:"Georgian"},{key:"lower-alpha",name:"Lower alpha"},{key:"upper-alpha",name:"Upper alpha"},{key:"none",name:"None"}]},"list-style-position":{name:"List position",type:"select",icon:"icon-list-pos",show_empty:!0,style_input:!0,can_add_items:!0,options:[{key:"inside",name:"Inside"},{key:"outside",name:"Outside"},{key:"inherit",name:"Inherit"}]},"list-style-image":{name:"List image",type:"image",style_input:!0,icon:"icon-list-image",action:"custom",get_value:function(e,t,n){return r(n,"list-style-image")},set_value:function(e,t,n,i,a){var o="list-style-image",r=t;if(r){var l=r.split(",");r="";for(var s=0;s<l.length;s++)0<r.length&&(r+=", "),0<=l[s].indexOf("@")?r+="url("+l[s]+")":r+="url('"+l[s]+"')"}return be(e,o,r),r}}}},"grid-container":{name:"Grid container",get_has_data:e("grid_container"),icons:!0,fields:{display:t,grid:{type:"slider",style_input:!0,slider_def_unit:"",name:"Grid",icon:"icon-grid"},"grid-template":{type:"slider",style_input:!0,slider_def_unit:"",name:"Template",placeholder:"rows / columns",icon:"icon-template"},"grid-template-areas":{type:"text",style_input:!0,name:"Template areas",placeholder:'"a b c" "a d e"',icon:"icon-area"},"grid-template-rows":{type:"slider",style_input:!0,slider_def_unit:"",name:"Template rows",placeholder:"100px 1fr",icon:"icon-template-rows"},"grid-template-columns":{type:"slider",style_input:!0,slider_def_unit:"",name:"Template columns",placeholder:"100px 1fr",icon:"icon-template-columns"},gap:{type:"slider",style_input:!0,slider_def_unit:"px",name:"Gap",placeholder:"10px",icon:"icon-gap",has_multiple_fields:!0},"row-gap":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Row gap",placeholder:"10px",icon:"icon-row-gap",has_multiple_fields:!0},"column-gap":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Column gap",placeholder:"10px",icon:"icon-column-gap",has_multiple_fields:!0},"grid-auto-rows":{type:"slider",style_input:!0,slider_def_unit:"",name:"Auto rows",can_add_items:!0,options:[{key:"max-content",name:"Max content"},{key:"min-content",name:"Min content"},{key:"minmax(min, max)",name:"minmax(min, max)"},{key:"auto",name:"Auto"}],icon:"icon-auto-rows"},"grid-auto-columns":{type:"slider",style_input:!0,slider_def_unit:"",name:"Auto columns",can_add_items:!0,options:[{key:"max-content",name:"Max content"},{key:"min-content",name:"Min content"},{key:"minmax(min, max)",name:"minmax(min, max)"},{key:"fit-content(argument)",name:"fit-content(argument)"},{key:"auto",name:"Auto"}],icon:"icon-avto-columns"},"grid-auto-flow":{type:"select",style_input:!0,name:"Auto flow",can_add_items:!0,show_empty:!0,options:[{key:"row",name:"Row"},{key:"column",name:"Column"},{key:"dense",name:"Dense"},{key:"row dense",name:"Row dense"},{key:"column dense",name:"Column dense"}],icon:"icon-auto-flow"},"align-items":{name:"Align items",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"start",name:"Start",html:g.makeIcon("223",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("221",{attributes:{title:"Center"}})},{key:"end",name:"End",html:g.makeIcon("220",{attributes:{title:"End"}})},{key:"stretch",name:"Stretch",html:g.makeIcon("214",{attributes:{title:"Stretch"}})},{key:"baseline",name:"Baseline",html:g.makeIcon("212",{attributes:{title:"Baseline"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},"justify-content":{name:"Justify content",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"start",name:"Start",html:g.makeIcon("223",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("219",{attributes:{title:"Center"}})},{key:"end",name:"End",html:g.makeIcon("218",{attributes:{title:"End"}})},{key:"space-between",name:"Space between",html:g.makeIcon("206",{attributes:{title:"Space between"}})},{key:"space-around",name:"Space around",html:g.makeIcon("205",{attributes:{title:"Space around"}})},{key:"space-evenly",name:"Space evenly",html:g.makeIcon("205",{attributes:{title:"Space evenly"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}},"align-content":{name:"Align content",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"start",name:"Start",html:g.makeIcon("217",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("215",{attributes:{title:"Center"}})},{key:"end",name:"End",html:g.makeIcon("216",{attributes:{title:"End"}})},{key:"stretch",name:"Stretch",html:g.makeIcon("214",{attributes:{title:"Stretch"}})},{key:"space-between",name:"Space between",html:g.makeIcon("210",{attributes:{title:"Space between"}})},{key:"space-around",name:"Space around",html:g.makeIcon("209",{attributes:{title:"Space around"}})},{key:"space-evenly",name:"Space evenly",html:g.makeIcon("209",{attributes:{title:"Space evenly"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}}}},"grid-item":{name:"Grid item",get_has_data:e("grid_item"),icons:!0,fields:{"grid-area":{type:"slider",style_input:!0,slider_def_unit:"",name:"Area",placeholder:"area1 4 / 2 area2",icon:"icon-area"},"grid-row":{type:"slider",style_input:!0,slider_def_unit:"",name:"Row",placeholder:"4 area / 6",icon:"icon-row",add_default_unit:""},"grid-column":{type:"slider",style_input:!0,slider_def_unit:"",name:"Column",placeholder:"4 area / 6",icon:"icon-column",add_default_unit:""},"grid-row-start":{type:"slider",style_input:!0,slider_def_unit:"",name:"Row start",placeholder:"area 4",icon:"icon-row-start",add_default_unit:""},"grid-row-end":{type:"slider",style_input:!0,slider_def_unit:"",name:"Row end",placeholder:"area 6",icon:"icon-row-end",add_default_unit:""},"grid-column-start":{type:"slider",style_input:!0,slider_def_unit:"",name:"Column start",placeholder:"2",icon:"icon-column-start",add_default_unit:""},"grid-column-end":{type:"slider",style_input:!0,slider_def_unit:"",name:"Column end",placeholder:"4",icon:"icon-column-end",add_default_unit:""},"align-self":{name:"Align self",type:"select",show_empty:!0,style_input:!0,toggle_buttons:!0,options:[{key:"start",name:"Start",html:g.makeIcon("223",{attributes:{title:"Start"}})},{key:"center",name:"Center",html:g.makeIcon("221",{attributes:{title:"Center"}})},{key:"end",name:"End",html:g.makeIcon("220",{attributes:{title:"End"}})},{key:"stretch",name:"Stretch",html:g.makeIcon("214",{attributes:{title:"Stretch"}})},{key:"baseline",name:"Baseline",html:g.makeIcon("212",{attributes:{title:"Baseline"}})}],on_fields_created:function(e,t,n){},on_changed:function(e,t,n){}}}},columns:{name:"Columns",get_has_data:e("columns"),icons:!1,fields:{columns:{type:"slider",style_input:!0,slider_def_unit:"",add_default_unit:"",name:"Columns",placeholder:"size count",aaicon:"icon-area"},"column-gap":{type:"slider",style_input:!0,slider_def_unit:"px",name:"Column gap",placeholder:"",aaicon:"icon-row",has_multiple_fields:!0},"column-rule":{type:"slider",style_input:!0,slider_def_unit:"px",add_default_unit:"",name:"Rule",placeholder:"1px solid gray",aaicon:"icon-column"},"column-fill":{type:"select",style_input:!0,slider_def_unit:"",name:"Fill",placeholder:"",aaicon:"icon-row-start",show_empty:!0,toggle_buttons:!0,options:[{key:"auto",name:"Auto",html:g.makeText("Auto")},{key:"balance",name:"Balance",html:g.makeText("Balance")}]},"break-before":{type:"select",style_input:!0,slider_def_unit:"",name:"Break before",show_empty:!0,toggle_buttons:!0,options:[{key:"auto",name:"Auto",html:g.makeText("Auto")},{key:"avoid",name:"Avoid",html:g.makeText("Avoid")}]},"break-inside":{type:"select",style_input:!0,slider_def_unit:"",name:"Break inside",show_empty:!0,toggle_buttons:!0,options:[{key:"auto",name:"Auto",html:g.makeText("Auto")},{key:"avoid",name:"Avoid",html:g.makeText("Avoid")}]},"break-after":{type:"select",style_input:!0,slider_def_unit:"",name:"Break after",show_empty:!0,toggle_buttons:!0,options:[{key:"auto",name:"Auto",html:g.makeText("Auto")},{key:"avoid",name:"Avoid",html:g.makeText("Avoid")}]}}}},pgf.kids&&(delete t["grid-container"],delete t["grid-item"],delete t["columns"],delete t.text.fields["writing-mode"],delete t.text.fields["white-space"],delete t.text.fields["word-break"],delete t.text.fields["direction"],delete t.text.fields["text-indent"],delete t.background.fields["background_control"],delete t.background.fields["gradient_control"],delete t.background.fields["gradient_lib"],delete t.background.fields["background-origin"],delete t.background.fields["background-clip"],delete t.border_prop.fields["outline-offset"],delete t.display_prop.fields.visibility,delete t.display_prop.fields["vertical-align"],delete t.display_prop.fields.resize,delete t.display_prop.fields.overflow,delete t.display_prop.fields["box-sizing"],delete t.display_prop.fields.cursor,delete t.display_prop.fields["object-fit"],delete t.display_prop.fields["object-position"],delete t.flex,delete t["flex-child"],delete t.list,t.display_prop.fields.display.options=[{key:"none",name:"None"},{key:"inline",name:"Inline"},{key:"block",name:"Block"},{key:"inline-block",name:"Inline block"}],t.position_prop.fields.position.options=ee(t.position_prop.fields.position.options,["fixed","sticky","static"]),t={text:(a=t).text,background:t.background,margin_and_padding:t["margin_and_padding"],dimension:t.dimension,border_prop:t.border_prop,position_prop:t.position_prop,display_prop:t.display_prop,"box-shadow":t["box-shadow"],"text-shadow":t["text-shadow"]},pgf.kids_with_transitions)&&(t.transforms=a.transforms,t.transitions=a.transitions),$.each(t,function(e,t){i[e]=t}),i)});$.fn.crsa.addRulesDefinition(a)})});