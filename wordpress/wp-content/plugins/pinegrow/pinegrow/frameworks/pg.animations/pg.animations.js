$(function(){var B;$("body").one("pinegrow-register-addons",function(e){(B=new PgAddOn).key="IA",B.name="Interactions",B.description=`<p>Bring your projects alive with interactions, animations and scroll scenes. <a href="https://pinegrow.com/docs/interactions/whats-new-in-interactions-2-0/" class="external">Learn more Â»</a></p>`,B.price="$50 / year",B.get_it_url="https://pinegrow.com/shop/getaddon/{email}/{serial}/PGIA/",pgAddOnManager.register(B)}),$("body").one("pinegrow-ready",function(L,v){var l,w,e,U,b,a,i,o,x,r,n,s,k,S,p,I,j,c,d,E,T,m,F,A,u,h,g,f,_,M,y,t,O,P,D,C,R,N;B.isActive()?(D=!1,pgIsDev()&&!D&&v.showQuickError("NOTICE: Dev PGIA resources are not used."),l=2.14,w=new PgFramework("pg.ia","Interactions"),w.type="pg.ia",w.allow_single_type=!0,w.description="Animation for Pinegrow built on GreenSock",w.author="Pinegrow",w.author_link="https://pinegrow.com",w.not_main_types=!0,w.has_actions=!0,w.show_in_action_tab="ANIMATIONS",w.ignore_css_files=[],w.detect=function(e){return e.hasScript(/(^|\/)pgia.*\.js/i)},w.setScriptFileByScriptTagId("plugin-pg-ia",isApp()?"frameworks/pg.animations/pg.ia.js":"pg.animations.js"),w.customResourceNamespace="",e=[w.getResourceUrl("resources/pgia/lib/pgia.js")],D&&((e=[]).push(w.getResourceUrl("resources/pgia/lib/pgia_lib.js")),e.push(w.getResourceUrl("resources/pgia/lib/pgia_dev.js"))),U=function(){e.length&&($("body").append(`<script src="${e.shift()}"></script>`),setTimeout(U,1e3))},pgIsDev()&&0&&(w.on_key_pressed=function(e,t,a){"/"===t.key&&t.pgCtrlKey&&(w.addResourcesToProject(v.getCurrentProject(),function(){v.showQuickMessage("Pinegrow Interactions pgia.js was updated to the latest version.")},!0,!1,!0),a.done=!0)}),w.on_element_clicked=function(e,t,a,n){var i;"tree"===n.source&&n.tree_data.pgia&&"a"===(i=n.tree_data.pgia).type&&(v.showUIPanel("animations",!1,!0),setTimeout(function(){w.pgiaEditAnimation(t,"i"===i.action,i.idx_zero)},0),v.selectedElements.isSelectedElement(t)&&(n.stop=!0),setTimeout(function(){window.pgAnimationsPanel.assignedActionsView.scrollTo(`.crsa-action .${n.tree_data.template_type}[data-repeat-item="${i.idx_zero+1}"]`)},n.stop?0:500))},v.pgAnimationPhone=new PgAnimationPhone,b=new PgApi,a=[],D=new PgToggleButtonMaker,v.addFramework(w),P=[{key:"mobile",name:"Small",html:D.makeIcon("Md",{attributes:{title:"Only on small screens (default, 767px or less)"}})},{key:"desktop",name:"Large",html:D.makeIcon("desktop",{attributes:{title:"Only on large screens (default, 768px and up)"}})}],i=P.concat([{key:"off",name:"Off",html:D.makeIcon("hide",{attributes:{title:"Disable on all devices"}})}]),o=`<p>Enable the interaction only on mobile or only on non-mobile devices. Use empty to run the interaction on both.</p>`,x=function(e){e.executeScript("pgia && pgia.elementAnimationsManager.refreshAnimations(__THIS_ELEMENT__)")},r=function(e){e.executeScript("pgia && pgia.scrollSceneManager.updateScene(__THIS_ELEMENT__)")},n=function(e){e.executeScript("pgia && pgia.smoothScrollManager.refresh(__THIS_ELEMENT__)")},s=[],w.pgiaGetEaseMenu=function(i,o){if(0===s.length||i){var a,t=[],e=(i&&(t.push({label:"Default",check:o&&!o.e,key:null,action:i}),t.push({type:"divider"})),c.forEach(function(a){var e={label:a,check:o&&o.e&&o.e.startsWith(a)},n=[];d.forEach(function(e){var t;window[a]&&window[a][e]&&n.push({key:t=a+"."+e,label:t,action:i,check:o&&o.e==t})}),(e.submenu=n).length&&t.push(e)}),v.getSelectedPage());if(e&&(e=e.getWindow(),a=[],"CustomEases"in e&&$.each(e.CustomEases,function(e,t){a.push({key:"CustomEases."+e,label:e,action:i,check:o&&o.e=="CustomEases."+e})}),a.length)&&(t.push({type:"divider"}),t.push({label:"Custom eases",submenu:a})),i)return t;s=t}return s},k=function(e){return e.replace(/\>/g,"#gt#")},S=function(e){return e.replace(/\&gt;|\#gt\#/g,">")},p=function(e){var t=e.match(/^(\w+)\[([0-9]+)\]\.(\w+)$/);return!!t&&{array:t[1],index:parseInt(t[2]),field:t[3]}},I=function(e,t,a){var n=p(a);if(n){e[n.array]||(e[n.array]=[]);for(var i=e[n.array].length-1;i<n.index;i++)e[n.array].push({});e[n.array][n.index][n.field]=t}else e[a]=t},j=function(e,t){var a=p(t);return a?e[a.array]&&!(e[a.array].length-1<a.index)&&e[a.array][a.index][a.field]||null:e[t]||null},D=function(a){$.each(a.sections,function(e,t){var l=[];$.each(t.fields,function(e,r){var s;r.json_parameter&&(s=r.json_attribute||a.attribute,l[s]||(l[s]=[]),l[s].push({key:e,param:r.json_parameter}),r.action="custom",r.start_repeat_item&&(r.on_repeat_item_removed=function(e,t,a,n,i){t.data("repeat-item-fields");var o,r=p(a.json_parameter),r=(r&&(o={},l[s].forEach(function(e){null!==i[e.key]&&I(o,i[e.key],e.param)}),o[r.array]&&o[r.array].splice(--n,1),b.setAttribute(null,s,k(JSON.stringify(o)),{event_name:"Remove item"}),v.selectedElements.reselect()),a.on_changed&&a.on_changed(v.selectedElements.getLastSelected()),v.selectedElements.getLastSelected());r&&(r=r.getId()+`:`+a.animation_id,v.dispatchEvent("on_animation_item_deleted",null,r))}),r.get_value=function(e,t,a){var n=S(e.getAttr(s)||"");try{var i=JSON.parse(n||"{}"),o=p(r.json_parameter);if(!o)return i[r.json_parameter]||null;if(i[o.array]&&i[o.array].length>o.index)return i[o.array][o.index][o.field]||null}catch(e){}return null},r.set_value=function(e,t,a,n,i,o){var r={};return l[s].forEach(function(e){null!==a[e.key]&&o.json_parameter!==e.param&&I(r,a[e.key],e.param)}),null!==t&&I(r,t,o.json_parameter),b.setAttribute(null,s,k(JSON.stringify(r)),{no_change_event:!0}),t})})})},c=["Linear","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Elastic","Back","Bounce","SlowMo","SteppedEase","RoughEase","Circ","Expo","Sine"],d=["easeNone","ease","easeIn","easeOut","easeInOut"],E=function(e){var t={n:"",l:[{t:"",l:[]}]};return e.getChildren(!1,!0,!1).forEach(function(e){var a={d:e.duration(),p:e.startTime(),l:{}};a.t=0===a.d?"set":"tween",$.each(e.vars,function(e,t){["delay","duration","overwrite","repeat","ease","onComplete","immediateRender"].indexOf(e)<0&&"object"!=typeof t&&"function"!=typeof t&&(a.l[e]=t)}),e.vars.ease&&(a.e=function(e){if("string"==typeof e)return e;for(var t=0;t<c.length;t++)for(var a=0;a<d.length;a++)if(window[c[t]]&&window[c[t]][d[a]]&&window[c[t]][d[a]]==e)return c[t]+`.`+d[a];return"Power1.easeOut"}(e.vars.ease)),t.l[0].l.push(a)}),t},T=null,w.pgiaEditAnimation=function(n,i,o,r,e,t,a){var s,l,p,c,d,m=i?(s="data-pg-ia",l=`l[${o}].a`,d="t",h=`animation_`+o,p=A,`Interaction `+(o+1)):(s="data-pg-ia-scene",l=`l[${o}].a`,h=`scene_item_`+o,p=M,d="t",`Scene animation `+(o+1)),u=window.pgAnimationsPanel.assignedActionsView,h=n.getId()+`:`+h;try{var g=n.getAttribute(s)||"{}",f=JSON.parse(S(g)),_=j(f,l),y=(null===_&&(0===o&&!f.l||a)&&(_={},f.l=f.l||[],f.l.push(_)),f.l[o])}catch(e){return v.showQuickError("Can' edit the animation. Perhaps it is created with Apply to many or Cloning?"),void w.timelineView.showAnimation(null)}"string"==typeof _&&(g=pgia.getAnimationTimeline(_,{}),f=E(g)||{},t&&t(_,f),_=f),_=_||{},w.isTimelineEditorShown()||w.showTimelineEditor(!0),y&&(g=y[d]||"this",f=v.getPgelFromSelector(n,g,n),c=v.getCollectionForElement(n),d=y.name||m,(T=new PgAnimationEditor(_,f,c,d,h)).target_pgel=f,T.edited_pgel=n,T.target_pgel_multiple=v.getPgelFromSelectorMultiple(n,g),T.action_def=p,pgInteractionsTreeCellManager.setSelected(h),T.getUpdatedAnimationData=function(){e&&e(),w.pgiaEditAnimation(n,i,o,r)},T.onAnimationChanged=function(e,t){var a;1||!r||r.destroyed?(a=JSON.parse(S(n.getAttribute(s)||"{}")),I(a,e,l),b.setAttribute(c,s,k(JSON.stringify(a)),{event_name:"Edit animation",no_change_event:!t,source:T,event_info:{pgia_animation:!0}}),t&&u.getSelectedPgel()===n&&u.refreshValuesForSelectedElement(),v.dispatchEvent("on_animation_inactive_animation_control_updated",null,T)):(r.values[type_def.attribute]=e,fdef.set_value(r.obj,e,r.values,null,"change",fdef),t&&v.changeManager.didChange(c,"Edit animation",{source:T}),current_name=null,current_value=e,updateValueDisplay()),i?n.executeScript(`pgia.elementAnimationsManager.refreshCustomAnimation(__THIS_ELEMENT__, ${o})`):n.executeScript(`pgia.scrollSceneManager.refreshAnimation(__THIS_ELEMENT__, ${o})`)},T.seek=function(e,t){void 0===t&&(t=!1),i?n.executeScript(`pgia.elementAnimationsManager.seek(__THIS_ELEMENT__, ${o}, '${e}', ${t})`):n.executeScript(`pgia.scrollSceneManager.seekAnimation(__THIS_ELEMENT__, ${o}, '${e}', ${t})`)},v.dispatchEvent("on_animation_selected",null,T))},m=function(t,e,o,a,n,r,i,s,l,p,_,y){var b={type:"hidden",attribute:(r=r||"data-pg-ia")+"g-animation-control-type"+e,name:"Animation",json_parameter:i=i||`l[${o}].a`,json_attribute:r},c=b;return a[b.attribute]=b,function(){function e(e,t,a){!u.destroyed&&n&&(w.timelineView.getAnimationId()===i?n.addClass("is-edited"):n.removeClass("is-edited"))}function a(){try{var e=JSON.parse(S(u.obj.getAttribute(c.json_attribute)||"{}"));h=j(e,c.json_parameter),f&&f()}catch(e){}}var n,i,u=new PgCustomPropertyControl(t),h=(u.onDefine=function(){},null),g=null,f=null;v.addEventHandler("on_animation_replaced_in_timeline_editor",e);return u.onShow=function(){i=u.obj.getId()+`:`+_,f=function(){var e,t="click to select...",a=w.timelineView.getAnimationId()===i;"string"==typeof h&&h?t=g||h:h?(e=new PgAnimationEditorDescribeAnimation(h),t=g||e.getHtml()):a&&(t="Custom animation"),a?n.addClass("is-edited"):n.removeClass("is-edited"),n.find("span").html(t),h?n.addClass("has-value"):n.removeClass("has-value")};var c=$(`<div class="crsa-field pg-ae-control-wrap">
<label>Animation</label>
<div class="pg-ae-control">
    <div class="value">
        <span>click to select</span> 
           <i class="icon icon-down crsa-icon-on-field" style="pointer-events:none;"></i>
    </div>
    <div class="pg-ae-control-buttons"><button class="pg-button edit">Edit animation</button><button class="pg-button play">Play</button></div>
</div></div>`),e=(addTooltip(c.find("label"),"<p>Select an animation preset or edit custom animation.</p><p>Click on the Edit animation when preset is selected to open it in the timeline editor.</p>",{close_delay:3e4,delay:{show:250,hide:100},class:"helptext"}),c.find(".edit")),t=c.find(".play"),d=n=c.find(".value"),m=(t.on("click",function(e){e.preventDefault(),h&&("data-pg-ia"===r?u.obj.executeScript(`pgia.play(__THIS_ELEMENT__, ${o+1});`):l(u.obj,0,!0))}),d.on("click",function(e){function t(){var e=this.animation_key,t=(h=e,g=this.animation_name||e,f(),c.closest(".pg-action-repeat-item").find(".crsa-field-"+b.attribute+" input"));t.val(e),t.trigger("change"),x(u.obj)}var a=[{label:"Not set",animation_key:"",check:null===h||""===h,action:t},{type:"divider"},{label:"Custom animation",check:h&&"object"==typeof h,action:function(){h={},g="Custom animation",f(),m()}}],n=[],i=u.obj.getAttribute("data-pg-ia");if(i)try{for(var o=JSON.parse(i),r=0;r<o.l.length;r++)o.l[r].name&&n.push(o.l[r].name)}catch(e){}var s,l=[],i=v.getSelectedPage();try{$.each(i.getWindow().pgia.namedAnimations,function(e,t){n.indexOf(e)<0&&l.push(e)})}catch(e){}(n.length||l.length)&&(a.push({type:"divider"}),s=[],n.length&&(s.push({type:"header",label:"Defined on this element"}),n.forEach(function(e){s.push({label:e,animation_key:e,action:t,check:e===h})})),l.length&&(s.length&&s.push({type:"divider"}),s.push({type:"header",label:"Defined on this page"}),l.forEach(function(e){s.push({label:e,animation_key:e,action:t,check:e===h})})),a.push({label:"Named animations",submenu:s})),a.push({type:"divider"}),a.push({type:"header",label:"Presets"});var i=F("","",0,0).options,p=[];return i.forEach(function(e){e.header?(p=[],a.push({label:e.name,submenu:p})):p.push({label:e.name,animation_key:e.key,action:t,check:e.key===h})}),a.push({type:"divider"}),a.push({type:"header",label:"Custom animations"}),a.push({label:"New animation...",action:function(){}}),new CrsaContextMenu(a,d).showForElement(d,null,0),!1}),function(){var e;a(),h&&"string"==typeof h&&(e=pgia.getAnimationTimeline(h,{}),e=E(e),g=h,h=e,f()),w.pgiaEditAnimation(u.obj,y===A,o,u,function(){a()},function(e,t){g=e,h=t,f()},!0)});return e.on("click",function(e){e.preventDefault(),m(),f(),v.showUIPanel("animations_timeline","flash")}),c},u.onSetValues=function(){h=this.values[c.attribute]||(this.values[b.attribute]||""),f()},u.onDestroy=function(){v.removeEventHandler("on_animation_replaced_in_timeline_editor",e)},u}},F=function(e,t,a,n){return{type:"select",name:e,action:"element_attribute",attribute:t,show_empty:!0,options:[{key:"",name:"Parallax",header:!0},{key:"pxBckImage",name:"Animate background image"},{key:"pxBckElement",name:"Animate background element"},{key:"pxFly",name:"Flying element"},{key:"",name:"Attention Seekers",header:!0},{key:"bounce",name:"Bounce"},{key:"flash",name:"Flash"},{key:"pulse",name:"Pulse"},{key:"rubberBand",name:"RubberBand"},{key:"shake",name:"Shake"},{key:"headShake",name:"HeadShake"},{key:"swing",name:"Swing"},{key:"tada",name:"Tada"},{key:"wobble",name:"Wobble"},{key:"jello",name:"Jello"},{key:"heartBeat",name:"HeartBeat"},{key:"",name:"Bouncing Entrances",header:!0},{key:"bounceIn",name:"BounceIn"},{key:"bounceInDown",name:"BounceInDown"},{key:"bounceInLeft",name:"BounceInLeft"},{key:"bounceInRight",name:"BounceInRight"},{key:"bounceInUp",name:"BounceInUp"},{key:"",name:"Bouncing Exits",header:!0},{key:"bounceOut",name:"BounceOut"},{key:"bounceOutDown",name:"BounceOutDown"},{key:"bounceOutLeft",name:"BounceOutLeft"},{key:"bounceOutRight",name:"BounceOutRight"},{key:"bounceOutUp",name:"BounceOutUp"},{key:"",name:"Fading Entrances",header:!0},{key:"fadeIn",name:"FadeIn"},{key:"fadeInDown",name:"FadeInDown"},{key:"fadeInDownBig",name:"FadeInDownBig"},{key:"fadeInLeft",name:"FadeInLeft"},{key:"fadeInLeftBig",name:"FadeInLeftBig"},{key:"fadeInRight",name:"FadeInRight"},{key:"fadeInRightBig",name:"FadeInRightBig"},{key:"fadeInUp",name:"FadeInUp"},{key:"fadeInUpBig",name:"FadeInUpBig"},{key:"",name:"Fading Exits",header:!0},{key:"fadeOut",name:"FadeOut"},{key:"fadeOutDown",name:"FadeOutDown"},{key:"fadeOutDownBig",name:"FadeOutDownBig"},{key:"fadeOutLeft",name:"FadeOutLeft"},{key:"fadeOutLeftBig",name:"FadeOutLeftBig"},{key:"fadeOutRight",name:"FadeOutRight"},{key:"fadeOutRightBig",name:"FadeOutRightBig"},{key:"fadeOutUp",name:"FadeOutUp"},{key:"fadeOutUpBig",name:"FadeOutUpBig"},{key:"",name:"Flippers",header:!0},{key:"flip",name:"Flip"},{key:"flipInX",name:"FlipInX"},{key:"flipInY",name:"FlipInY"},{key:"flipOutX",name:"FlipOutX"},{key:"flipOutY",name:"FlipOutY"},{key:"",name:"Lightspeed",header:!0},{key:"lightSpeedIn",name:"LightSpeedIn"},{key:"lightSpeedOut",name:"LightSpeedOut"},{key:"",name:"Rotating Entrances",header:!0},{key:"rotateIn",name:"RotateIn"},{key:"rotateInDownLeft",name:"RotateInDownLeft"},{key:"rotateInDownRight",name:"RotateInDownRight"},{key:"rotateInUpLeft",name:"RotateInUpLeft"},{key:"rotateInUpRight",name:"RotateInUpRight"},{key:"",name:"Rotating Exits",header:!0},{key:"rotateOut",name:"RotateOut"},{key:"rotateOutDownLeft",name:"RotateOutDownLeft"},{key:"rotateOutDownRight",name:"RotateOutDownRight"},{key:"rotateOutUpLeft",name:"RotateOutUpLeft"},{key:"rotateOutUpRight",name:"RotateOutUpRight"},{key:"",name:"Sliding Entrances",header:!0},{key:"slideInUp",name:"SlideInUp"},{key:"slideInDown",name:"SlideInDown"},{key:"slideInLeft",name:"SlideInLeft"},{key:"slideInRight",name:"SlideInRight"},{key:"",name:"Sliding Exits",header:!0},{key:"slideOutUp",name:"SlideOutUp"},{key:"slideOutDown",name:"SlideOutDown"},{key:"slideOutLeft",name:"SlideOutLeft"},{key:"slideOutRight",name:"SlideOutRight"},{key:"",name:"Zoom Entrances",header:!0},{key:"zoomIn",name:"ZoomIn"},{key:"zoomInDown",name:"ZoomInDown"},{key:"zoomInLeft",name:"ZoomInLeft"},{key:"zoomInRight",name:"ZoomInRight"},{key:"zoomInUp",name:"ZoomInUp"},{key:"",name:"Zoom Exits",header:!0},{key:"zoomOut",name:"ZoomOut"},{key:"zoomOutDown",name:"ZoomOutDown"},{key:"zoomOutLeft",name:"ZoomOutLeft"},{key:"zoomOutRight",name:"ZoomOutRight"},{key:"zoomOutUp",name:"ZoomOutUp"},{key:"",name:"Specials",header:!0},{key:"hinge",name:"Hinge"},{key:"jackInTheBox",name:"JackInTheBox"},{key:"rollIn",name:"RollIn"},{key:"rollOut",name:"RollOut"}],index:a,json_parameter:`l[${n}].a`,on_changed:function(e,t,a,n,i,o,r,s){if(x(e),"change"==r){var l=e.document,p=[e];s["data-pg-tg"+i.index]&&(p=l.find(selector));for(var c=0;c<p.length;c++){var d=p[c];n&&d.removeClass(n+"-animation"),a&&d.addClass(a+"-animation")}}}}},R=function(e,t,a){var n=["head","style","script","link","noscript"],i=!0;return n.push(a===y?"body":"html"),(i=0<=n.indexOf(e.tagName)||e.getParentsBySelector("head").length?!1:i)||v.showQuickError("Interaction can not be added to the selected element."),i},A=new PgComponentType("animation-action","Interactions"),A.selector="[data-pg-ia]",A.code=null,A.attribute="data-pg-ia",A.action=!0,A.not_main_type=!0,A.max_repeat_items=10,A.on_action_added=function(e,t,a,n){x(e)},A.on_action_removed=function(e,t,a,n){x(e)},A.sections={"an.parameters":{name:"Animation",fields:function(){for(var e=15,t={},a=0;a<e;a++)!function(n){var e;t["data-pg-name"+(e=`-`+(n+1))]={type:"text",name:"Name",placeholder:"for example, Button down",action:"element_attribute",attribute:"data-pg-name"+e,json_parameter:`l[${n}].name`,start_repeat_item:"Interaction "+(n+1),add_repeat_item_label:"Add interaction",repeat_item_class:"interaction",animation_id:`animation_`+n,delete_first_repeat_item:!0,on_changed:function(e){x(e)},helptext:`<p>Give the interaction a name, for example MakeItBigger. You can use this name when playing this animation from the timeline or from the Scroll scene pagination. Names are not case sensitive.</p>`},t["data-pg-tr"+e]={type:"menu",name:"Trigger",action:"element_attribute",attribute:"data-pg-tr"+e,get_menu_options:function(e,t){var a=t.getName({short:!0}).replace(/<[^>]+>/g,""),n=a;return[{key:"click",name:`Click on `+n,label:`Click on `+(a=`<span class="pg-ae-trigger-el-in-menu">${a}</span>`)},{type:"divider"},{label:"Mouse &amp; Touch",submenu:[{key:"mouseenter",name:`Mouseenter / Touchstart on `+n,label:`Mouseenter / Touchstart on `+a},{key:"mouseleave",name:`Mouseleave / Touchend on `+n,label:`Mouseleave / Touchend on `+a},{key:"mousemove",name:`Mousemove / Touchmove in `+n,label:`Mousemove / Touchmove in `+a},{key:"mousedown",name:`Mousedown / Touchstart on `+n,label:`Mousedown / Touchstart on `+a},{key:"mouseup",name:`Mouseup / Touchend on `+n,label:`Mouseup / Touchend on `+a}]},{label:"Mouse only",submenu:[{key:"mouseenter_notouch",name:`Mouseenter on `+n,label:`Mouseenter on `+a},{key:"mouseleave_notouch",name:`Mouseleave on `+n,label:`Mouseleave on `+a},{key:"mousemove_notouch",name:`Mousemove in `+n,label:`Mousemove in `+a},{key:"mousedown_notouch",name:`Mousedown on `+n,label:`Mousedown on `+a},{key:"mouseup_notouch",name:`Mouseup on `+n,label:`Mouseup on `+a}]},{label:"Touch only",submenu:[{key:"touchstart",name:`Touchstart on `+n,label:`Touchstart on `+a},{key:"touchend",name:`Touchend on `+n,label:`Touchend on `+a},{key:"touchmove",name:`Touchmove in `+n,label:`Touchmove in `+a},{type:"divider"},{key:"swipe_left",name:`Swipe left over `+n,label:`Swipe left over `+a},{key:"swipe_right",name:`Swipe right over `+n,label:`Swipe right over `+a},{key:"swipe_up",name:`Swipe up over `+n,label:`Swipe up over `+a},{key:"swipe_down",name:`Swipe down over `+n,label:`Swipe down over `+a}]},{type:"divider"},{label:"Page &amp; Window",submenu:[{key:"now",label:"Load - Immediately / When created"},{key:"load",label:"Load - Page fully loaded"},{key:"resize",label:"Resized"},{key:"scrolling",label:"Scrolling the page"},{key:"popstate",label:"History changed"}]},{type:"divider"},{label:"Input fields",submenu:[{key:"input",name:`Input on `+n,label:`Input on `+a},{key:"input_scrub",name:`Input scrub on `+n,label:`Input scrub on `+a},{key:"change",name:`Change on `+n,label:`Change on `+a},{key:"focus",name:`Focus on `+n,label:`Focus on `+a},{key:"blur",name:`Blur on `+n,label:`Blur on `+a}]},{label:"Keyboard",submenu:[{key:"keydown",name:`Keydown over `+n,label:`Keydown over `+a},{key:"keyup",name:`Keyup over `+n,label:`Keyup over `+a}]},{type:"divider"},{label:"Resources (img...) &amp; Media",submenu:[{type:"header",label:"Images, iframes and resources"},{key:"res_load",name:`Load on `+n,label:`Load on `+a},{type:"divider"},{type:"header",label:"Media"},{key:"loadstart",name:`Media - Load start on `+n,label:`Media - Load start on `+a},{key:"canplaythrough",name:`Media - Loaded on `+n,label:`Media - Loaded on `+a}]},{key:"timer",label:"Timer (play every N seconds)",name:"Timer - Every N seconds"},{type:"divider"},{key:"no",label:"No event (just define the animation)",name:"No event"},{type:"divider"},{label:"Custom event...",title:"Enter a custom event",custom:!0}]},options:function(e,t){var a=t.getName({short:!0}).replace(/<[^>]+>/g,""),n=a;return[{key:"now",name:"Load - Immediately"},{key:"load",name:"Load - Page fully loaded"},{key:"click",name:`Click on `+n,html:`Click on `+(a=`<span class="pg-ae-trigger-el-in-menu">${a}</span>`)},{key:"mouseenter",name:`Mouseenter / Touchstart on `+n,html:`Mouseenter / Touchstart on `+a},{key:"mouseleave",name:`Mouseleave / Touchend on `+n,html:`Mouseleave / Touchend on `+a},{key:"mousemove",name:`Mousemove / Touchmove in `+n,html:`Mousemove / Touchmove in `+a},{key:"mousedown",name:`Mousedown / Touchstart on `+n,html:`Mousedown / Touchstart on `+a},{key:"mouseup",name:`Mouseup / Touchend on `+n,html:`Mouseup / Touchend on `+a},{key:"scrolling",name:"Scrolling the page"},{key:"loadstart",name:`Media - Load start on `+n,html:`Media - Load start on `+a},{key:"canplaythrough",name:`Media - Loaded on `+n,html:`Media - Loaded on `+a}]},json_parameter:`l[${n}].trg`,placeholder:"default, click",default_value:"click",on_changed:function(e){x(e)},helptext:`<p>Select the event that will trigger the animation.</p>`},t["data-pg-timer"+e]={type:"slider",name:"Timer interval",slider_def_unit:"s",placeholder:"for example, 2s or 2000ms",action:"element_attribute",attribute:"data-pg-timer"+e,json_parameter:`l[${n}].timer`,show_if:"data-pg-tr"+e+"==timer",on_changed:function(e){x(e)},helptext:`<p>Play animation every N seconds.</p>`},t["data-pg-keys"+e]={type:"text",name:"Keys",placeholder:"for example: ArrowLeft, N, n",action:"element_attribute",json_parameter:`l[${n}].keys`,show_if:"data-pg-tr"+e+"==keydown||keyup",on_changed:function(e){x(e)},helptext:`<p>The comma separated list of keys that will trigger the animation. Use values for the .key property of a KeyboardEvent. Useful examples: ArrowLeft, ArrowRight, Enter, Tab... Use Spacebar for space key. List both upper and lower case variants if needed, for example N, n.</p>`},t["data-pg-mm"+e]={type:"select",name:"Action",action:"element_attribute",attribute:"data-pg-mm"+e,show_if:"data-pg-tr"+e+"==mousemove||mousemove_notouch||touchmove",json_parameter:`l[${n}].mm_a`,options:[{key:"x",name:"Animate X position"},{key:"y",name:"Animate Y position"},{key:"d_c",name:"Animate distance from the center"},{key:"run",name:"Just run the animation"}],on_changed:function(e){x(e)},helptext:`<p>How should the mouse movement control the animation?</p>`},t["data-pg-mm-rest"+e]={type:"slider",name:"Rest at %",action:"element_attribute",attribute:"data-pg-mm-rest"+e,show_if:"data-pg-tr"+e+"==mousemove||mousemove_notouch||touchmove&&data-pg-mm"+e+"==x||y||d_c",json_parameter:`l[${n}].mm_r`,slider_min:0,slider_max:100,slider_step:1,slider_def_unit:"",on_changed:function(e){x(e)},placeholder:"for example, 50",helptext:`<p>Animation timeline position (in %) at which the animation should rest when the mouse leaves the element.</p>`},t["data-pg-scrub-min"+e]={type:"slider",name:"Min value",action:"element_attribute",show_if:"data-pg-tr"+e+"==input_scrub",json_parameter:`l[${n}].is_min`,slider_step:1,slider_def_unit:"",on_changed:function(e){x(e)},placeholder:"for example, 10",helptext:`<p>Minimum value for the input field. For Range input fields, their Min attribute value is used by default. Otherwise the default value is 0. Min and max values are used to calculate the scrub position based on the current field value.</p>`},t["data-pg-scrub-max"+e]={type:"slider",name:"Max value",action:"element_attribute",show_if:"data-pg-tr"+e+"==input_scrub",json_parameter:`l[${n}].is_max`,slider_step:1,slider_def_unit:"",on_changed:function(e){x(e)},placeholder:"for example, 80",helptext:`<p>Maximum value for the input field. For Range input fields, their Max attribute value is used by default. Otherwise the default value is 100. Min and max values are used to calculate the scrub position based on the current field value.</p>`},t["data-pg-soft"+e]={type:"slider",name:"Smoothing in s",action:"element_attribute",attribute:"data-pg-soft"+e,show_if:"data-pg-tr"+e+"==mousemove||mousemove_notouch||touchmove||scrolling||input_scrub",json_parameter:`l[${n}].soft`,slider_min:0,slider_max:5,slider_step:.1,slider_def_unit:"",on_changed:function(e){x(e)},placeholder:"default, 0.5",helptext:`<p>The time the animation takes to reach the target position. Creates a nice smoothing effect.</p>`},t["data-pg-tg"+e]={type:"selector",selector_multiple:!0,selector_global:!0,use_selector_extensions:!0,selector_dom:!0,name:"Target",placeholder:"default, this element",action:"element_attribute",attribute:"data-pg-tg"+e,index:n,add:e,json_parameter:`l[${n}].t`,on_changed:function(e,t,a,n,i,o,r,s){x(e)},helptext:`<p>On what element(s) should the animation be played?</p><p>By default, the animation will be played on the element where this action is assigned.</p>`},t["data-pg-animation-control"+e]={type:"custom",name:"Animation",action:"custom",control:m("animation-control"+e,e,n,t,0,null,null,0,function(e,t,a){e.executeScript(`pgia.elementAnimationsManager.seek(__THIS_ELEMENT__, ${n}, '${t}', ${a=void 0===a?!1:a})`)},0,`animation_`+n,A)},t["data-pg-ai"+e]={type:"checkbox",name:"Active on Index",action:"element_attribute",attribute:"data-pg-ai"+e,value:"true",show_if:"data-pg-tr"+e+"==nevershow",json_parameter:`l[${n}].active_on_index`,on_changed:function(e){x(e)},start_section:"Advanced options"},t["data-pg-sc-duration"+e]={type:"slider",slider_def_unit:"",name:"Scroll length",action:"element_attribute",attribute:"data-pg-sc-duration"+e,show_if:"data-pg-tr"+e+"==scroll-in||scroll-out",json_parameter:`l[${n}].sc_du`,placeholder:"100% (default), 200px",on_changed:function(e){x(e)},helptext:`<p>How long should the scroll scene be, expresses in % of viewport height or px?</p>`},t["data-pg-sc-offset"+e]={type:"slider",name:"Scroll offset",action:"element_attribute",attribute:"data-pg-sc-offset"+e,show_if:"data-pg-tr"+e+"==scroll-in||scroll-out",json_parameter:`l[${n}].sc_o`,placeholder:"default, 0px",slider_def_unit:"",on_changed:function(e){x(e)},helptext:`<p>Offset the start of the scroll scene (the position at which the element scrolls into view). Default is 0.</p>`},t["data-pg-sc-debug"+e]={type:"text",name:"Show indicators",action:"element_attribute",attribute:"data-pg-sc-debug"+e,show_if:"data-pg-tr"+e+"==scroll-in||scroll-out",json_parameter:`l[${n}].dbg`,placeholder:"for example, Scene 1",on_changed:function(e){x(e)},helptext:`<p>Show position and trigger of the scroll scene during editing in Pinegrow.</p>`},t["data-pg-repeat"+e]={type:"slider",name:"Repeat",slider_def_unit:"",slider_min:-1,placeholder:"default, 1",action:"element_attribute",attribute:"data-pg-repeat"+e,json_parameter:`l[${n}].rpt`,on_changed:function(e){x(e)},helptext:`<p>Repeat the animation N times each time it is played. Use -1 to play in a loop.</p>`},t["data-pg-duration"+e]={type:"slider",name:"Duration",slider_def_unit:"s",placeholder:"for example, 2s or 2000ms",action:"element_attribute",attribute:"data-pg-du"+e,json_parameter:`l[${n}].d`,on_changed:function(e){x(e)},helptext:`<p>Override the duration of the animation.</p>`},t["data-pg-delay"+e]={type:"slider",name:"Delay",slider_def_unit:"s",placeholder:"for example, 2s or 2000ms",action:"element_attribute",attribute:"data-pg-delay"+e,json_parameter:`l[${n}].dly`,on_changed:function(e){x(e)},helptext:`<p>Delay between triggering and playing the animation.</p>`},t["data-pg-trig-cond"+e]={type:"select",name:"Trigger condition",show_empty:!0,action:"element_attribute",attribute:"data-pg-trig-cond"+e,options:[{key:"class",name:"has class"},{key:"no-class",name:"doesn't have class"},{key:"attr",name:"attribute is equal to"},{key:"no-attr",name:"attribute is not equal to"}],json_parameter:`l[${n}].tc`,on_changed:function(e){x(e)},helptext:`<p>Add trigger condition based on what classes the target element has. Classes are evaluated on the target element, not on the element with Interactions action, if they are different.</p>`},t["data-pg-trig-cond-attr"+e]={type:"slider",name:"Trigger attribute",slider_def_unit:"",placeholder:"for example, data-my-attr",action:"element_attribute",show_if:"data-pg-trig-cond"+e+"==attr||no-attr",json_parameter:`l[${n}].tca`,on_changed:function(e){x(e)},helptext:`<p>Attribute name.</p>`},t["data-pg-trig-cond-value"+e]={type:"slider",name:"Trigger condition value",slider_def_unit:"",placeholder:"for example, myClass",action:"element_attribute",attribute:"data-pg-trig-cond-value"+e,show_if:"data-pg-trig-cond"+e,json_parameter:`l[${n}].tcv`,on_changed:function(e){x(e)},helptext:`<p>Class or attribute value to look for when evaluating the trigger condition.</p>`},t["data-pg-md"+e]={type:"select",name:"Enable on",action:"element_attribute",attribute:"data-pg-md"+e,show_empty:!0,options:i,toggle_buttons:!0,json_parameter:`l[${n}].on`,on_changed:function(e){x(e),v.showQuickMessage("You might have to refresh the page view after making this change.")},helptext:o},t["data-pg-prev-def"+e]={type:"checkbox",name:"Prevent default action",action:"element_attribute",value:"true",json_parameter:`l[${n}].pdef`,on_changed:function(e){x(e)},helptext:`<p>Prevent default action that happens with this event. For example, default action of the click event is to open the clicked link.</p>`},t["data-pg-stop_prop"+e]={type:"checkbox",name:"Stop event propagation",action:"element_attribute",value:"true",json_parameter:`l[${n}].sprop`,on_changed:function(e){x(e)},helptext:`<p>Stop event propagation so that parent elements don't get to handle this event.</p>`},t["data-pg-restart"+e]={type:"checkbox",name:"Restart on play",action:"element_attribute",attribute:"data-pg-restart"+e,value:"true",json_parameter:`l[${n}].rstr`,on_changed:function(e){x(e)},helptext:`<p>Restart the animation to position 0 every time it is played. If not checked, the animation continues to play at the position at which it was paused. The animation is also invalidated so that it starts from the current state of animated elements. Use the "Don't invalidate on restart" setting if you want to restart the animation without invalidating it.</p>`},t["data-pg-restart-noinv"+e]={type:"checkbox",name:"Don't invalidate on restart",action:"element_attribute",value:"true",json_parameter:`l[${n}].noinv`,show_if:"data-pg-restart"+e,helptext:`<p>Don't invalidate on restart if you want to restart the animation without invalidating it. This means that the animation will restart from the state that was recorded when the animation was played for the first time.</p>`},t["data-pg-recreate"+e]={type:"checkbox",name:"Recreate on play",action:"element_attribute",attribute:"data-pg-recreate"+e,value:"true",json_parameter:`l[${n}].rcr`,on_changed:function(e){x(e)},helptext:`<p>Recreate the animation every time it is played. This is useful in cases where animation targets change dynamically, for example when animated elements were added or removed since last play. Avoid using this option if that's not the case.</p>`},t["data-pg-pause"+e]={type:"checkbox",name:"Stop other animations",action:"element_attribute",attribute:"data-pg-pause"+e,value:"true",json_parameter:`l[${n}].po`,on_changed:function(e){x(e)},helptext:`<p>Stop all other animations in this Interactions action when this animation is played. If not checked, any active animations will continue to play.</p>`},t["data-pg-pause-list"+e]={type:"text",name:"Animations to stop",action:"element_attribute",attribute:"data-pg-pause-list"+e,placeholder:"1,2,4... default: all",json_parameter:`l[${n}].pol`,show_if:"data-pg-pause"+e,on_changed:function(e){x(e)},helptext:`<p>List of animations to stop. List indexes 1 - 10 or names of interactions, separated by commas.</p>`},t["data-pg-rs"+e]={type:"checkbox",name:"Reset on end",action:"element_attribute",attribute:"data-pg-rs"+e,value:"true",json_parameter:`l[${n}].rst`,on_changed:function(e){x(e)},helptext:`<p>Jump to position 0 when the animation reaches the end. If not checked, the target elements are left in the state at which the animation ended.</p>`},t["data-pg-rv"+e]={type:"checkbox",name:"Reverse play",action:"element_attribute",attribute:"data-pg-rv"+e,value:"true",json_parameter:`l[${n}].rev`,on_changed:function(e){x(e)},helptext:`<p>Play the animation in reverse.</p>`},t["data-pg-trv"+e]={type:"checkbox",name:"Alternate forward / reverse",action:"element_attribute",attribute:"data-pg-trv"+e,value:"true",json_parameter:`l[${n}].trev`,on_changed:function(e){x(e)},helptext:`<p>Alternate playing animation forward and reverse on each play event.</p>`},t["data-pg-trv-spd"+e]={type:"slider",name:"Speed-up on reverse in %",slider_def_unit:"",slider_min:0,placeholder:"default, 100",action:"element_attribute",attribute:"data-pg-trv-spd"+e,show_if:"data-pg-trv"+e,json_parameter:`l[${n}].spdrev`,on_changed:function(e){x(e)},helptext:`<p>Speedup / slowdown animation on reverse play, in %.</p>`},t["data-pg-dis-in-pg"+e]={type:"checkbox",name:"Disable in Pinegrow",action:"element_attribute",value:"true",json_parameter:`l[${n}].nopg`,on_changed:function(e){x(e)},helptext:`<p>Don't play the animation during the editing in Pinegrow Web Editor.</p>`},t["data-pg-dis-reduce-motion"+e]={type:"checkbox",name:"Reduce motion if preferred",action:"element_attribute",value:"true",json_parameter:`l[${n}].redm`,on_changed:function(e){x(e)},helptext:`<p>Reduce motion if reduce motion setting is enabled on the device (prefers-reduced-motion media query is matched). The duration of animations is set to 1ms so that they play instantly.</p>`}}(a);return t}()}},A.get_action_tag=function(e,t){return'<i class="icon icon-113" style="font-size: 15px;position: relative;top: 2px;" title="Interactions"></i>'},A.pgiaRefreshAnimation=x,A.on_can_add_action=R,A.meta={helptext:`Add interactions to the element.`,helplink:"https://pinegrow.com/docs/interactions/actions/interactions/"},D(A),w.addComponentType(A),a.push(A),u=null,g=h=null,f={},_=function(e,t){var a;(t||h&&h.ownerDocument)&&(a=Math.round(100*e),h.style.width=a+`%`,g.innerHTML=a+`%`)},v.pgAnimationPhone.addListener(function(e,t){f[e]=t,e===u&&_(t)}),(M=new PgComponentType("scroll-scene","Scroll Scene")).selector="[data-pg-ia-scene]",M.code=null,M.attribute="data-pg-ia-scene",M.action=!0,M.not_main_type=!0,M.max_repeat_items=10,M.sections={"an.parameters":{name:"Animation",fields:function(){for(var e,t=10,a={"data-pg-an-px-t-start-dir":{type:"select",name:"Direction",options:[{key:"a",name:"Auto detect"},{key:"v",name:"Vertical"},{key:"h",name:"Horizontal"}],default_value:"a",json_parameter:"dir",helptext:`<p>Select the direction of the scroll: vertical (default) or horizontal.</p>`},"data-pg-an-px-t-smooth":{type:"slider",name:"Smoothing in s",action:"element_attribute",attribute:"data-pg-an-px-t-smooth",placeholder:"default, 0.5s",slider_def_unit:"s",slider_min:0,json_parameter:`smooth`,helptext:`<p>The time that animation takes to catch up with the scroll. This creates a nice smoothing effect.</p>`},"data-pg-an-px-t-disable":{type:"select",name:"Enable on",action:"element_attribute",attribute:"data-pg-an-px-t-disable",show_empty:!0,options:i,toggle_buttons:!0,json_parameter:`on`,helptext:o},"data-pg-an-px-progress":{type:"custom",name:"Scene progress",action:"none",show:function(e,t,a,n,i){u=t.getId()+`:scene`;var o=$('<div class="crsa-field"><label>Progress</label><div class="pg-ix-scene-progress"><div class="pg-ix-scene-progress-bar"></div><div class="pg-ix-scene-progress-label"></div></div></div>').appendTo(e);return h=(t=o).get(0).querySelector(".pg-ix-scene-progress-bar"),g=t.get(0).querySelector(".pg-ix-scene-progress-label"),_(f[u]||0,!0),o},helptext:`<p>See the progress of the scene during editing in Pinegrow.</p>`},"data-pg-an-px-t-debug":{type:"checkbox",name:"Show markers",action:"element_attribute",attribute:"data-pg-an-px-t-debug",json_parameter:`dbg`,value:"true",placeholder:"for example, Scene 1",helptext:`<p>Show position and trigger of the scroll scene during editing in Pinegrow.</p>`},"data-pg-an-px-t-start-on":{type:"menu",name:"Start and end",get_menu_options:[{key:"auto",name:"Auto",label:'Auto <span class="multiline-desc">Auto detect the direction and scroll container. The scene starts when it enters into view and ends when it is fully visible.</span>'},{key:"custom",name:"Describe",label:'Describe <span class="multiline-desc">Describe the start and end of the scroll scene.</span>'},{key:"whole",name:"Whole scroll area",label:'Whole scroll area <span class="multiline-desc">The scene starts at the start of the scroll and ends at the end.</span>'},{type:"divider"},{type:"header",label:"Compatibility with Interactions 1.0"},{key:"onEnter",name:"Enter",label:'Enter <span class="multiline-desc">Start when the top of the element enters the view. End after Duration is scrolled. If the scene is <b>pinned</b> this option is ignored and Leave is used instead.</span>'},{key:"onCenter",name:"Center",label:'Center <span class="multiline-desc">Start when the top of the element reaches the center of the view. End after Duration is scrolled.</span>'},{key:"onLeave",name:"Leave",label:'Leave <span class="multiline-desc">Start when the top of the element leaves the view. End after Duration is scrolled.</span>'}],default_value:"auto",placeholder:"default, Auto",json_parameter:"s",helptext:`<p>When does the scroll scene start and end?</p>
<ul>
<li><b>Auto</b> - Auto detect the direction and scroll container. The scene starts when it enters into view and ends when it is fully visible.</li>
<li><b>Describe</b> - Use a group of fields to describe when the scene starts and ends. This option gives you the full control over the scene.</li>
<li><b>Whole scroll area</b> - The scene starts at the start of the scroll and ends at the end, for example when the page is scrolled from top to bottom.</li>
</ul>

<p>The following options are included for the compatibility with Interactions 1.0:</p>
<ul>
<li><b>Enter</b> - As soon as it comes into view.</li>
<li><b>Center</b> - When the scene reaches the center of the view.</li>
<li><b>Leave</b> - When the scene starts leaving the view.</li>
</ul>`,start_section:"Start and end"},"data-pg-an-px-t-duration":{type:"slider",slider_def_unit:"%",placeholder:"default, 200%",name:"Duration",json_parameter:"d",show_if:"data-pg-an-px-t-start-on==onEnter||onCenter||onLeave",helptext:`<p>Duration of the scroll scene expressed in % of viewport or in px. Default is 200%, two viewport heights. This field is only used when Start and end fiels is Enter, Center or Leave.</p>`},"data-pg-an-px-t-offset":{type:"slider",slider_def_unit:"px",placeholder:"default, 0px",name:"Plus / minus",json_parameter:"o",show_if:"data-pg-an-px-t-start-on==onEnter||onCenter||onLeave",helptext:`<p>Offset the start of the scene, expressed in px. This field is only used when Start and end fiels is Enter, Center or Leave.</p>`},"data-pg-an-px-t-start-label":{type:"displayhtml",name:"Start when:",show_if:"data-pg-an-px-t-start-on==custom",add_class:"pg-action-field-group",helptext:`<p>Describe when the scroll scene starts.</p>`},"data-pg-an-px-t-start-trigger":{type:"select",name:"Scene element's",options:[{key:"start",name:"Start"},{key:"center",name:"Center"},{key:"end",name:"End"}],default_value:"top",json_parameter:"s_t",show_if:"data-pg-an-px-t-start-on==custom",append_to:".crsa-field-data-pg-an-px-t-start-label",helptext:`<p>Select the trigger area of the scene element. The scene element is the element that is moving inside the scroller (scroller is page viewport by default).</p>`},"data-pg-an-px-t-start-scroller":{type:"select",name:"&hellip;reaches the",options:[{key:"start",name:"Start"},{key:"center",name:"Center"},{key:"end",name:"End"}],default_value:"top",json_parameter:"s_s",show_if:"data-pg-an-px-t-start-on==custom",append_to:".crsa-field-data-pg-an-px-t-start-label",helptext:`<p>Select the trigger area on the scroller (scroller is page viewport by default). The scene starts when both triggers meet.</p>`},"data-pg-an-px-t-start-target":{type:"selector",use_selector_extensions:!0,name:"&hellip;of the",placeholder:"default, viewport or parent scroller",json_parameter:"s_scroller",show_if:"data-pg-an-px-t-start-on==custom",selector_multiple:!0,selector_global:!0,selector_dom:!0,append_to:".crsa-field-data-pg-an-px-t-start-label",helptext:`<p>Select the scroller element. By default this is the viewport (the window of the browser) or the scroller element of the parent Scroll Scene, if it exists. Select the body (use the selector $body) or html element to force using the window viewport.</p><p>NOTE: in previous versions, the parent element was used as the scroller if its scroll size was larger than its outer size. This turned out to be inaccurate. In case of issues, try explicitly setting the scroller element.</p>`},"data-pg-an-px-t-coffset":{type:"slider",slider_def_unit:"px",placeholder:"default, 0px",name:"&hellip;plus / minus",json_parameter:"s_o",show_if:"data-pg-an-px-t-start-on==custom",append_to:".crsa-field-data-pg-an-px-t-start-label",helptext:`<p>Offset the start of the scene, expressed in px or % of the scroller size.</p>`},"data-pg-an-px-t-end-label":{type:"displayhtml",name:"End when:",show_if:"data-pg-an-px-t-start-on==custom",add_class:"pg-action-field-group",helptext:`<p>Describe when the scroll scene ends.</p>`},"data-pg-an-px-t-end-trigger":{type:"select",name:"The",options:[{key:"start",name:"Start"},{key:"center",name:"Center"},{key:"end",name:"End"}],default_value:"bottom",json_parameter:"e_t",append_to:".crsa-field-data-pg-an-px-t-end-label",show_if:"data-pg-an-px-t-start-on==custom",helptext:`<p>Select the trigger area of the scene element that will trigger the scene end.</p>`},"data-pg-an-px-t-end-target":{type:"selector",use_selector_extensions:!0,name:"&hellip;of the element",placeholder:"default, scene element",json_parameter:"e_target",show_if:"data-pg-an-px-t-start-on==custom",selector_multiple:!0,selector_global:!0,selector_dom:!0,append_to:".crsa-field-data-pg-an-px-t-end-label",helptext:`<p>The end can be triggered by a different element than the Scroll scene element.</p>`},"data-pg-an-px-t-end-scroller":{type:"select",name:"&hellip;reaches scroller's",options:[{key:"start",name:"Start"},{key:"center",name:"Center"},{key:"end",name:"End"}],default_value:"top",json_parameter:"e_s",show_if:"data-pg-an-px-t-start-on==custom",append_to:".crsa-field-data-pg-an-px-t-end-label",helptext:`<p>Select the trigger area of the scroller. The scene ends when both triggers meet.</p>`},"data-pg-an-px-t-end-offset":{type:"slider",slider_def_unit:"px",placeholder:"default, 0px",name:"&hellip;plus / minus",json_parameter:"e_o",show_if:"data-pg-an-px-t-start-on==custom",append_to:".crsa-field-data-pg-an-px-t-end-label",helptext:`<p>Offset the end of the scene, expressed in px or % of the scroller size.</p>`},"data-pg-an-px-t-pin":{type:"checkbox",name:"Pin",value:"true",json_parameter:"pin",end_section:!0,start_section:"Pin",validate:function(e,t,a){if(a&&("body"===e.tagName||"html"===e.tagName))return e.tagName+` element can not be pinned.`},helptext:`<p>Pin the scene. The element will become fixed for the duration of the scene.</p>`},"data-pg-an-px-t-pin-target":{type:"selector",name:"Pin element",placeholder:"default, scene element",json_parameter:"pint",show_if:"data-pg-an-px-t-pin",selector_multiple:!0,selector_global:!0,selector_dom:!0,use_selector_extensions:!0,helptext:`<p>Select the element that should be pinned. By default, the scene element is pinned.</p>`},"data-pg-an-px-t-pin-type":{type:"select",name:"Pin type",options:[{key:"fixed",name:"Fixed"},{key:"transform",name:"Transform"}],show_empty:!0,placeholder:"default, auto",show_if:"data-pg-an-px-t-pin",json_parameter:"pin_type",helptext:`<p>If the element is not pinned correctly, try setting the pin type:</p>
<ul>
<li><b>Fixed</b> - <code>position:fixed</code> will be used for pinning the element in place.</li>
<li><b>Transform</b> - <code>transform</code> will be used to pin the element.</li>
</ul>
`},"data-pg-an-px-t-pin-body":{type:"checkbox",name:"Append to Body",value:"true",json_parameter:"pin_body",show_if:"data-pg-an-px-t-pin",helptext:`<p>Append the element to the Body element during the animation. Only use this option if the element is not pinned correctly.</p>`},"data-pg-an-px-t-pin-spacing":{type:"select",name:"Spacing",options:[{key:"auto",name:"Auto - padding or margin"},{key:"padding",name:"Padding"},{key:"margin",name:"Margin"},{key:"false",name:"None"}],show_empty:!0,placeholder:"default, auto",show_if:"data-pg-an-px-t-pin",json_parameter:"pin_spc",helptext:`<p>How to add space after the pinned element:</p>
<ul>
<li><b>Auto</b> - Use padding or margins in case parent uses display flex or position absolute.</li>
<li><b>Padding</b> - Add bottom padding to the element.</li>
<li><b>Margin</b> - Add bottom margin to the element.</li>
<li><b>None</b> - Don't add any spacing.</li>
</ul>
`},"data-pg-an-px-t-snap":{type:"select",name:"Snap to",options:[{key:"0",name:"Start"},{key:"0.5",name:"Center"},{key:"1",name:"End"},{key:"0,1",name:"Start and end"},{key:"0,0.5,1",name:"Start, center and end"},{key:"e",name:"Elements"}],show_empty:!0,placeholder:"default, none",json_parameter:"snap",helptext:`<p>Snap to position when the user stops scrolling:</p>
<ul>
<li><b>Start</b> - Snap to the start of the scene.</li>
<li><b>Center</b> - Snap to the center of the scene.</li>
<li><b>End</b> - Snap to the end of the scene.</li>
<li><b>Start and end</b> - Snap to the start and end of the scene.</li>
<li><b>Start, center and end</b> - Snap to the start, center and end of the scene.</li>
<li><b>Elements</b> - Snap to children of the scene element.</li>
</ul>
`,end_section:!0,start_section:"Snapping"},"data-pg-an-px-t-snap-sel":{type:"selector",name:"Snap to elements",placeholder:"default, all children",json_parameter:"snap_sel",show_if:"data-pg-an-px-t-snap==e",selector_multiple:!0,selector_global:!0,selector_dom:!0,use_selector_extensions:!0,helptext:`<p>Select the children elements that should be snapped to. Default is all children of the scene element.</p>`},"data-pg-an-px-t-snap-delay":{type:"slider",slider_min:0,slider_def_unit:"",name:"Delay in s",placeholder:"example, 0.2",json_parameter:"snap_del",helptext:`<p>Delay between the end of scroll and the start of the snap animation, in seconds.</p>`},"data-pg-an-px-t-snap-min-d":{type:"slider",slider_min:0,slider_def_unit:"",name:"Duration in s",placeholder:"example, 0.2",json_parameter:"snap_dur",helptext:`<p>Duration of the snapping animation, in seconds. If the Maxiumum duration is set, this value will be the minimum duration.</p>`},"data-pg-an-px-t-snap-max-d":{type:"slider",slider_min:0,slider_def_unit:"",name:"Max. duration in s",placeholder:"example, 2",json_parameter:"snap_durmax",show_if:"data-pg-an-px-t-snap-min-d",helptext:`<p>Maximum duration of the snapping animation, in seconds. The Duration is used as the minimum duration.</p>`},"data-pg-an-px-t-snap-ease":{type:"menu",name:"Ease",json_parameter:"snap_ease",get_menu_options:w.pgiaGetEaseMenu,helptext:`<p>Select the ease for the snapping animation. Default is Power3.</p>`},"data-pg-an-px-t-pag":{type:"select",name:"Paginate",options:[{key:"e",name:"Elements"},{key:"p",name:"Pages"}],show_empty:!0,json_parameter:"pag",end_section:!0,start_section:"Pagination &amp; Options",helptext:`<p>Pagination let's you run Activate and Deactivate animations on elements that represent slides or pages of the scroll scene.</p>`},"data-pg-an-px-t-pag-target":{type:"selector",name:"Elements",placeholder:"default, child elements",json_parameter:"pag_t",show_if:"data-pg-an-px-t-pag==e",selector_multiple:!0,selector_global:!0,selector_dom:!0,use_selector_extensions:!0,helptext:`<p>Select the elements within the scroll scene that represent its slides.</p>`},"data-pg-an-px-t-pag-items":{type:"selector",name:"Items",placeholder:"select pagination items",json_parameter:"pag_i",show_if:"data-pg-an-px-t-pag",selector_multiple:!0,selector_global:!0,selector_dom:!0,use_selector_extensions:!0,helptext:`<p>Select the pagination items, navigational elements that represent slides (for example, links numbered 1, 2, 3 and so on.</p>`},"data-pg-an-px-t-pag-clone":{type:"checkbox",name:"Create items",value:"true",json_parameter:"pag_clone",helptext:`<p>Automatically create or remove pagination items.</p>`},"data-pg-an-px-t-pag-active":{type:"text",name:"Activate item animation",placeholder:"select item animation",json_parameter:"pag_pa",show_if:"data-pg-an-px-t-pag",show_empty:!0,helptext:`<p>One or more animations that should be run when the item's slide becomes the current slide. You can list multiple animations (by their names or numbers 1 - 10) separated with commas. Prefix - to play the animation in reverse. For example <code>Activate,-MakeSmaller,3</code></p>`},"data-pg-an-px-t-pag-inactive":{type:"text",name:"Deactivate item animation",placeholder:"select item animation",json_parameter:"pag_pd",show_if:"data-pg-an-px-t-pag",helptext:`<p>One or more animations that should be run when the item's slide ceases to be the current slide. You can list multiple animations (by their names or numbers 1 - 10) separated with commas. Prefix - to play the animation in reverse. For example <code>-Activate,MakeSmaller</code></p>`},"data-pg-an-px-t-pag-delay":{type:"slider",name:"Delay in s",slider_def_unit:"s",slider_min:0,json_parameter:`pag_delay`,placeholder:"for example, 0.5s or 200ms",show_if:"data-pg-an-px-t-pag",helptext:`<p>Delay before updating pagination. Default value is 100ms.</p>`},"data-pg-an-px-t-pag-inf":{type:"checkbox",name:"Infinite scroll",value:"true",json_parameter:"pag_inf",helptext:`<p>This is an infinite scroll - the first slide is repeated at the end.</p>`},"data-pg-an-px-t-pag-cover-top":{type:"slider",name:"Top covered",placeholder:"default, 0",json_parameter:"pag_tc",slider_def_unit:"",slider_min:0,helptext:`<p>The size of the top (left for horizontal scenes) area that is covered by navigation or other element, in px. The value is used for calculating the current element. If set, this value is also taken into account by Snap function and the Scroll To transforms.</p>`},"data-pg-an-px-t-pag-cover-bottom":{type:"slider",name:"Bottom covered",placeholder:"default, 0",json_parameter:"pag_bc",slider_def_unit:"",slider_min:0,helptext:`<p>The size of the bottom (right for horizontal scenes) area that is covered by navigation or other element, in px. The value is used for calculating the current element.</p>`},"data-pg-an-px-t-reduce-motion":{type:"checkbox",name:"Reduce motion if preferred",value:"true",json_parameter:"redm",helptext:`<p>Reduce motion if reduce motion setting is enabled on the device. The duration of animations is set to 1ms so that they play instantly.</p>`}},n=0;n<t;n++)a["data-pg-an-px-name"+(e=`-`+(n+1))]={type:"text",name:"Name",placeholder:"",start_repeat_item:"Animation "+(n+1),add_repeat_item_label:"Add animation",delete_first_repeat_item:!0,repeat_item_class:"scrollscene",json_parameter:`l[${n}].name`,on_changed:function(e){r(e)},helptext:`<p>Give an animation a name describing what it does.</p>`},a["data-pg-an-px-tg"+e]={type:"selector",selector_multiple:!0,selector_global:!0,selector_dom:!0,use_selector_extensions:!0,name:"Target",placeholder:"default, scene element",animation_id:`scene_item_`+n,json_parameter:`l[${n}].t`,on_changed:function(e){r(e)},helptext:`<p>On what element(s) should the animation be played?</p><p>By default, the animation will be played on the element where this action is assigned.</p>`},!function(n){a["data-pg-an-px-animation"+e]={type:"custom",name:"Animation",action:"custom",control:m("animation-control"+e,e,n,a,0,"data-pg-ia-scene",`l[${n}].a`,0,function(e,t,a){e.executeScript(`pgia.scrollSceneManager.seekAnimation(__THIS_ELEMENT__, ${n}, '${t}', ${a=void 0===a?!1:a})`)},0,`scene_item_`+n,M)}}(n),a["data-pg-an-px-animation-play"+e]={type:"select",name:"Play",json_parameter:`l[${n}].p`,options:[{key:"scroll",name:"with scroll"},{key:"time",name:"independently"}],default_value:"scroll",on_changed:function(e){r(e)},start_section:"Advanced options",helptext:`<p>How to play the animation?
<ul>
<li><b>With scroll</b> - control the plauback with scrolling.</li>
<li><b>Independently</b> - trigger the animation at this position and let it play by itself.</li>
</ul></p>`},a["data-pg-an-px-animation-start"+e]={type:"slider",slider_def_unit:"",slider_min:0,slider_max:100,name:"Start at %",json_parameter:`l[${n}].s`,on_changed:function(e){r(e)},placeholder:"default, 0",helptext:`<p>The scroll position of the scene at which to start the animation, expressed in %</p>`},a["data-pg-an-px-animation-duration"+e]={type:"slider",slider_def_unit:"",slider_min:0,slider_max:100,name:"Duration in %",json_parameter:`l[${n}].sc_d`,on_changed:function(e){r(e)},show_if:"!data-pg-an-px-animation-play"+e+"==time",helptext:`<p>Duration of the animation in % of the total scroll duration.</p>`},a["data-pg-an-px-animation-time"+e]={type:"slider",name:"Duration in s",slider_def_unit:"s",slider_min:0,json_parameter:`l[${n}].t_d`,on_changed:function(e){r(e)},placeholder:"for example, 1s or 2000ms",show_if:"data-pg-an-px-animation-play"+e+"==time",helptext:`<p>Override the duration of the animation, expressed in s or ms.</p>`},a["data-pg-an-px-animation-dir"+e]={type:"select",name:"Scroll direction",action:"element_attribute",attribute:"data-pg-an-px-animation-dir"+e,show_if:"data-pg-an-px-animation-play"+e+"==time",default_value:"down",json_parameter:`l[${n}].sc_dir`,options:[{key:"down",name:"Forward"},{key:"up",name:"Backward"},{key:"up_down",name:"Both"}],on_changed:function(e){r(e)},helptext:`<p>Which scroll direction should play the animation?</p>`},a["data-pg-an-px-animation-reverse"+e]={type:"checkbox",name:"Reverse in opp. dir.",value:"true",json_parameter:`l[${n}].rev`,on_changed:function(e){r(e)},show_if:"data-pg-an-px-animation-play"+e+"==time",helptext:`<p>Reverse the animation when scrolling in the opposite direction.</p>`},a["data-pg-an-px-animation-replay"+e]={type:"checkbox",name:"Replay every time",value:"true",json_parameter:`l[${n}].rep`,on_changed:function(e){r(e)},show_if:"data-pg-an-px-animation-play"+e+"==time",helptext:`<p>Replay the animation every time the scene becomes visible in the chosen direction.</p>`},a["data-pg-an-px-animation-inv"+e]={type:"checkbox",name:"Invalidate",value:"true",json_parameter:`l[${n}].inv`,on_changed:function(e){r(e)},show_if:"data-pg-an-px-animation-play"+e+"==time",helptext:`<p>Invalidate the animation before playing. That means that old recorded starting values will be discarded and the current state of the element will be recorded as the starting value.</p>`},a["data-pg-an-px-animation-recreate"+e]={type:"checkbox",name:"Recreate on play",value:"true",json_parameter:`l[${n}].rec`,on_changed:function(e){r(e)},show_if:"data-pg-an-px-animation-play"+e+"==time",helptext:`<p>Recreate the animation every time it is played, so that selectors and Flip states are freshly evaluated.</p>`},a["data-pg-an-px-animation-disable"+e]={type:"select",name:"Enable on",action:"element_attribute",attribute:"data-pg-an-px-animation-disable"+e,show_empty:!0,options:i,toggle_buttons:!0,json_parameter:`l[${n}].on`,on_changed:function(e){r(e),v.showQuickMessage("You might have to refresh the page view after making this change.")},helptext:o};return $.each(a,function(e,t){t.on_changed=r}),a}()}},M.get_action_tag=function(e,t){return'<i class="icon icon-Scene_Scroll" style="font-size: 15px;position: relative;top: 2px;" title="Scroll scene"></i>'},M.pgiaRefreshAnimation=r,M.on_can_add_action=R,M.on_action_added=function(e,t,a,n){r(e)},M.on_action_removed=function(e,t,a,n){r(e)},M.meta={helptext:`Control animations based on the scroll position of the element.`,helplink:"https://pinegrow.com/docs/interactions/actions/scroll-scene/"},D(M),w.addComponentType(M),a.push(M),(t=new PgComponentType("animation-hide","Hide at start")).selector="[data-pg-ia-hide]",t.code=null,t.attribute="data-pg-ia-hide",t.action=!0,t.not_main_type=!0,t.sections={parameters:{name:"Options",fields:{"data-pg-ia-hide":{name:"Enable on",type:"select",show_empty:!0,options:P,toggle_buttons:!0,attribute_keep_if_empty:!0,action:"element_attribute",attribute:"data-pg-ia-hide",helptext:o}}}},t.get_action_tag=function(e,t){return'<i class="icon icon-hide" style="font-size: 15px;position: relative;top: 2px;" title="Hide at start"></i>'},t.on_can_add_action=R,t.meta={helptext:`Hide the element when page loads, if interactions are enabled. Use Auto opacity to show the element.`,helplink:"https://pinegrow.com/docs/interactions/actions/hide-at-start/"},w.addComponentType(t),a.push(t),(t=new PgComponentType("animation-show","Show at start")).selector="[data-pg-ia-show]",t.code=null,t.attribute="data-pg-ia-show",t.action=!0,t.not_main_type=!0,t.sections={parameters:{name:"Options",fields:{"data-pg-ia-show":{name:"Enable on",type:"select",show_empty:!0,options:P,toggle_buttons:!0,attribute_keep_if_empty:!0,action:"element_attribute",attribute:"data-pg-ia-show",aaaoptions:[{key:"inline",name:"inline"},{key:"inline-block",name:"inline-block"},{key:"block",name:"block"},{key:"flex",name:"flex"},{key:"grid",name:"grid"}],helptext:o}}}},t.get_action_tag=function(e,t){return'<i class="icon icon-see" style="font-size: 15px;position: relative;top: 2px;" title="Show at start"></i>'},t.on_can_add_action=R,t.meta={helptext:`Show the element when page loads, if interactions are enabled. Use Auto opacity and Display: none to hide the element.`,helplink:"https://pinegrow.com/docs/interactions/actions/show-at-start/"},w.addComponentType(t),a.push(t),(y=new PgComponentType("animation-smooth-scroll","Smooth Scroll")).selector="[data-pg-ia-smooth-scroll]",y.code=null,y.attribute="data-pg-ia-smooth-scroll",y.action=!0,y.not_main_type=!0,y.sections={"an.parameters":{name:"Animation",fields:(P={"data-pg-an-ss-speed":{type:"select",name:"Speed",options:[{key:"slow",name:"Slow"},{key:"normal",name:"Normal"},{key:"fast",name:"Fast"}],default_value:"normal",json_parameter:"spd",helptext:`<p>Speed of the mouse wheel scroll.</p>`}},$.each(P,function(e,t){t.on_changed=n}),P)}},y.get_action_tag=function(e,t){return'<i class="icon icon-113" style="font-size: 15px;position: relative;top: 2px;" title="Animations"></i>'},y.on_action_added=n,y.on_action_removed=n,y.pgiaRefreshAnimation=n,y.on_can_add_action=R,y.meta={helptext:`Smooth the mouse wheel scrolling on the target element. Add it to &lt;html&gt; to smooth the page scrolling. Disables showing and hiding the address bar on mobile, when added to HTML or BODY element.`,helplink:"https://pinegrow.com/docs/interactions/actions/smooth-scroll/"},D(y),w.addComponentType(y),a.push(y),t=new PgComponentType("animation-apply","Apply to many"),t.selector="[data-pg-ia-apply]",t.code=null,t.attribute="data-pg-ia-apply",t.action=!0,t.not_main_type=!0,t.sections={parameters:{name:"Options",fields:{"data-pg-ia-apply":{name:"Target",type:"selector",selector_multiple:!0,selector_global:!0,selector_dom:!0,use_selector_extensions:!0,attribute_keep_if_empty:!0,action:"element_attribute",attribute:"data-pg-ia-apply",helptext:`<p>Select elements to which the interactions should be applied.</p>`}}}},t.get_action_tag=function(e,t){return'<i class="icon icon-Applay_to_many" style="font-size: 15px;position: relative;top: 2px;" title="Apply to many"></i>'},t.on_can_add_action=R,A.on_action_added=A.on_action_removed=function(e,t,a,n){v.showQuickMessage("Refresh the page view to see changes on the page.")},t.meta={helptext:`Apply all interaction actions on this element to all elements matching the target selector, if the target element doesn't have the action already.`,helplink:"https://pinegrow.com/docs/interactions/actions/apply-to-many/"},w.addComponentType(t),a.push(t),w.on_undo_redo=function(e,t){t.pgel_col&&t.pgel_col.forEachElement(function(t){a.forEach(function(e){e.hasAction(t)&&e.pgiaRefreshAnimation&&e.pgiaRefreshAnimation(t)})})},w.on_page_shown_in_live_view=function(e){e.javascriptEnabled||v.showQuickError("NOTE: JavaScript on the page is disabled. Pinegrow Interactions will not run.")},v.addEventHandler("on_get_default_actions",function(e,t,a,n){a.panel_type}),O=function(){w.addResourcesToProject(v.getCurrentProject(),function(){v.showQuickMessage("Pinegrow Interactions pgia.js was updated to the latest version.")},!0,!1,!0)},v.addEventHandler("on_actions_panel_help_menu",function(e,t,a){var n,i;"ANIMATIONS"===t.panel_type&&(n=[{type:"header",label:"Settings"},{label:"Show hidden elements",action:function(){C.setValue(!C.getCurrentValue())},check:C.getCurrentValue()}],isApp()&&(n.push({type:"divider"}),n.push({type:"header",label:"Tools"}),n.push({label:"Update Interactions library",action:function(){O()},helptext:"Update Pinegrow Interactions JavaScript files in the project to the latest version."}),n.push({label:"Generate script...",action:function(){v.requireProject(function(n){var s=n.getProjectInfo(),e={},t=s.getSetting("pgia-script-file");e.url={type:"text",name:"File name",file_picker:!0,file_picker_save:!0,file_picker_no_url:!1,file_picker_no_proxy:!0,file_picker_on_picked:function(e,t){return n.getRelativeUrl(e)},helptext:`<p>The JavaScript file where the interactions will be saved. Relative paths are resolved from the project root. For example, using <code>assets/my.animations.js</code> will save the script in <code>&lt;project folder&gt;/assets/my.animations.js</code>.</p>`,validate:function(e,t,a){return a?null:"Please enter the file name or select a file."},value:t},v.showQuickDialog(`Generate JavaScript file with interactions`,"Select the file",`<p>This action will go through all editable files in the current project and save all interactions that have Apply to Many action into the selected JavaScript file, so that you can include them into any project.</p>
<p>Interactions are appended to the selected file, or refreshed if they are already saved there.</p>
<p>Learn more about <a href="https://pinegrow.com/docs/interactions/including-interactions-into-any-website" class="external">using scripts to include Interactions into any website</a>.</p>`,e,"Cancel","Generate interactions script",null,function(e){var t=s.makeUrlRelative(e.url),a=crsaMakeFileFromUrl(s.makeUrlAbsolute(t)),i=(s.setSetting("pgia-script-file",t),s.save(),0),o=`
if(typeof pgia == 'undefined') {
    console && console.error('Pinegrow Interactions: pgia.js must be included before this script.');
} else {`,r=["data-pg-ia","data-pg-ia-scene","data-pg-ia-smooth-scroll"];n.forEachEditableFile(function(e,t,a){e.sourceNode.walk(function(a){var e,t,n;return a.isElement&&(e=a.getAttr("data-pg-ia-apply"))&&(t=null,t=(t=e.startsWith("$")?t:a.getUniqueSelector())?`'${t}'`:"null",n=[],r.forEach(function(e){var t=a.getAttr(e);if(t)try{JSON.parse(t);n.push(`        '${e.replace(/data\-pg\-ia\-?/,"")||"interactions"}': '${t}'`)}catch(e){}}),n.length)&&(i++,o+=`
    pgia.add('${e}', ${t}, {
${n.join(",\n")}    
    });`),!0}),t(e,a)},function(){o+=`
    pgia.update();
}
`;try{pgUpdateGeneratedSection(a,"Interactions",o),v.showQuickMessage(i+` interactions were saved to the file ${t}.`),v.refreshCurrentProjectDelayed(!0)}catch(e){v.showAlert(`<p>Error writting to <code>${a}</code>: `+e,"Could not write to the file")}},"Looking for interactions...")})})},helptext:"Save the interactions with Apply to Many action to a JavaScript file that can then be included elsewhere."}),n.push({label:"Add the required code",action:function(){var e=v.getSelectedPage();v.addFrameworkResourcesToPageOrProject(w,e,{done:function(){},overwrite:!0})},helptext:`Add the required JavaScript code to the selected page.`})),n.push({type:"divider"}),n.push({type:"header",label:"Help"}),n.push({label:"Documentation",action:function(){v.openExternalUrl("https://pinegrow.com/docs/interactions")},link_url:"https://pinegrow.com/docs/interactions",dont_handle_click:!isApp()}),n.push({label:"Examples",action:function(){v.showDocsTopic("https://pinegrow.com/docs/interactions/examples")},link_url:"https://pinegrow.com/docs/interactions/examples",dont_handle_click:!isApp()}),a.splice(0,0,...n),pgIsDev())&&(a.push({type:"divider"}),a.push({type:"header",label:"Dev only"}),a.push({label:"Apply to Many in source code",action:function(){var l=v.getSelectedPage();v.makeChanges(l,"Apply to many",function(){var s=["data-pg-ia","data-pg-ia-scene","data-pg-ia-hide","data-pg-ia-show","data-pg-ia-smooth-scroll"];l.sourceNode.find("[data-pg-ia-apply]").forEach(function(t){var e=t.getAttribute("data-pg-ia-apply");if(e)for(var a=t.get$DOMElement(),n=pgia.getTargets(a.get(0),e,l.getDocument()),i=0;i<n.length;i++){var o=n[i],r=getElementPgNode($(o),!0);r&&s.forEach(function(e){t.hasAttribute(e)&&r.setAttribute(e,t.getAttribute(e),!1,"'")})}})}),v.showQuickMessage("Done.")}}),i=function(p){var e=v.getCurrentProject();e.forEachEditableFile(function(e,t,a){var n=e.sourceNode.findOne("body"),i="file://Users/Matjaz/Dropbox/Development/DVWeb/DV/Pinegrow/PinegrowCodeDevTools/frameworks/pg.animations/resources/pgia/lib/pgia_lib.js",o="file://Users/Matjaz/Dropbox/Development/DVWeb/DV/Pinegrow/PinegrowCodeDevTools/frameworks/pg.animations/resources/pgia/lib/pgia_dev.js",r=(isApp()||(i="pgia/lib/pgia_lib.js",o="pgia/lib/pgia_dev.js"),"pgia/lib/pgia.js"),s=[],l=[];p?(s.push(r),l.push(i),l.push(o),l.push("pgia/lib/pgia_dev.js"),l.push("pgia/lib/pgia_lib.js")):(s.push(i),s.push(o),l.push(r)),l.forEach(function(e){var t=n.findWithAttrValue("src",e)[0];t&&t.remove()}),s.forEach(function(e){n.findWithAttrValue("src",e)[0]||n.append(pgCreate(`<script type="text/javascript" src="${e}"></script>`))}),e.save(null,!0),a.changed=!1,t(e,a)},function(){var t,a;p&&isApp()&&(t=w.getResourceFile("resources/pgia/lib/pgia.js"),a=require("fs"),e.walkThroughFiles(function(e){"pgia.js"===e.name?(crsaCopyFileSync(a,t,e.path),console.log(`Updated ${e.path} with `+t)):"pgia_lib.js"!==e.name&&"pgia_dev.js"!==e.name||(e.delete(),console.log(`Deleted `+e.path))}),v.refreshCurrentProjectDelayed(!0))},"Looking for interactions...")},a.push({label:"Update for production",action:function(){i(!0)}}),a.push({label:"Update for dev",action:function(){i(!1)}}))}),v.addEventHandler("on_assigned_actions_shown",function(e,a){"ANIMATIONS"===a.panel.panel_type&&a.page&&!a.page.hasFramework(w)&&(a.message='<p>Interactions are not activated on this page.</p><p class="buttons"><button class="pg-button activate-ia">Activate Interactions</button></p>',a.show_actions=!1,a.on_after=function(){a.panel.view.get$Element().find(".activate-ia").on("click",function(e){var t;e.preventDefault(),a.page.isNew()?v.showQuickError("Please save the page first."):(t=function(){v.activateFrameworkInCurrentContext(w,function(e){var t;v.selectedElements.reselect(),a.page.isRemote()&&isApp()?(t=!1,a.page.sourceNode.find("script[src]").forEach(function(e){0<=(e.getAttr("src")||"").indexOf("pgia.js")&&(t=!0)}),t||v.showQuickError("Interactions javascript resources can't be added to remote pages. Please save the page locally first.")):v.addFrameworkResourcesToPageOrProject(w,e,{done:function(){},overwrite:!1})},!0)},isApp()||v.currentUser.isPro()?t():v.showAlert(`<p><b>Pinegrow Interactions</b> are not included in the free version. You can Activate them and play around with them in this project, but you will not be able to export or download the project if it contains interactions.</p><p>Would you like to proceed?</p>`,"Free version can not export projects with Interactions","Cancel","Yes, activate Interactions",null,t))})})}),v.addEventHandler("on_project_loaded",function(e,t){if(isApp())try{var a,n,i,o,r,s=t.getAbsolutePath("pgia/lib/pgia.js");crsaIsFileExist(s)&&(a=require("fs").readFileSync(s,{encoding:"utf8"}),n=1,(n=(i=a.match(/VERSION\:\s*([0-9\.]+)/i))?parseFloat(i[1]):n)<l)&&(o=t.getProjectInfo(),parseFloat(o.getSetting("pgia-no-update")||0)!=l)&&(r=v.showAlert(`<p>The project is using Pinegrow Interactions version <b>${n.toFixed(2)}</b>. The current Pinegrow Interactions version is <b>${l.toFixed(2)}</b>.</p><p>Would you like to update Interactions reasources in the project to the latest version?</p><p>You have two choices:</p>
<ul class="space-items">
<li><b>Update (recommended)</b> - the file <code>pgia/lib/pgia.js</code> will be updated and you can start using the improved features. The compatibility changes are minimal. Take a look at <a href="https://pinegrow.com/docs/interactions/changelog/" class="external">What's new in Interactions</a> for details.</li>
<li><b>Keep the old version</b> - Resources in the project will not be updated. You can keep editing the interactions, but using the new features will have no effect and can cause issues.</li>
</ul>
<p>You can update the Interactions files at any time using the Tools menu in the Interactions panel.</p>
`,"Do you want to update Pinegrow Interactions?","Keep the old version","Update",function(){},function(){O()}),v.addLeftButton(r,"Keep the old version &amp; don't ask again",function(){o.setSetting("pgia-no-update",l),o.save(),v.showAlert(`<p>Use File -&gt; Manage libraries &amp; plugins -&gt; Interactions -&gt; Resources to update the resources whenever you want.</p>`,"You can update at any time")}))}catch(e){console.error("Could not check pgia.js version",e)}else t.addSourceUrlToDOMUrlMap("pgia/lib/pgia.js",w.getResourceUrl("resources/pgia/lib/pgia.js")),pgIsDev()&&(t.addSourceUrlToDOMUrlMap("pgia/lib/pgia_dev.js",w.getResourceUrl("resources/pgia/lib/pgia_dev.js")),t.addSourceUrlToDOMUrlMap("pgia/lib/pgia_lib.js",w.getResourceUrl("resources/pgia/lib/pgia_lib.js")))}),(P=new PgFrameworkLibSection("interactions","Interactions")).setComponentTypes(a),w.addActionsSection(P),D=new PgPluginBuilder(w),C=new PgPageViewHelper("Show Hidden by Interactions","pgia-preview-2","pg-ia-no-preview",null,null,!1,null,null,null,!0),N=`/* Pinegrow Interactions, do not remove */ (function(){try{if(!document.documentElement.hasAttribute('data-pg-ia-disabled')) { window.pgia_small_mq=typeof pgia_small_mq=='string'?pgia_small_mq:'${`(max-width:767px)`}';window.pgia_large_mq=typeof pgia_large_mq=='string'?pgia_large_mq:'${`(min-width:768px)`}';var style = document.createElement('style');var pgcss='${(R=[`html:not(.pg-ia-no-preview) [data-pg-ia-hide=""] {opacity:0;visibility:hidden;}`,`html:not(.pg-ia-no-preview) [data-pg-ia-show=""] {opacity:1;visibility:visible;display:block;}`]).map(function(e){return e}).join("")}';if(document.documentElement.hasAttribute('data-pg-id') && document.documentElement.hasAttribute('data-pg-mobile')) {pgia_small_mq='(min-width:0)';pgia_large_mq='(min-width:99999px)'} pgcss+='@media ' + pgia_small_mq + '{ ${R.map(function(e){return e.replace('""','"mobile"')}).join("")}}';pgcss+='@media ' + pgia_large_mq + '{${R.map(function(e){return e.replace('""','"desktop"')}).join("")}}';style.innerHTML=pgcss;document.querySelector('head').appendChild(style);}}catch(e){console&&console.log(e);}})()`,D.addResourceCode(N,/Pinegrow Interactions/,!1),w.pgiaGetInteractionsHeadScript=function(){return N},0&&(D.addResource("pgia/lib/pgia_lib.js"),D.addResource("pgia/lib/pgia_dev.js").aaareplace=function(e,t){return(t.getAttr("src")||"").indexOf("pgia_dev.js")<0}),isApp(),D.addResource("pgia/lib/pgia.js").aaareplace=function(e,t){return(t.getAttr("src")||"").indexOf("pgia.js")<0},w.showTimelineEditor=function(e){var t=pgUIViewManager.getView("animations_timeline");t&&(t=t.getTab().contentItem.parent,e?t.showStack():t.hideStack(),e||v.dispatchEvent("on_animation_selected",null,null))},w.isTimelineEditorShown=function(){var e=pgUIViewManager.getView("animations_timeline");return!!e&&((e=e.getTab().contentItem.parent).element.addClass("pg-force-min-panel-height"),!e.config.isHidden)},w.setTimelineTitle=function(e){var t=pgUIViewManager.getView("animations_timeline");t&&(t.getTab().setTitle(`Edit animation${e?": ":""}<span class="pg-ae-tl-title-name">${e}</span>`),t.getTab().titleElement.addClass("pg-ae-tl-title"))},window.pgInteractionsTreeCellManager=new function(){function n(e){var t=o.get(e);t&&(delete r[t],o.delete(e))}var i=this,o=new WeakMap,r={},s=null,l=1;this.register=function(e,t){var a=o.get(t);a&&delete r[a],t.cid||(t.cid=l++),t.onHidden=n,r[e]=t,o.set(t,e),w.timelineView.getAnimationId()===e?t.$element.addClass("pgia-selected"):t.$element.removeClass("pgia-selected")},this.updateProgress=function(e,t){var a,n=r[e]||null;n&&n.data&&((a=n.getElement("progress")).style.width=Math.round(80*t)+"px",1===t?(a.style.transition="opacity 2s",a.style.opacity="0",n.animated=!0):n.animated&&(a.style.transition="none",a.style.opacity="0.8",n.animated=!1))},this.setSelected=function(e){var t,a=r[e]||null;s&&s!==e&&(t=r[s]||null)&&t.$element.removeClass("pgia-selected"),a&&a.$element.addClass("pgia-selected"),s=e},v.pgAnimationPhone.addListener(function(e,t,a){i.updateProgress(e,a)})}):console.log("Interactions are not active.")})});