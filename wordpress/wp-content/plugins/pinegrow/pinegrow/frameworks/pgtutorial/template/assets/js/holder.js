var Holder=Holder||{};!function(m,t){var d,e,f=!1,l=!1,x=document.createElement("canvas"),n=1,o=1,u=[],h=(!x.getContext||x.toDataURL("image/png").indexOf("data:image/png")<0?l=!0:d=x.getContext("2d"),l||(n=window.devicePixelRatio||1,o=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1),n/o),p={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},sky:{background:"#0D8FDB",foreground:"#fff",size:12},vine:{background:"#39DBAC",foreground:"#1E292C",size:12},lava:{background:"#F8591A",foreground:"#1C2846",size:12}},stylesheet:""};function y(t){t=t.match(/^(\W)?(.*)/);var e=document["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2]),n=[];return n=null!==e?e.length||0===e.length?e:[e]:n}function w(t,e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o}function c(t){var e=t.ctx,n=t.dimensions,o=t.template,i=t.ratio,a=t.holder,r="literal"==a.textmode,s="exact"==a.textmode;t=n.width,d=n.height,l=o,d=parseInt(d,10),t=parseInt(t,10),u=Math.max(d,t),h=Math.min(d,t),h=Math.min(.75*h,.75*u*(1/12));var d,l,u={height:Math.round(Math.max(l.size,h))}.height,h=n.width*i,c=n.height*i,g=o.font||"sans-serif",o=(x.width=h,x.height=c,e.textAlign="center",e.textBaseline="middle",e.fillStyle=o.background,e.fillRect(0,0,h,c),e.fillStyle=o.foreground,e.font="bold "+u+"px "+g,o.text||Math.floor(n.width)+"x"+Math.floor(n.height)),r=(r?o=(n=a.dimensions).width+"x"+n.height:s&&a.exact_dimensions&&(n=a.exact_dimensions,o=Math.floor(n.width)+"x"+Math.floor(n.height)),e.measureText(o).width);return.75<=r/h&&(u=Math.floor(.75*u*(h/r))),e.font="bold "+u*i+"px "+g,e.fillText(o,h/2,c/2,h),x.toDataURL("image/png")}function b(t,e,n,o){var i=n.dimensions,a=n.theme,r=n.text&&decodeURIComponent(n.text),s=i.width+"x"+i.height,a=r?w(a,{text:r}):a;a=n.font?w(a,{font:n.font}):a,e.setAttribute("data-src",o),n.theme=a,e.holder_data=n,"image"==t?(e.setAttribute("alt",r||(a.text?a.text+" ["+s+"]":s)),!l&&n.auto||(e.style.width=i.width+"px",e.style.height=i.height+"px"),l?e.style.backgroundColor=a.background:(e.setAttribute("src",c({ctx:d,dimensions:i,template:a,ratio:h,holder:n})),n.textmode&&"exact"==n.textmode&&(u.push(e),g(e)))):"background"==t?l||(e.style.backgroundImage="url("+c({ctx:d,dimensions:i,template:a,ratio:h,holder:n})+")",e.style.backgroundSize=i.width+"px "+i.height+"px"):"fluid"==t&&(e.setAttribute("alt",r||(a.text?a.text+" ["+s+"]":s)),"%"==i.height.slice(-1)?e.style.height=i.height:e.style.height=i.height+"px","%"==i.width.slice(-1)?e.style.width=i.width:e.style.width=i.width+"px","inline"!=e.style.display&&""!==e.style.display&&"none"!=e.style.display||(e.style.display="block"),l?e.style.backgroundColor=a.background:(u.push(e),g(e)))}function g(t){var e,n,o,i,a=null==t.nodeType?u:[t];for(e in a)a.hasOwnProperty(e)&&(n=a[e]).holder_data&&(o=n.holder_data,i=function(t,e){var n={height:t.clientHeight,width:t.clientWidth};if(n.height||n.width)return t.removeAttribute("data-holder-invisible"),n;if(t.hasAttribute("data-holder-invisible"))throw new Error("Holder: placeholder is not visible");return t.setAttribute("data-holder-invisible",!0),setTimeout(function(){e.call(this,t)},1),null}(n,g))&&(o.fluid&&n.setAttribute("src",c({ctx:d,dimensions:i,template:o.theme,ratio:h,holder:o})),o.textmode)&&"exact"==o.textmode&&(o.exact_dimensions=i,n.setAttribute("src",c({ctx:d,dimensions:o.dimensions,template:o.theme,ratio:h,holder:o})))}function v(t,e){var n={theme:w(p.themes.gray,{})},o=!1;for(sl=t.length,j=0;j<sl;j++){var i=t[j];m.flags.dimensions.match(i)?(o=!0,n.dimensions=m.flags.dimensions.output(i)):m.flags.fluid.match(i)?(o=!0,n.dimensions=m.flags.fluid.output(i),n.fluid=!0):m.flags.textmode.match(i)?n.textmode=m.flags.textmode.output(i):m.flags.colors.match(i)?n.theme=m.flags.colors.output(i):e.themes[i]?e.themes.hasOwnProperty(i)&&(n.theme=w(e.themes[i],{})):m.flags.font.match(i)?n.font=m.flags.font.output(i):m.flags.auto.match(i)?n.auto=!0:m.flags.text.match(i)&&(n.text=m.flags.text.output(i))}return!!o&&n}for(e in m.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(t){var e=this.regex.exec(t);return{width:+e[1],height:+e[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(t){var e=this.regex.exec(t);return{width:e[1],height:e[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(t){var e=this.regex.exec(t);return{size:p.themes.gray.size,foreground:"#"+e[2],background:"#"+e[1]}}},text:{regex:/text\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},font:{regex:/font\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(t){return this.regex.exec(t)[1]}}},document.getElementsByClassName||(document.getElementsByClassName=function(t){var e,n,o,i=document,a=[];if(i.querySelectorAll)return i.querySelectorAll("."+t);if(i.evaluate)for(e=i.evaluate(n=".//*[contains(concat(' ', @class, ' '), ' "+t+" ')]",i,null,0,null);o=e.iterateNext();)a.push(o);else for(e=i.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+t+"(\\s|$)"),o=0;o<e.length;o++)n.test(e[o].className)&&a.push(e[o]);return a}),window.getComputedStyle||(window.getComputedStyle=function(n){return this.el=n,this.getPropertyValue=function(t){var e=/(\-([a-z]){1})/g;return e.test(t="float"==t?"styleFloat":t)&&(t=t.replace(e,function(){return arguments[2].toUpperCase()})),n.currentStyle[t]||null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),m.flags)m.flags.hasOwnProperty(e)&&(m.flags[e].match=function(t){return t.match(this.regex)});m.add_theme=function(t,e){return null!=t&&null!=e&&(p.themes[t]=e),m},m.add_image=function(t,e){var n=y(e);if(n.length)for(var o=0,i=n.length;o<i;o++){var a=document.createElement("img");a.setAttribute("data-src",t),n[o].appendChild(a)}return m},m.run=function(t){f=!0;var e=w(p,t),n=[],o=[],i=[];for("string"==typeof e.images?o=y(e.images):window.NodeList&&e.images instanceof window.NodeList?o=e.images:window.Node&&e.images instanceof window.Node&&(o=[e.images]),"string"==typeof e.bgnodes?i=y(e.bgnodes):window.NodeList&&e.elements instanceof window.NodeList?i=e.bgnodes:window.Node&&e.bgnodes instanceof window.Node&&(i=[e.bgnodes]),d=0,s=o.length;d<s;d++)n.push(o[d]);for(var a=document.getElementById("holderjs-style"),r=(a||((a=document.createElement("style")).setAttribute("id","holderjs-style"),a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a)),e.nocss||(a.styleSheet?a.styleSheet.cssText+=e.stylesheet:a.appendChild(document.createTextNode(e.stylesheet))),new RegExp(e.domain+'/(.*?)"?\\)')),s=i.length,d=0;d<s;d++){var l=window.getComputedStyle(i[d],null).getPropertyValue("background-image"),u=l.match(r),h=i[d].getAttribute("data-background-src");u?(c=v(u[1].split("/"),e))&&b("background",i[d],c,l):null!=h&&(c=v(h.substr(h.lastIndexOf(e.domain)+e.domain.length+1).split("/"),e))&&b("background",i[d],c,l)}for(s=n.length,d=0;d<s;d++){var c,g=l=null;try{g=n[d].getAttribute("src"),attr_datasrc=n[d].getAttribute("data-src")}catch(t){}null==attr_datasrc&&g&&0<=g.indexOf(e.domain)?l=g:attr_datasrc&&0<=attr_datasrc.indexOf(e.domain)&&(l=attr_datasrc),l&&(c=v(l.substr(l.lastIndexOf(e.domain)+e.domain.length+1).split("/"),e))&&(c.fluid?b("fluid",n[d],c,l):b("image",n[d],c,l))}return m};var i=t,a=function(){window.addEventListener?(window.addEventListener("resize",g,!1),window.addEventListener("orientationchange",g,!1)):window.attachEvent("onresize",g),f||m.run()};function r(){try{S.doScroll("left")}catch(t){return void setTimeout(r,50)}O("poll")}var s="complete",k="readystatechange",E=!1,A=E,n=!0,C=i.document,S=C.documentElement,o=C.addEventListener?"addEventListener":"attachEvent",N=C.addEventListener?"removeEventListener":"detachEvent",_=C.addEventListener?"":"on",O=function(t){t.type==k&&C.readyState!=s||(("load"==t.type?i:C)[N](_+t.type,O,E),A)||!(A=!0)||a.call(i,null)};if(C.readyState==s)a.call(i,"lazy");else{if(C.createEventObject&&S.doScroll){try{n=!i.frameElement}catch(t){}n&&r()}C[o](_+"DOMContentLoaded",O,E),C[o](_+k,O,E),i[o](_+"load",O,E)}"function"==typeof define&&define.amd&&define([],function(){return m})}(Holder,window);