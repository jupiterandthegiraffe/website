$(function(){$("body").one("pinegrow-ready",function(e,s){var u=new PgFramework("pg.html","Plain HTML"),n=(u.name_short="HTML",u.description="Plain HTML starting pages and components.",u.author="Pinegrow",u.author_link="http://pinegrow.com",u.setScriptFileByScriptTagId("plugin-html"),s.addFramework(u,100),u.default=!0,u.show_in_manager=!1,u.lock_css_files=[/(^|\/)normalize\.css/i],u.ignore_css_files=[/(^|\/)theme\.css/i],!1),p=(pgf.html_plugin&&(n=pgf.html_plugin.simple||!1),{}),d=null,a=(u.getType=function(e,t,n){return p[t.tagName]||d},pgf.kids||!1);if(a&&0){function t(e,t,n,a,i,o){var r=new PgComponentType(M+e,t);return r.selector=n,r.code=a,r.empty_placeholder=!0,r.tags="major",r.on_can_insert_into=i,o&&$.each(o,function(e,t){r[e]=t}),u.addComponentType(r),r}function i(e){return e.isSelector(h)}function o(e,t){return!(e.closest(m)||"body"!==e.tagName&&!c(e,"div,body,html"))}for(var r=[],l=[],c=function(e,t){for(var n=e;n&&!n.rootNode;){if(!n.isSelector(t))return!1;n=n.parent}return!0},m="header,section,footer",h=m+",div",g=(r.push(t("header","Header","header",`<header></header>`,o)),r.push(t("section","Section","section",`<section></section>`,o)),r.push(t("footer","Footer","footer",`<footer></footer>`,o)),r.push(t("div","Div","div",`<div></div>`,function(e){return!!c(e,"div,body,html,"+m)})),r.push(t("columns.centered","Columns - Centered",".container",`<div class="container"><div class="row"><div class="col-md-4 pg-empty-placeholder"></div><div class="col-md-4 pg-empty-placeholder"></div><div class="col-md-4 pg-empty-placeholder"></div></div></div>`,function(e,t){return e.isSelector(m)})),r.push(t("columns","Columns",".container-fluid",`<div class="container-fluid"><div class="row"><div class="col-md-4"></div><div class="col-md-4"></div><div class="col-md-4"></div></div></div>`)),1);g<=6;g++)l.push(t("h"+g,"H"+g,"h"+g,`<h${g}>Heading ${g}</h${g}>`,i));l.push(t("p","Paragraph","p",`<p>This is some nice text.</p>`,i)),l.push(t("img","Image","img",`<img src="${s.getPlaceholderImage()}">`,function(e,t){return i(e)||e.isSelector("p")})),l.push(t("button","Button",".btn",`<button class="btn btn-primary">Click me</button>`,function(e,t){return i(e)||e.isSelector("p")}));var _=new PgFrameworkLibSection("pg.html.containers","Layout");_.setComponentTypes(r),u.addLibSection(_),(_=new PgFrameworkLibSection("pg.html.content","Content")).setComponentTypes(l),u.addLibSection(_)}function f(e){return e.getLinkElement()}function y(e,t,n,a,i){var o=a.data("propertyField").grid_section,r=(H.closed=!1,o.openClose(!0,!0),t.closest(".pg-grid"));crsaFuncs.addLinkAroundElement(s.getCollectionForElement(e),i),s.selectedElements.reselect(),setTimeout(function(){r.find(".crsa-field-html-link-href input").get(0).focus()},10)}function b(e){for(var t=0;t<e.children.length;t++)if(e.children[t].isElementOrScript)return!0;return!1}function k(e){var t=[];return e.forEach(function(e){p[e]?t.push(p[e]):console.error(`HTML: Definition for ${e} not found.`)}),t}function v(e,t,n){e.is("html")&&((a=e.findOne("head"))||(a=pgCreate("<head></head>"),e.prepend(a)),e=a);var a=e.find(t);return a.length?a[0]:n?(a=pgCreateNodeFromHtml(n),e.append(a),a):null}function w(e,t){return(e=v(e,'meta[name="'+t+'"]'))?e.attr("content"):null}function x(e,t,n){var a=e,e=(e.is("html")&&(a=e.findOne("head")),v(a,'meta[name="'+t+'"]','<meta name="'+t+'">'));null===n?e&&e.remove():e.attr("content",n)}function T(e,t){var n=e.findOne("head");if(n){for(var a=n.find("link[rel]"),i=null,o=0;o<a.length;o++)if(0<=(a[o].getAttribute("rel")||"").split(" ").indexOf("icon"))return a[o];if(t)return(i=pgCreate(`<link rel="icon">`)).appendTo(n),i}return null}var r=[{name:"Sections",key:"html-sections",els:[{tag:"section/p",name:"section",major:!0,preview_description:`Use a SECTION element to create a section (chapter) of the webpage. Each section usually contains a heading and content.`},{tag:"nav/p",name:"nav",major:!0,preview_description:`Use a NAV element to create a navigation menu for the website.`},"article/p","aside/p",{tag:"h1",name:"h1",code:"<h1>Heading 1</h1>",preview_description:`Use H1 (heading 1) for the main headline on the page.`},{tag:"h2",name:"h2",code:"<h2>Heading 2</h2>",preview_description:`Use H2 (heading 2) for section headings.`},{tag:"h3",name:"h3",code:"<h3>Heading 3</h3>",preview_description:`Use H3 (heading 3) for section sub-headings.`},{tag:"h4",name:"h4",code:"<h4>Heading 4</h4>",preview_description:`Use H4 (heading 4) for section sub-sub-headings.`},"h5:Heading 5:h5","h6:Heading 6:h6",{tag:"header/p",name:"header",major:!0,preview_description:`Use a HEADER element to create the most important part of the webpage, usually at the top of the page.`},{tag:"footer/p",name:"footer",major:!0,preview_description:`Use a FOOTER element for displaying the information about the website, usually at the bottom of the page.`},"address","main/p"]},{name:"Grouping elements",key:"html-grouping",els:[{tag:"p",name:"p",code:"<p>This is a paragraph, one or more lines of text. Each paragraph is displayed in a new line.</p>",preview_description:`Use a P (paragraph) element to display text.`},{tag:"hr",name:"hr",code:"<hr>",preview_description:`Use a HR (horizontal line) element to display a horizontal divider line between two elements.`},"pre:Preformated text","blockquote",{tag:"ol/p",props:{start:{name:"Start"}}},"ul/p",{tag:"li:List item",parent_selector:"ul,ol"},"dl","dt:Term","dd:Definition","figure","figcaption",{tag:"div",name:"div",empty_placeholder:!0,code:"<div></div>",preview_description:`Use a DIV element to group one or more HTML elements.`}]},{name:"Text",key:"html-text",els:[{tag:"a",name:"Anchor",selector:function(){return!1},drag_helper:"<div>Anchor</div>",code:'<a name="anchor"></a>',props:{name:{name:"Name"}}},{tag:"a",name:"a",code:'<a href="">Link</a>'},"em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo",{tag:"span",name:"span",code:"<span>This is a span.</span>",preview_description:`Use a SPAN element to group one or more words, so that you can style them with CSS. SPAN is displayed inline - it will not break the line of text.`},"br","wbr"]},{name:"Edits",key:"html-edits",els:["ins","del"]},{name:"External content",key:"html-embed",els:[{tag:"img/e",name:"img",preview_description:`Use an IMG element to display an image.`,code:function(){return'<img src="'+s.getPlaceholderImage()+'">'},props:{src:{name:"Source",type:"image",autocomplete_same_tag:!0},alt:{name:"Alt text"},width:{name:"Width",type:"slider",slider_def_unit:"",slider_min:0},height:{name:"Height",type:"slider",slider_def_unit:"",slider_min:0},loading:{name:"Lazy loading",type:"checkbox",value:"lazy"},getmorebutton:{show_if:function(){return!pgf.kids},name:"Get more images",type:"button",func:function(e,t){pgShowQuickImageBrowser(t)}},srcset:{name:"Srcset",type:"text",textarea:!0,start_section:"Responsive images"},sizes:{name:"Sizes",type:"text",textarea:!0},calcsizesbutton:{show_if:function(){return!pgf.kids},name:"Calculate sizes",type:"button",func:function(t,e){(new PgResponsiveImages).calculateResponsiveSizes(t,function(e){e.length?(s.makeChanges(t,"Calculate sizes",function(){t.setAttr("sizes",e.join(",\n"))}),s.selectedElements.reselect(),s.showQuickMessage("Done.")):s.showQuickError("Failed to calculate image sizes.")})}}}},{tag:"picture",name:"picture",preview_description:`Use a PICTURE element to display an image with different sources and formats.`,action_menu:{add:["html-source"],on_add:function(e,t,n,a){(new PgApi).insertElements(t,e,null,{append_before_selector:"img",select:!0})}},code:function(){return'<picture><img src="'+s.getPlaceholderImage()+'"></picture>'},props:{picturenotice:{name:"Select &lt;img&gt; and &lt;source&gt; child elements to setup the picture.",type:"displayhtml",action:"custom"},pictureaddsource:{show_if:function(){return!pgf.kids},name:"Add source",type:"button",func:function(e,t){(new PgApi).insertElements(`<source type="image/webp">`,null,null,{append_before_selector:"img",select:!0})}}}},{tag:"link/e",code:function(){return"<link>"},props:{href:{name:"Href",file_picker:!0,file_picker_no_proxy:!0},rel:{name:"Rel"}},on_inserted:function(e,t){"stylesheet"==e.getAttr("rel")&&t.updateStylesheetsList()},on_deleted:function(e,t){"stylesheet"==e.getAttr("rel")&&t.updateStylesheetsList()}},{tag:"iframe/e",name:(pgf.kids,"iframe"),drag_helper:"<div>Embedded media</div>",preview:"<div>YouTube video or similar media.</div>",preview_description:"Use an IFRAME element to include a media or content from another website, for example a YouTube video.",props:{iframesrc:{name:"Source url",attribute:"src",action:"element_attribute",file_picker:!0,file_picker_no_proxy:!0,autocomplete_same_tag:!0},iframewidth:{name:"Width",type:"slider",attribute:"width",action:"element_attribute",slider_def_unit:"",slider_min:0},iframeheight:{name:"Height",type:"slider",attribute:"height",action:"element_attribute",slider_def_unit:"",slider_min:0},iframeloading:{name:"Lazy loading",type:"checkbox",value:"lazy",attribute:"loading",action:"element_attribute"}},on_inserted:function(n,e){n.getAttr("src")||s.showQuickDialog("Insert iframe","Enter the HTML code","<p>Paste the HTML &lt;iframe&gt; code from YouTube or similar service into the code box and click OK</p><p>Note that you can't select &lt;iframe&gt; by clicking on them on the page. Use the Tree structure panel to select them.</p>",{code:{type:"text",textarea:!0,name:"HTML code",value:"",validate:function(e,t,n){var a=`The field should contain code that looks like: <code>&lt;iframe src="..."&gt;&lt;/iframe&gt;`;if(!(n=(n||"").trim()))return a;try{var i=pgCreate(n,!1);if("iframe"!==i.tagName||i.validateTree().length)return a}catch(e){return a}}}},"Cancel","OK",null,function(t){s.makeChanges(n,"Embed an iframe",function(){var e=pgCreate(t.code.trim());n.replaceWith(e)})})}},{tag:"embed/e",props:{src:{name:"Source url",file_picker:!0,file_picker_no_proxy:!0},width:{name:"Width"},height:{name:"Height"}}},{tag:"object/e",props:{data:{name:"Data"},type:{name:"Mime type"},width:{name:"Width"},height:{name:"Height"}}},"param/e",{tag:"video",name:"video",code:"<video>Your browser doesn't support HTML5 video tag.</video>",action_menu:{add:["html-source"]},props:{src:{name:"Src",file_picker:!0,file_picker_no_proxy:!0},poster:{name:"Poster",type:"image",file_picker:!0,file_picker_no_proxy:!0},width:{name:"Width",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"width",placeholder:"200"},height:{name:"Height",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"height",placeholder:"200"},autoplay:{name:"Autoplay",type:"checkbox",action:"element_attribute",value:"true",attribute:"autoplay"},controls:{name:"Controls",type:"checkbox",action:"element_attribute",value:"true",attribute:"controls",empty_attribute:!0},loop:{name:"Loop",type:"checkbox",action:"element_attribute",value:"true",attribute:"loop"},muted:{name:"Muted",type:"checkbox",action:"element_attribute",value:"true",attribute:"muted"},preload:{name:"Preload",type:"select",action:"element_attribute",show_empty:!0,attribute:"preload",options:[{key:"none",name:"none"},{key:"metadata",name:"metadata"},{key:"auto",name:"auto"}]},crossorigin:{name:"Cross-origin",type:"select",action:"element_attribute",show_empty:!0,attribute:"crossorigin",options:[{key:"anonymous",name:"anonymous"},{key:"use-credentials",name:"use-credentials"}]}}},{tag:"audio",name:"audio",code:"<audio>Your browser doesn't support HTML5 audio tag.</audio>",action_menu:{add:["html-source"]},props:{src:{name:"Src",file_picker:!0,file_picker_no_proxy:!0},volume:{name:"Volume",type:"slider",action:"element_attribute",slider_def_unit:"",slider_step:.1,slider_min:0,slider_max:1,attribute:"volume"},autoplay:{name:"Autoplay",type:"checkbox",action:"element_attribute",value:"true",attribute:"autoplay"},controls:{name:"Controls",type:"checkbox",action:"element_attribute",value:"true",attribute:"controls",empty_attribute:!0},loop:{name:"Loop",type:"checkbox",action:"element_attribute",value:"true",attribute:"loop"},muted:{name:"Muted",type:"checkbox",action:"element_attribute",value:"true",attribute:"muted"},preload:{name:"Preload",type:"select",action:"element_attribute",show_empty:!0,attribute:"preload",options:[{key:"none",name:"none"},{key:"metadata",name:"metadata"},{key:"auto",name:"auto"}]},crossorigin:{name:"Cross-origin",type:"select",action:"element_attribute",show_empty:!0,attribute:"crossorigin",options:[{key:"anonymous",name:"anonymous"},{key:"use-credentials",name:"use-credentials"}]}}},{tag:"source",name:"Source",code:"<source>",props:{sourcesrc:{name:"Src",attribute:"src",file_picker:!0,file_picker_no_proxy:!0,show_if:function(e,t,n){return"picture"!==t.parent.tagName}},sourcesrcset:{name:"Srcset",textarea:!0,attribute:"srcset",type:"text",file_picker:!0,file_picker_no_proxy:!0,show_if:function(e,t,n){return"picture"===t.parent.tagName},on_changed:function(e,t,n,a,i,o,r,l,c){var m;"change"===r&&n&&(m=s.getMimeType(n))&&o.closest(".pg-ui-section-content").find(".crsa-field-sourcetype input").val(m).trigger("change")}},sourcetype:{name:"Type",type:"text",action:"element_attribute",show_empty:!0,attribute:"type",open_list_on_focus:!0,options:[{key:"image/jpeg",name:"image/jpeg"},{key:"image/png",name:"image/png"},{key:"image/webp",name:"image/webp"},{key:"image/gif",name:"image/gif"},{key:"image/svg+xml",name:"image/svg+xml"},{key:"image/apng",name:"image/apng"},{key:"image/avif",name:"image/avif"},{key:"video/mp4",name:"video/mp4"},{key:"video/webm",name:"video/webm"},{key:"video/ogg",name:"video/ogg"},{key:"video/quicktime",name:"video/quicktime"},{key:"audio/mpeg",name:"audio/mpeg"},{key:"audio/ogg",name:"audio/ogg"},{key:"audio/wav",name:"audio/wav"}]},sourcesizes:{name:"Sizes",textarea:!0,type:"text",attribute:"sizes",show_if:function(e,t,n){return"picture"===t.parent.tagName}},sourcemedia:{name:"Media",textarea:!1,attribute:"media",type:"text",show_if:function(e,t,n){return"picture"===t.parent.tagName}},sourcewidth:{name:"Width",type:"slider",attribute:"width",slider_def_unit:"",slider_min:0,show_if:function(e,t,n){return"picture"===t.parent.tagName}},sourceheight:{name:"Height",type:"slider",attribute:"height",slider_def_unit:"",slider_min:0,show_if:function(e,t,n){return"picture"===t.parent.tagName}}}},"track/e","canvas/e","map/e","area/e",{tag:"svg",selector:"svg,path,polygon,circle,line,rect,g",name:"Svg",code:'<svg height="100" width="100">                    <circle cx="50" cy="50" r="40" stroke="#9e9e9e" stroke-width="3" fill="#cccccc" />                    Sorry, your browser does not support inline SVG.                </svg>',props:{svgwidth:{name:"Width",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"width",placeholder:"100",show_if:function(e,t){return"svg"===t.tagName}},svgheight:{name:"Height",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"height",placeholder:"100",show_if:function(e,t){return"svg"===t.tagName}},svgviewBox:{name:"viewBox",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"viewBox",placeholder:"0 0 100 100",show_if:function(e,t){return"svg"===t.tagName}},preserveAspectRatio:{name:"Preserve aspect ratio",type:"checkbox",action:"element_attribute",value:"true",attribute:"preserveAspectRatio",empty_attribute:!0,show_if:function(e,t){return"svg"===t.tagName}},svgFillWithCurrent:{name:"Fill with current color",type:"checkbox",action:"element_attribute",value:"currentColor",attribute:"fill"},svgStrokeWithCurrent:{name:"Stroke with current color",type:"checkbox",action:"element_attribute",value:"currentColor",attribute:"stroke"}}},{tag:"math",code:"<math><mrow><mi>a</mi><mo>⁢</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><mo>⁢</mo><mi>x</mi><mo>+</mo><mi>c</mi></mrow></math>",drag_helper:"<b>a + b</b>"}]},{name:"Tables",key:"html-tables",els:[{tag:"table/p"},"caption","colgroup/p","col/p","tbody/p","thead/p","tfoot/p","tr/p",{tag:"td",name:"Td",code:"<td>Data</td>",props:{colspan:{name:"Colspan",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"colspan"},rowspan:{name:"Rowspan",type:"slider",slider_def_unit:"",action:"element_attribute",attribute:"rowspan"}}},"th"]},{name:"Forms",key:"html-forms",els:[{tag:"form/p",name:"Form",props:{action:{name:"Action",file_picker:!0,file_picker_no_proxy:!0},method:{name:"Method",type:"select",options:[{key:"post",name:"post"},{key:"get",name:"get"},{key:"dialog",name:"dialog"}]},name:{name:"Name"},target:{name:"Target"}}},"fieldset/p","legend",{tag:"label",props:{for:{name:"For",placeholder:"input id"}}},{tag:"input/e",name:"Input",props:{name:{name:"Name"},type:{name:"Type",type:"select",options:[{key:"text",name:"Text"},{key:"password",name:"Password"},{key:"checkbox",name:"Checkbox"},{key:"radio",name:"Radio"},{key:"number",name:"Number"},{key:"email",name:"Email"},{key:"file",name:"File"},{key:"url",name:"Url"},{key:"search",name:"Search"},{key:"tel",name:"Tel"},{key:"color",name:"Color"},{key:"datetime",name:"Datetime"},{key:"datetime-local",name:"Datetime local"},{key:"date",name:"Date"},{key:"month",name:"Month"},{key:"time",name:"Time"},{key:"week",name:"Week"},{key:"range",name:"range"},{key:"submit",name:"submit"},{key:"hidden",name:"Hidden"}]},checked:{type:"checkbox",name:"Checked",action:"element_attribute",attribute:"checked",value:"checked"},value:{name:"Value"},placeholder:{type:"text",name:"Placeholder",action:"element_attribute",attribute:"placeholder"},size:{name:"Size"},maxlength:{name:"Max length"},required:{type:"checkbox",action:"element_attribute",attribute:"required",name:"Required",value:"true"}}},{tag:"textarea/e",name:"Textarea",props:{name:{name:"Name"},placeholder:{type:"text",name:"Placeholder",action:"element_attribute",attribute:"placeholder"},required:{type:"checkbox",action:"element_attribute",attribute:"required",name:"Required",value:"true"}}},{tag:"button",name:"Button",code:"<button>Click me!</button>",props:{name:{name:"Name"},value:{name:"Value"},buttontype:{name:"Type",type:"select",attribute:"type",show_empty:!0,options:[{key:"submit",name:"Submit"},{key:"button",name:"Button"},{key:"reset",name:"Reset"}]}}},{tag:"select/e",name:"Select",props:{name:{name:"Name"},value:{name:"Value"},multiple:{type:"checkbox",name:"Multiple",action:"element_attribute",attribute:"multiple",value:"multiple"}}},{tag:"option/e",props:{text:{name:"Text",action:"element_html"},value:{name:"Value"}}},"datalist/e","optgroup/e","keygen/e","output/e","progress/e","meter/e"]},{name:"Interactive elements",key:"html-interactive",els:["details","summary","menuitem","menu/p",{tag:"dialog",props:{"dialog.open":{name:"Open",type:"checkbox",action:"element_attribute",attribute:"open",empty_attribute:!0,value:"open",helptext:"Show the dialog. This is useful during development. Otherwise it is recommended to show the dialog with show() and showModal() methods."}},code:`<dialog open>
  <p>Hello!</p>
  <form method="dialog">
    <button>OK</button>
  </form>
</dialog>`}]},{name:"Head elements",key:"html-head",els:["title",{tag:"meta-author",name:"Meta author",code:'<meta name="author" content="name">',selector:'meta[name="author"]'},{tag:"meta-description",name:"Meta description",code:'<meta name="description" content="name">',selector:'meta[name="description"]'},{tag:"meta-keywords",name:"Meta keywords",code:'<meta name="keywords" content="name">',selector:'meta[name="keywords"]'}]},{name:"Extras",skip_lib:!0,key:"html-extras",els:["body",{tag:"tag",name:"Tag",selector_new:function(e){return!0},display_name:"tag",priority:2001}]}],C=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],_=new PgFrameworkLibSection("html.top.layout","Layout"),S=(u.addLibSection(_),new PgFrameworkLibSection("html.top.content","Content")),A=(u.addLibSection(S),new PgFrameworkLibSection("html.top.media","Media")),H=(u.addLibSection(A),{name:"&lt;a&gt; Link",position:0,default_closed:pgf.kids||!1,show_if:function(e){return null===e.closest("head")&&L.indexOf(e.tagName)<0},aaaforce_open:function(e){return f(e)?null:"closed"},fields:{"html.link.create":{type:"button",aaashow_button_in_section_title:function(e){return null===f(e)},name:"Create link",func:function(e,t,n,a,i){i.stopPropagation(),y(e,t,0,a)},helptext:"Create the link around or inside (for headings and paragraphs) the element. Right-click for options.",on_button_context_menu:function(e,t,n,a){return[{type:"header",label:"Create link"},{label:"Around the element",action:function(){y(e,t,0,a,"outside")}},{label:"Inside the element",action:function(){y(e,t,0,a,"inside")}}]},show_if:function(e,t,n){return null===f(t)}},"html.link.href":{name:"Href",type:"text",file_picker:isApp(),file_picker_no_proxy:!0,action:"custom",can_make_change_action:"element_attribute",attribute:"href",can_make_change_element:f,set_value:function(e,t){var n;return null!==t&&t.length&&(!(n=f(e))&&t.length&&(crsaFuncs.addLinkAroundElement(e,!0),n=f(e)),n)&&n.setAttr("href",t),s.dispatchEvent("on_element_link_changed",e.getPage()),t},get_value:function(e){var t=f(e);return t?t.getAttr("href"):null},show_if:function(e,t,n){return null!==f(t)},on_changed:function(e,t,n,a,i,o,r,l,c){}},"html.link.target":{name:"Open in new tab",type:"checkbox",value:"1",action:"custom",can_make_change_action:"element_attribute",attribute:"target",can_make_change_element:f,set_value:function(e,t){var n=f(e);return n&&("1"===t?n.setAttr("target","_blank"):n.removeAttribute("target")),t},get_value:function(e){var t=f(e);return t&&"_blank"===t.getAttr("target")?"1":null},show_if:function(e,t,n){return pgf.kids&&null!==f(t)}},"html.link.target2":{name:"Target",type:"text",action:"custom",options:[{key:"_blank",name:"_blank"},{key:"_parent",name:"_parent"},{key:"_top",name:"_top"}],open_list_on_focus:!0,can_make_change_action:"element_attribute",attribute:"target",can_make_change_element:f,set_value:function(e,t){var n=f(e);return n&&(t?n.setAttr("target",t):n.removeAttribute("target")),t},get_value:function(e){var t=f(e);return t?t.getAttr("target"):null},show_if:function(e,t,n){return!pgf.kids&&null!==f(t)}},"html.link.rel":{name:"Rel",type:"text",action:"custom",can_make_change_action:"element_attribute",attribute:"rel",can_make_change_element:f,set_value:function(e,t){var n=f(e);return n&&(t?n.setAttr("rel",t):n.removeAttribute("rel")),t},get_value:function(e){var t=f(e);return t?t.getAttr("rel"):null},show_if:function(e,t,n){return!pgf.kids&&null!==f(t)}},"html.link.name":{name:"Name",type:"text",action:"custom",open_list_on_focus:!0,can_make_change_action:"element_attribute",can_make_change_element:f,attribute:"name",set_value:function(e,t){var n=f(e);return n&&(t?n.setAttr("name",t):n.removeAttribute("name")),t},get_value:function(e){var t=f(e);return t?t.getAttr("name"):null},show_if:function(e,t,n){return!pgf.kids&&null!==f(t)&&!e["html.link.href"]}},"html.link.label":{name:"Inner HTML",type:"text",action:"custom",open_list_on_focus:!0,can_make_change_action:"element_html",can_make_change_element:f,set_value:function(e,t,n,a,i,o,r){var l=f(e);return l&&(l!==e&&l.contains(e)&&setTimeout(function(){s.selectElement(l),s.showQuickMessage("Selected the parent &lt;a&gt; element."),setTimeout(function(){r.find("input").get(0).focus()},10)},0),l.html(t||"")),t},get_value:function(e){var t=f(e);return t?t.html():null},show_if:function(e,t,n){return!pgf.kids&&null!==f(t)}},"html.link.remove":{type:"button",name:"Remove the link",func:function(e){var t=s.getCollectionForElement(e),a=new PgCollection,i=new PgCollection;t.forEachElement(function(e){var t,n=f(e);n&&(a.add(n),n!==e?i.add(e):1===(t=n.getChildren()).length?i.add(t[0]):i.add(n.parent))}),crsaFuncs.detagElement(a),s.selectedElements.selectCollection(i)},show_if:function(e,t,n){return null!==f(t)}}}}),L=["html","head","body","meta","base","link","br","hr","script","input","select","textarea","option","optgroup","table","tbody","thead","tfoot","tr","colgroup","ul","ol","source"],M=($.each(r,function(e,t){var m=null;a||((m=new PgFrameworkLibSection(t.key+".2",t.name)).closed=!0),t.skip_lib||!n&&m&&u.addLibSection(m),$.each(t.els,function(e,a){var t={},n=(a="object"==typeof a?(t=a).tag:a).split(":"),n=(a=n[0],t.inner=1<n.length?n[1]:null,2<n.length&&!t.name&&(t.name=n[2]),0<=a.indexOf("/p")),i=0<=a.indexOf("/e"),o=(n&&(i=!0),a=a.replace("/e","").replace("/p",""),0<=C.indexOf(a)),r=o?"<"+a+">":"<"+a+">"+a+"</"+a+">",l=n?' class="pg-empty-placeholder"':"",i=(pgf.empty_ph_attribute&&n&&(l=" data-empty-placeholder"),i?"":t.inner||a),o=o?"<"+a+l+">":"<"+a+l+">"+i+"</"+a+">",c=new PgComponentType("html-"+a,t.name?t.name.toLowerCase():a);c.selector=t.selector||a,c.selector_new=t.selector_new||null,c.code=t.code||o,c.preview=r,c.empty_placeholder=t.empty_placeholder||n,c.priority=t.property||2e3,c.parent_selector=t.parent_selector||null,t.drag_helper&&(c.drag_helper=t.drag_helper),t.action_menu&&(c.action_menu=t.action_menu),t.preview_description&&(c.preview_description=t.preview_description),c.display_name=t.display_name||null,t.on_inserted&&(c.on_inserted=t.on_inserted),t.on_deleted&&(c.on_deleted=t.on_deleted),t.file_picker&&(c.file_picker=!0),"tag"===a?d=c:p[a]=c,c.sections={"pg-classes":{position:1,default_closed:pgf.kids||!1,name:"Classes",fields:{rules:{type:"rules",name:null,action:"rules"}}},"pg-info":{position:1,default_closed:pgf.kids||!1,name:"Info",fields:{element_id:{type:"text",name:"Id",action:"custom",options:function(){return s.insight.getIds()},can_make_change_action:"element_id",live_update:!1,get_value:function(e){return e.attr("id")},set_value:function(e,t,n,a,i){var o,r=!1,l=!1;return t?(t&&0<(o=e.closest("body").find("#"+t)).length&&o!=e&&(crsaQuickMessage("Another element already has the id <b>"+t+"</b>. Search the tree to find it.",4e3,!1),r=!0),a&&0<(o=e.closest("body").find("#"+a)).length&&o!=e&&(l=!0),e.attr("id",t),e.isSelector("input,select,textarea")&&(o=e.closest('label[for="'+(a=a||"")+'"]'))&&(1!=(o=0!=(o=0==o.length?e.parent.find('label[for="'+a+'"]'):o).length||r?o:e.closest("body").find('label[for="'+a+'"]')).length||r||l?1<o.length&&crsaQuickMessage("Multiple labels for <b>"+a+"</b> exist. Please update <b>&quot;for&quot;</b> attributes manually.",4e3):(o.attr("for",t),crsaQuickMessage("Label's <b>&quot;for&quot;</b> attribute updated to <b>"+t+"</b>",4e3)))):e.removeAttr("id"),t}},pinegrow_name:{type:"text",name:"Name",action:"element_attribute",attribute:"data-pg-name",placeholder:"name shown in the tree",update_tree:!0},title:{type:"text",name:"Title",action:"element_attribute",attribute:"title"},"pg.inner.html":{type:"text",name:"Inner HTML",action:"custom",can_make_change_action:"element_html",get_value:function(e){return e.html().trim()},set_value:function(e,t){return e.html(null===t?"":t),t},show_if:function(e,t){return t.canHaveChildren()&&!b(t)&&t.html().length<100},helptext:"Edit the inner content of the element."},"pg.inner.html.button":{type:"button",name:"Edit HTML",func:function(e){s.editElementCode(e)},show_if:function(e,t){return t.canHaveChildren()&&(b(t)||100<=t.html().length)},helptext:"Inner HTML field is not displayed because the code is too long. Click on Edit HTML to Edit the HTML code of the element."}}}},t.major&&(c.tags="major"),pgf.kids&&(delete c.sections["pg-info"].fields["pinegrow_name"],delete c.sections["pg-info"].fields["empty_placeholder"]),c.sections["pg.html.link"]=H,t.props&&(c.sections["attributes"]={name:"&lt;"+a+"&gt;"+(c.name!=a?" "+c.name:""),position:0,fields:{}},$.each(t.props,function(e,t){var n=e;t.type||(t.type="text"),t.action||(t.action="element_attribute",t.attribute)||(t.attribute=e,n=a+"."+e),c.sections.attributes.fields[n]=t})),c.sections["pg-attributes"]={name:"Attribute editor",default_closed:!0,position:2,fields:{pg_attributes_editor:{type:"custom",name:"attributes_editor",action:"none",control:pgCreateAttributesEditorControl}}},u.addComponentType(c),m&&m.addComponentType(c)})}),"html-"),r={type:"body",selector:"body",name:"Body",action_menu:{add:[M+"header",M+"main",M+"section",M+"footer",M+"navbar"],on_add:function(e,t,n,a){n.type==M+"header"||n.type==M+"navbar"||n.type!=M+"footer"&&a?e.prepend(t):e.append(t)}}},r=(u.addComponentType(r),p["body"]=r,_.setComponentTypes(k(["div","section","main","header","footer","nav"])),S.setComponentTypes(k(["h1","h2","h3","h4","h5","h6","p","img","picture","a","button","span","ul","ol","li"])),A.setComponentTypes(k(["iframe","video","audio"])),{type:"head",selector:"head",name:"Head"}),_=(u.addComponentType(r),p["head"]=r,{type:"html",selector:"html",name:"Page",sections:{"html.page":{position:0,name:"Page",fields:{"page.title":{type:"text",name:"Title",action:"custom",can_make_change_action:"element_html",can_make_change_element:function(e){return e.findOne("title")},options:function(){return s.insight.getContentsForTag("title")},get_value:function(e){return(e=v(e,"title"))?e.html():null},set_value:function(e,t,n,a,i){e=v(e,"title","<title></title>");return null===t?e&&e.remove():e.html(t),t}},"page.description":{type:"text",name:"Description",action:"custom",can_make_change_action:"element_attribute",attribute:"content",can_make_change_element:function(e){return e.findOneWithAttrValue("name","description","meta")},options:function(){return s.insight.getMetaValuesForName("description")},get_value:function(e){return w(e,"description")},set_value:function(e,t,n,a,i){return x(e,"description",t),t}},"page.keywords":{type:"text",name:"Keywords",action:"custom",can_make_change_action:"element_attribute",attribute:"content",can_make_change_element:function(e){return e.findOneWithAttrValue("name","keywords","meta")},options:function(){return s.insight.getKeywords()},get_value:function(e){return w(e,"keywords")},set_value:function(e,t,n,a,i){return x(e,"keywords",t),t}},"page.author":{type:"text",name:"Author",action:"custom",can_make_change_action:"element_attribute",attribute:"content",can_make_change_element:function(e){return e.findOneWithAttrValue("name","author","meta")},options:function(){return s.insight.getMetaValuesForName("author")},get_value:function(e){return w(e,"author")},set_value:function(e,t,n,a,i){return x(e,"author",t),t}},"page.favicon":{type:"text",name:"Favicon",action:"custom",file_picker:!0,file_picker_no_proxy:!0,can_make_change_action:"element_attribute",attribute:"content",can_make_change_element:function(e){return e.findOneWithAttrValue("name","author","meta")},options:function(){return s.insight.getMetaValuesForName("author")},get_value:function(e){var t=T(e);return t?t.getAttribute("href"):null},set_value:function(e,t,n,a,i){var o,r;return t?((r=T(e,!0)).setAttribute("href",t),o=s.getMimeType(t),r.setAttribute("type",o||"")):(r=T(e))&&r.remove(),t},validate:function(e,t,n){if(n){var a=s.getMimeType(n);if(!a||!a.startsWith("image/"))return"Favicon should be an image."}}}}}}}),S=(u.addComponentType(_),p["html"]=_,u.addTemplateProjectFromResourceFolder("template",null,0,function(e){e.required="normalize.css"!==e.name&&!e.name.endsWith(".html")}),new PgDmDesignProviderForPlainHTML(u));pgDmStore.registerDesignProvider("plainhtml",S),u.on_dm_detect_design_providers=function(e,t){t.push("plainhtml")}})});