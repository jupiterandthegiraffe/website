var PgPanelInputControl=function(d,p,c){var r=$('<div class="panel-group crsa-panel-group" role="tablist" id="'+p+'-accordion" aria-multiselectable="true"></div>').appendTo(d),h=($('<div class="'+p+'"></div>').appendTo(d),this),f=(r.data("last-id",0),this.$container=d,this.clear=function(){r.html("").data("last-id",0)},this.getPanelGroup=function(){return r},this.addPanel=function(a,e,n){var l=$('<div class="panel panel-default '+p+'-panel"></div>').appendTo(r),i=(l.data("index",a),$('<div class="panel-heading"> <h4 class="panel-title"> <a href="#collapse-'+p+"-"+a+'" data-toggle-disable="collapse" data-parent="#'+p+'-accordion" class="pg-collapse collapsed">'+c+' <span class="title-number">'+e+'</span> <i class="icon-right closed"></i> <i class="icon-down opened"></i> </a> </h4> </div>').appendTo(l)),t=i.find("a.pg-collapse"),o=$('<a href="#"><i class="icon-bin"></i></a>').appendTo(i.find("> h4")),s=$('<div class="panel-collapse collapse" id="collapse-'+p+"-"+a+'"></div>').appendTo(l),s=$('<div class="panel-body"></div>').appendTo(s);return"function"!=typeof this.onAdd||n||this.onAdd(s,a),t.on("click",function(a){a.preventDefault();var l=!1,i=d.find(this.getAttribute("href"));d.find(".collapse.in").each(function(a,e){var n=$(e);n.collapse("hide"),f(n,!1),e==i.get(0)&&(l=!0)}),l||(i.collapse("show"),f(i,!0))}),o.on("click",function(a){a.preventDefault();var e=$(this).closest("."+p+"-panel"),n=(e.closest(".panel-group").data("obj"),e.data("index")),n=("function"==typeof h.onDelete&&h.onDelete(n),e.parent());e.remove(),n.children().each(function(a,e){$(e).find("> .panel-heading > .panel-title > a").find("> .title-number").html(a+1)})}),{$panel:l,$header:i,$body:s,$collapse_link:t}},function(a,e){var n=a.siblings(".panel-heading").find(".pg-collapse");e?n.addClass("in"):n.removeClass("in")})};