var PgStartScreenView=function(){const t=this;var n=$('<div class="pg-start-screen"><div class="left"></div><div class="right"></div></div>'),e=n.find(".right"),o=($('<ul class="icons">                <li class="menu-file-template remove-in-cm"><a href="#"><i class="icon icon-281"></i><b>'+"New project"+'</b></a></li>                </ul><hr class="pgf_edit_html">'),$('<ul class="icons">'+"</ul>").appendTo(e),$('<div class="info"><div class="info-inner pg-lessons-chapter"></div></div>').appendTo(e)),e=("1"===pinegrow.getSetting("show-welcome-section","1")&&!pgf.use_browser_storage||(pg$Hide(o),n.addClass("no-info")),$(`<div class="pg-start-screen-tabs">
<!--<ul class="pg-start-screen-tabs-tabs">
   <li id="start-tab-create">${pgf.start_tab_create}</li> 
   <li id="start-tab-learn">${pgf.start_tab_learn}</li>
</ul>-->
<div class="pg-start-screen-tabs-content">
</div>
</div>`).appendTo(e)),r=e.find(".pg-start-screen-tabs-content"),i=e.find("#start-tab-learn"),s=e.find("#start-tab-create"),c=(addTooltip(i,pgf.start_tab_learn_tooltip),addTooltip(s,pgf.start_tab_create_tooltip),$(`<div class="lessons">
<div class="pg-start-screen-tab-content-header"><h2>Interactive tutorials</h2>
<button class="back-to-projects"><i class="icon icon-left"></i> Go back to your projects</button>
</div>
<ul></ul></div>`).appendTo(r)),p=$(`<div class="projects" style="min-height: 80vh;">
<div class="pg-start-screen-tab-content-header"><h2>${pgf.your_projects_label}</h2>
<button class="new-project"><i class="icon icon-plus"></i> New project</button>
<button class="open"><i class="icon icon-project"></i> ${isApp()?"Open...":"Open local"}</button>
<button class="tutorials">Interactive tutorials <i class="icon icon-right"></i></button>
</div>
<div class="pg-lessons-chapter" style="margin-top: 40px;"><ul class="my-projects"></ul><ul class="public-projects"></ul></div>`).appendTo(r),e=(addTooltip(p.find("button.new-project"),"Create a new project or a page.").on("click",function(e){isApp()?pinegrow.newProjectFromTemplate():pinegrow.backend.canCreateProject()&&pinegrow.tutorialsManager.selectNewProjectTemplate()}),isApp()?addTooltip(p.find("button.open"),"VUE"===pgf.product?"Open a project folder.":"Open a project folder, a single HTML document or a remote URL.").on("click",function(e){var t,n;return"VUE"===pgf.product?pinegrow.openProjectBySelectingFolder():(t=$(this),(n=[{type:"header",label:"Open"}]).push({label:"Project...",helptext:"Select and open a folder that contains the project.",action:function(){pinegrow.openProjectBySelectingFolder()}}),n.push({label:"File...",helptext:"Select and open a HTML file, without opening its folder as a project.",action:function(){pinegrow.selectAndOpenFile()}}),n.push({label:"URL...",helptext:"Open a remote URL.",action:function(){pinegrow.showOpenUrlDialogAndOpenPage()}}),new CrsaContextMenu(n,t).showAt(e.pageX,e.pageY)),!1}):pgf.use_filesystem_api?addTooltip(p.find("button.open"),"Open a local project on your computer.").on("click",function(e){var t;pinegrow.currentUser.canUseLocalProjects()?(t=pinegrow.backend.getManagerForProject("local--"))&&t.selectAndOpenProject():pinegrow.currentUser.onlyForProNotice("",!0)}):p.find("button.open").hide(),addTooltip(p.find("button.tutorials"),"Learn about Pinegrow and web development with fun interactive tutorials.").on("click",function(e){e.preventDefault(),l("learn")}),pgf.has_interactive_tutorials||p.find("button.tutorials").remove(),addTooltip(c.find("button.back-to-projects"),"Go back to editing and creating your projects.").on("click",function(e){e.preventDefault(),l("create")}),new PgSearchBox({placeholder:"Filter projects",placeholder_active:""})),a=(e.$element.appendTo(p.find(".pg-start-screen-tab-content-header")),""),r=(this.filterProjects=function(){var t=a.toLowerCase();p.find(".lesson-item").each(function(){var e=this.querySelector(".project-name")?.innerText.toLowerCase();!e||!t||0<=e.indexOf(t)?pgShow(this,"block"):pgHide(this)})},e.onSearch=function(e){a=e||"",t.filterProjects()},$('<a href="#" class="pg-start-screen-settings"><i class="icon icon-tools"></i></a>')),l=(pgf.use_browser_storage||r.appendTo(n),r.on("click",function(e){var t=[{label:"Show the Welcome section",check:"1"===pinegrow.getSetting("show-welcome-section","1"),action:function(){var e;((e=!("1"===pinegrow.getSetting("show-welcome-section","1")))?pg$Show:pg$Hide)(o),pinegrow.setSetting("show-welcome-section",e?"1":"0"),e?n.removeClass("no-info"):n.addClass("no-info")}}];return isApp()&&(t.push({type:"divider"}),t.push({label:"Clear the recent list",action:function(){pinegrow.recentFiles.removeAll()}}),t.push({label:"Show thumbnails",check:function(){return pinegrow.thumbnailMaker.enabled},action:function(){pinegrow.thumbnailMaker.setEnabled(!pinegrow.thumbnailMaker.enabled),pinegrow.showMode("Show and save thumbnails",pinegrow.thumbnailMaker.enabled),pinegrow.recentFiles.update()}})),new CrsaContextMenu(t,$(this)).showForElement($(this),$("#pg-start-screen-container")),!1}),addTooltip(r,"Start screen settings"),function(e,t){var n,o,r,a;"learn"===e?(n=p,o=c,r=i,a=s):(o=p,n=c,a=i,r=s),pg$Show(o),pg$Hide(n),a.removeClass("active"),r.addClass("active"),t||pinegrow.setSetting("online-start-screen-active-tab",e)}),e=(l(pinegrow.getSetting("online-start-screen-active-tab","create"),!0),i.on("click",function(e){e.preventDefault(),l("learn")}),s.on("click",function(e){e.preventDefault(),l("create")}),(pgf.kids?$(`<footer>HTML Planet for Kids &copy; <a href="https://pinegrow.com" target="_blank">Pinegrow Pte. Ltd.</a> - <a href="https://htmlplanetforkids.com/privacy-policy.html" target="_blank">Privacy policy</a> - <a href="https://htmlplanetforkids.com/terms-of-use.html" target="_blank">Terms of use</a></footer>`):$(`<footer>${pgf.product_name} ${crsaGetVersionName()} &copy; <a href="https://pinegrow.com" target="_blank">Pinegrow Pte. Ltd.</a></footer>`)).appendTo(n),updateProductInfoIn$Element(n),this.view=new PgUIView(n));e.onResize=function(){},e.onDestroy=function(){}},PgStartScreenManager=function(){function e(){d(),window.parent&&window.parent.postMessage({action:"pgProjectOpen"},"*");var e=pinegrow.getCurrentProject();e&&!isApp()&&(p().title=(e.name||crsaGetNameFromUrl(e.url))+" - Pinegrow")}function t(){0===pinegrow.getAllPages().length&&(null===pinegrow.getCurrentProject()?(l(),window.parent&&window.parent.postMessage({action:"pgProjectClosed"},"*"),pinegrow.dispatchEvent("on_project_or_all_pages_closed",null)):pinegrow.dispatchEvent("on_all_pages_in_project_closed",null))}var n=new PgStartScreenView,o=$('<div id="pg-start-screen-container"></div>').appendTo($("body")),r=$('<div class="version-info"></div>').hide(),a=!1,i=0,s="WPPLUGIN"===pgf.product,c=$("body"),p=function(){var e=document;try{window.top&&(e=window.top.document)}catch(e){}return e},l=function(){a||(s&&pinegrow.setWorkspaceTheme("light",!0),pinegrow.recentFiles.populate(),a=!0,o.show(),r.appendTo(o),o.append(n.view.get$Element()),n.view.get$Element().scrollTop(i),pgQuickWindowManager.closeAll(),$(".menu-open-library,.menu-current-project,.menu-project-menu").hide(),$(".navbar-brand .logo-name").show(),pinegrow.buttonToolbarTopCenter&&pinegrow.buttonToolbarTopCenter.hide(),c.addClass("on-start-screen"),isApp())||(p().title="Projects - Pinegrow")},d=function(){a&&(i=n.view.get$Element().scrollTop(),o.hide(),a=!1,pinegrow.buttonToolbarTopCenter&&(pinegrow.buttonToolbarTopCenter.show(),pinegrow.buttonToolbarTopCenter.customReposition()),$(".menu-open-library,.menu-current-project,.menu-project-menu").show(),$(".navbar-brand .logo-name").hide(),s&&pinegrow.setWorkspaceTheme(pinegrow.getSetting("workspace-theme","light"),!0),c.removeClass("on-start-screen"))};l(),window.parent&&window.parent.postMessage({action:"pgAppLoaded"},"*");this.isVisible=function(){return a},this.projectsWereUpdated=function(){n.filterProjects()},pinegrow.addEventHandler("on_page_view_started_loading",e),pinegrow.addEventHandler("on_project_loaded",e),pinegrow.addEventHandler("on_project_closed",t),pinegrow.addEventHandler("on_page_closed",t),$("body").on("crsa-recent-files-item-clicked",d)};