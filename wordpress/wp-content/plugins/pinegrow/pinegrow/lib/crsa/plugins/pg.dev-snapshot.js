$(function(){$("body").one("pinegrow-ready",function(e,i){var t=new PgFramework("pg.dev-snapshot","PG Dev Snapshot"),s=(i.addFramework(t),t.default=!0,t.show_in_manager=!1,require("fs")),t=(require("path"),$('<a href="#" class="news-box-button"><i class="fa fa-camera"></i></a>'));t.appendTo($(".news-button-container")),t.on("click",function(e){e.preventDefault();for(var r="<!DOCTYPE html>\n<html>"+$("html").html()+"</html>",t=new pgParser,n=(t.assignIds=!1,t.parse(r),t.rootNode.find("script")),o=0;o<n.length;o++)n[o].remove();for(var a=t.rootNode.find("iframe"),o=0;o<a.length;o++)a[o].setAttr("src",i.getOriginalUrl(a[o].getAttr("src")));t.rootNode.findOne("head").prepend(pgCreateNodeFromHtml('<base href="'+window.location.href.replace("edit.html","")+'">')),r=t.rootNode.toStringOriginal(!0,i.getFormatHtmlOptions()),crsaChooseFile(function(e,t){s.writeFileSync(t,r,{encoding:"utf8"}),i.showQuickMessage("UI snap saved!")},"snap.html")})})});